(function(){"use strict";var e={38:function(e,a,t){var l=t(9963),o=t(6252),n=t(7102),s=t(8947),i=t(7810),r=t(9398),c=t(6024),d=t(1417),p=t(3577);const u={slot:"topbar",class:"topbar-container"},m={slot:"main",class:"content-container"},f=(0,o._)("div",{slot:"left",id:"toolbar-left"},null,-1),h=(0,o._)("div",{slot:"right",id:"toolbar-right"},null,-1),b={slot:"sidebar",class:"sidebar-container"};function g(e,a,t,l,n,s){const i=(0,o.up)("init"),r=(0,o.up)("record-init"),c=(0,o.up)("activity-init"),d=(0,o.up)("topbar"),g=(0,o.up)("oak-toolbar"),v=(0,o.up)("router-view"),k=(0,o.up)("sidebar"),w=(0,o.up)("oak-app-layout");return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)(e.getProfile.theme)},[(0,o.Wm)(i),(0,o.Wm)(r),(0,o.Wm)(c),(0,o.Wm)(w,{topbarVariant:"sticky",topbarColor:"custom",topbarElevation:"0",sidebarElevation:"0",sidebarVariant:"side",sidebarColor:"global",sidebarOutlined:"true"},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o.Wm)(d)]),(0,o._)("div",m,[(0,o.Wm)(g,{fillColor:"container",paddingHorizontal:"0",paddingVertical:"0"},{default:(0,o.w5)((()=>[f,h])),_:1}),((0,o.wg)(),(0,o.j4)(v,{key:e.$route.fullPath}))]),(0,o._)("div",b,[(0,o.Wm)(k)])])),_:1})],2)}var v=t(3907);const k={class:"sidebar"},w={class:"sidebar__container"};function y(e,a,t,l,n,s){const i=(0,o.up)("Header"),r=(0,o.up)("schema-nav"),c=(0,o.up)("static-nav");return(0,o.wg)(),(0,o.iD)("div",k,[(0,o.Wm)(i),(0,o._)("div",w,[(0,o.Wm)(r),(0,o.Wm)(c)])])}const _={class:"sidebar-header"};function C(e,a,t,l,n,s){const i=(0,o.up)("logo");return(0,o.wg)(),(0,o.iD)("div",_,[(0,o.Wm)(i)])}var D=t.p+"img/janus_white.df3ce9ff.svg",S=t.p+"img/janus_black.e095f4cd.svg";const I={key:0,class:"logo",src:D,alt:"Janus logo"},H={key:1,class:"logo",src:S,alt:"Janus logo"};function R(e,a,t,l,n,s){return"theme_dark"===e.getProfile.theme?((0,o.wg)(),(0,o.iD)("img",I)):((0,o.wg)(),(0,o.iD)("img",H))}var E={name:"Logo",computed:{...(0,v.Se)(["getProfile"])}},T=t(3744);const x=(0,T.Z)(E,[["render",R],["__scopeId","data-v-4e049bbc"]]);var $=x,q={name:"SidebarHeader",components:{Logo:$}};const F=(0,T.Z)(q,[["render",C]]);var A=F;const j={class:"nav-section"},O=(0,o._)("div",{class:"nav-section__title"},[(0,o._)("div",null,"Schema explorer")],-1);function N(e,a,t,l,n,s){const i=(0,o.up)("table-nav");return(0,o.wg)(),(0,o.iD)("div",j,[O,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.getSchema,(e=>((0,o.wg)(),(0,o.j4)(i,{key:e.id,schemaRef:e.reference},null,8,["schemaRef"])))),128))])}const Z={name:"administration",groupName:"sidebar-nav"},B={slot:"header"},L={slot:"main"},G=["active","onButtonClick"];function P(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("oak-nav-group",Z,[(0,o._)("div",B,[(0,o._)("div",null,(0,p.zw)(s.currentSchema?.name),1)]),(0,o._)("div",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.tablesInCurrentSchema,(e=>((0,o.wg)(),(0,o.iD)("oak-nav-element",{level:"2",active:e.reference===s.currentTable,onButtonClick:a=>s.goToTable(e),key:e.id},(0,p.zw)(e.name),41,G)))),128))])])}var W={name:"TableNav",data(){return{isExpanded:!1}},props:{schemaRef:String},computed:{...(0,v.Se)(["getSchemaByReference","getTable","getProfile","schemaRefToId"]),currentSchema(){return this.getSchemaByReference(this.schemaRef)},tablesInCurrentSchema(){return this.getTable?.filter((e=>e.schemaId===this.schemaRefToId(this.schemaRef)))},currentTable(){return this.$route.params.tableRef}},methods:{handlePanelExpandedEvent(){this.isExpanded=!0},handlePanelCollapsedEvent(){this.isExpanded=!1},goToTable(e){this.$router.push(`/${this.getProfile.space}/schema/${this.schemaRef}/table/${e.reference}`)}}};const V=(0,T.Z)(W,[["render",P]]);var z=V,U={components:{TableNav:z},name:"SchemaNav",data(){return{isExpanded:!1}},computed:{...(0,v.Se)(["getSchema"])},methods:{handlePanelExpandedEvent(){this.isExpanded=!0},handlePanelCollapsedEvent(){this.isExpanded=!1},goToSchema(e){console.log(e)}}};const M=(0,T.Z)(U,[["render",N]]);var K=M;const Y={class:"nav-section"},Q=(0,o._)("div",{class:"nav-section__title"},[(0,o._)("div",null,"Help and Support")],-1);function X(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",Y,[Q,(0,o._)("oak-nav-element",{level:"1",onButtonClick:a[0]||(a[0]=a=>e.goToTable(e.item))},"User guide",32),(0,o._)("oak-nav-element",{level:"1",onButtonClick:a[1]||(a[1]=a=>e.goToTable(e.item))},"Customer service",32),(0,o._)("oak-nav-element",{level:"1",onButtonClick:a[2]||(a[2]=a=>e.goToTable(e.item))},"Terms and conditions",32),(0,o._)("oak-nav-element",{level:"1",onButtonClick:a[3]||(a[3]=a=>e.goToTable(e.item))},"Privacy policy",32)])}var J={name:"StaticNav",data(){return{isExpanded:!1}},computed:{...(0,v.Se)(["getSchema"])},methods:{handlePanelExpandedEvent(){this.isExpanded=!0},handlePanelCollapsedEvent(){this.isExpanded=!1},goToSchema(e){console.log(e)}}};const ee=(0,T.Z)(J,[["render",X]]);var ae=ee;(0,v.Se)(["getProfile","getSchema"]);const te={class:"user-account"};function le(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",te,(0,p.zw)(`${e.getProfile.auth.given_name} ${e.getProfile.auth.family_name}`),1)}var oe={name:"UserAccount",computed:{...(0,v.Se)(["getProfile"])}};const ne=(0,T.Z)(oe,[["render",le]]);var se=ne,ie={name:"Sidebar",components:{Header:A,SchemaNav:K,StaticNav:ae},computed:{...(0,v.Se)(["getProfile"])},methods:{...(0,v.nv)(["removeAuth"]),logout(){this.removeAuth(this.$cookies)}}};const re=(0,T.Z)(ie,[["render",y]]);var ce=re;const de={class:"topbar"},pe={class:"topbar__left"},ue={class:"topbar__right"},me=(0,o._)("div",{id:"topbar-right"},null,-1);function fe(e,a,t,l,n,s){const i=(0,o.up)("bookmark"),r=(0,o.up)("global-search"),c=(0,o.up)("dark-mode-switch"),d=(0,o.up)("user-account");return(0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("div",pe,[(0,o.Wm)(i,{class:"desktop-only"})]),(0,o._)("div",ue,[(0,o.Wm)(r,{class:"desktop-only"}),(0,o.Wm)(c),me,(0,o.Wm)(d)])])}const he={class:"theme"};function be(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",he,["theme_dark"===e.getProfile.theme?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"action-icon",onClick:a[0]||(a[0]=a=>e.setTheme("theme_light"))},[(0,o.Wm)(i,{icon:["fas","sun"]})])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"action-icon",onClick:a[1]||(a[1]=a=>e.setTheme("theme_dark"))},[(0,o.Wm)(i,{icon:["fas","moon"]})]))])}var ge={name:"DarkModeSwitch",computed:{...(0,v.Se)(["getProfile"])},methods:{...(0,v.nv)(["setTheme"])}};const ve=(0,T.Z)(ge,[["render",be],["__scopeId","data-v-087b80aa"]]);var ke=ve;const we={class:"bookmark"},ye={class:"bookmark__link"},_e=(0,o._)("div",{class:"bookmark__link__name__text"},"Home",-1),Ce={key:0,class:"bookmark__arrow"},De={key:1,class:"bookmark__link"},Se={class:"bookmark__link__name__text"},Ie={key:2,class:"bookmark__arrow"},He={key:3,class:"bookmark__link"},Re={class:"bookmark__link__name__text"},Ee={key:4,class:"bookmark__arrow"},Te={key:5,class:"bookmark__link"},xe={class:"bookmark__link__name leaf-node"},$e={class:"bookmark__link__name__text"};function qe(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",we,[(0,o._)("div",ye,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=(...e)=>s.goToHome&&s.goToHome(...e))},[(0,o._)("div",{class:(0,p.C_)(["bookmark__link__name",s.currentSchema?"":"leaf-node"])},[(0,o.Wm)(i,{icon:["fas","home"]}),_e],2)],32)]),s.currentSchema?((0,o.wg)(),(0,o.iD)("div",Ce,[(0,o.Wm)(i,{icon:["fas","chevron-right"]})])):(0,o.kq)("",!0),s.currentSchema?((0,o.wg)(),(0,o.iD)("div",De,[(0,o._)("oak-click-area",{onClickAreaClick:a[1]||(a[1]=(...e)=>s.goToSchema&&s.goToSchema(...e))},[(0,o._)("div",{class:(0,p.C_)(["bookmark__link__name",s.currentTable?"":"leaf-node"])},[(0,o.Wm)(i,{icon:["fas","server"]}),(0,o._)("div",Se,(0,p.zw)(s.currentSchema?.reference),1)],2)],32)])):(0,o.kq)("",!0),s.currentTable?((0,o.wg)(),(0,o.iD)("div",Ie,[(0,o.Wm)(i,{icon:["fas","chevron-right"]})])):(0,o.kq)("",!0),s.currentTable?((0,o.wg)(),(0,o.iD)("div",He,[(0,o._)("oak-click-area",{onClickAreaClick:a[2]||(a[2]=(...e)=>s.goToTable&&s.goToTable(...e))},[(0,o._)("div",{class:(0,p.C_)(["bookmark__link__name",s.currentRecord?"":"leaf-node"])},[(0,o.Wm)(i,{icon:["fas","table"]}),(0,o._)("div",Re,(0,p.zw)(s.currentTable?.reference),1)],2)],32)])):(0,o.kq)("",!0),s.currentRecord?((0,o.wg)(),(0,o.iD)("div",Ee,[(0,o.Wm)(i,{icon:["fas","chevron-right"]})])):(0,o.kq)("",!0),s.currentRecord?((0,o.wg)(),(0,o.iD)("div",Te,[(0,o._)("oak-click-area",{onClickAreaClick:a[3]||(a[3]=(...e)=>s.goToRecord&&s.goToRecord(...e))},[(0,o._)("div",xe,[(0,o.Wm)(i,{icon:["fas","file-alt"]}),(0,o._)("div",$e,(0,p.zw)(s.currentRecord),1)])],32)])):(0,o.kq)("",!0)])}var Fe={name:"Bookmark",computed:{...(0,v.Se)(["getProfile","getSchema","getTableByReference"]),currentSchema(){return this.getSchema?.find((e=>e.reference===this.$route.params.schemaRef))},currentTable(){return this.getTableByReference(this.$route.params.tableRef)},currentRecord(){return this.$route.params.recordRef}},methods:{goToHome(){this.$router.push(`/${this.getProfile.space}/schema`)},goToSchema(){this.$router.push(`/${this.getProfile.space}/schema/${this.getProfile.schema}`)},goToTable(){this.$router.push(`/${this.getProfile.space}/schema/${this.getProfile.schema}/table/${this.$route.params.tableRef}`)},goToRecord(){this.$router.push(`/${this.getProfile.space}/schema/${this.getProfile.schema}/table/${this.$route.params.tableRef}/record/${this.$route.params.recordRef}`)}}};const Ae=(0,T.Z)(Fe,[["render",qe]]);var je=Ae;const Oe={class:"global-search desktop-only"},Ne=["optionsAsKeyValue","value"],Ze={class:"global-jump mobile-only"},Be={buttonSize:"xsmall",buttonTheme:"info"},Le={slot:"menu-label"},Ge={slot:"menu-popup"},Pe=["onMenuClick"];function We(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Oe,[(0,o._)("oak-select",{size:"xsmall",fill:"container",placeholder:"Quick Navigation",autocomplete:"",optionsAsKeyValue:e.globalList,onSelectChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),value:e.currentLink},null,40,Ne)]),(0,o._)("div",Ze,[(0,o._)("oak-menu",Be,[(0,o._)("div",Le,[(0,o.Wm)(i,{icon:["fas","search"]})]),(0,o._)("div",Ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.globalList,(a=>((0,o.wg)(),(0,o.iD)("oak-menu-item",{key:a.id,onMenuClick:t=>e.handleChange({detail:{value:a.id}})},(0,p.zw)(a.value),41,Pe)))),128))])])])],64)}var Ve=t(2119),ze=(0,o.aZ)({name:"GlobalSearch",setup(){const e=(0,v.oR)(),a=(0,Ve.yj)(),t=(0,o.Fl)((()=>e.getters.getProfile)),l=(0,o.Fl)((()=>e.getters.getTable.map((a=>({id:`${e.getters.schemaIdToRef(a.schemaId)}:${a.reference}`,value:`${a.name} (table)`}))))),n=(0,o.Fl)((()=>e.getters.getSchema.map((e=>({id:`${e.reference}`,value:`${e.name} (schema)`}))))),s=(0,o.Fl)((()=>{let e="";return a.params.schemaRef&&(e+=a.params.schemaRef),a.params.tableRef&&(e+=`:${a.params.tableRef}`),e})),i=(0,o.Fl)((()=>[...n?.value||[],...l?.value||[]]));return{profile:t,globalList:i,currentLink:s}},methods:{handleChange(e){const a=e.detail.value.split(":");1===a.length?this.$router.push({name:"ListTableView",params:{space:this.profile?.space,schemaRef:a[0]}}):this.$router.push({name:"ListRecordView",params:{space:this.profile?.space,schemaRef:a[0],tableRef:a[1]}})}}});const Ue=(0,T.Z)(ze,[["render",We],["__scopeId","data-v-238b2c67"]]);var Me=Ue,Ke={name:"Topbar",components:{DarkModeSwitch:ke,Bookmark:je,GlobalSearch:Me,UserAccount:se},computed:{...(0,v.Se)(["getProfile"])},methods:{...(0,v.nv)(["removeAuth"]),logout(){this.removeAuth(this.$cookies)}}};const Ye=(0,T.Z)(Ke,[["render",fe]]);var Qe=Ye,Xe=t(9233);const Je=new Xe.X({isAuth:!1}),ea={theme:"theme_dark",space:"",schema:"",table:"",auth:{},sidebar:!0},aa={getProfile:e=>e},ta={setTheme({commit:e},a){e("UPDATE_PROFILE",{...ea,theme:a})},setSpace({commit:e},a){e("UPDATE_PROFILE",{...ea,space:a})},setSchema({commit:e},a){e("UPDATE_PROFILE",{...ea,schema:a})},setTable({commit:e},a){e("UPDATE_PROFILE",{...ea,table:a})},addAuth({commit:e,dispatch:a},{auth:t}){e("UPDATE_PROFILE",{...ea,auth:t}),Je.next({isAuth:!0})},removeAuth({commit:e},a){Je.next({isAuth:!1}),a.remove(`janus_${ea.space}-access_token`),a.remove(`janus_${ea.space}-refresh_token`),e("UPDATE_PROFILE",{...ea,auth:{}})},toggleSidebar({commit:e}){e("UPDATE_PROFILE",{...ea,sidebar:!ea.sidebar})}},la={UPDATE_PROFILE:(e,a)=>{e.theme=a.theme,e.schema=a.schema,e.table=a.table,e.space=a.space,e.auth=a.auth,e.sidebar=a.sidebar}};var oa={state:ea,getters:aa,actions:ta,mutations:la};t(6699);const na={data:[],lookup:{},reverseLookup:{}},sa=(e,a=!1)=>{const t={};return e.forEach((e=>{t[a?e.id:e.reference]=a?e.reference:e.id})),t},ia={getSchema:e=>e.data,getSchemaLookup:e=>e.lookup,getSchemaReverseLookup:e=>e.reverseLookup,getSchemaById:e=>a=>e.data.find((e=>e.id===a)),getSchemaByReference:e=>a=>e.data.find((e=>e.reference===a)),schemaRefToId:e=>a=>e.lookup[a],schemaIdToRef:e=>a=>e.reverseLookup[a]},ra={refreshSchema({commit:e},a){e("REFRESH_SCHEMA",a)},appendSchema({commit:e},a){e("APPEND_SCHEMA",a)},deleteSchema({commit:e},a){e("DELETE_SCHEMA",a)}},ca={REFRESH_SCHEMA:(e,a)=>{e.data=a,e.lookup=sa(e.data),e.reverseLookup=sa(e.data,!0)},APPEND_SCHEMA:(e,a)=>{const t=[...e.data];let l=-1;t.forEach(((e,t)=>{e.id===a.id&&(l=t)})),l>=0?t[l]=a:t.push(a),e.data=t,e.lookup=sa(e.data),e.reverseLookup=sa(e.data,!0)},DELETE_SCHEMA:(e,a)=>{e.data=e.data.filter((e=>!a.includes(e.id))),e.lookup=sa(e.data),e.reverseLookup=sa(e.data,!0)}};var da={state:na,getters:ia,actions:ra,mutations:ca};const pa={data:[],lookup:{},reverseLookup:{}},ua=(e,a=!1)=>{const t={};return e.forEach((e=>{t[a?e.id:e.reference]=a?e.reference:e.id})),t},ma={getTable:e=>e.data,getTableLookup:e=>e.lookup,getTableReverseLookup:e=>e.reverseLookup,getTableById:e=>a=>e.data.find((e=>e.id===a)),getTableByReference:e=>a=>e.data.find((e=>e.reference===a)),tableRefToId:e=>a=>e.lookup[a],tableIdToRef:e=>a=>e.reverseLookup[a],getTableBySchema:e=>a=>e.data.filter((e=>e.schemaId===a)),getTableInCurrentSchema:(e,a)=>e.data.filter((e=>a.schemaIdToRef(e.schemaId)===a.getProfile.schema))},fa={refreshTable({commit:e},a){e("REFRESH_TABLE",a)},appendTable({commit:e},a){e("APPEND_TABLE",a)},deleteTable({commit:e},a){e("DELETE_TABLE",a)}},ha={REFRESH_TABLE:(e,a)=>{e.data=a,e.lookup=ua(e.data),e.reverseLookup=ua(e.data,!0)},APPEND_TABLE:(e,a)=>{const t=[...e.data];let l=-1;t.forEach(((e,t)=>{e.id===a.id&&(l=t)})),l>=0?t[l]=a:t.push(a),e.data=t,e.lookup=ua(e.data),e.reverseLookup=ua(e.data,!0)},DELETE_TABLE:(e,a)=>{e.data=e.data.filter((e=>!a.includes(e.id))),e.lookup=ua(e.data),e.reverseLookup=ua(e.data,!0)}};var ba={state:pa,getters:ma,actions:fa,mutations:ha};const ga={data:[]},va={getColumnByTable:e=>a=>e.data.filter((e=>e.tableId===a)),getColumn:e=>e.data},ka={refreshColumn({commit:e},a){e("REFRESH_COLUMN",a)},replaceColumnByTableId({commit:e},{payload:a,tableId:t}){e("REPLACE_COLUMN_BY_TABLE",{payload:a,tableId:t})}},wa={REFRESH_COLUMN:(e,a)=>{e.data=a},REPLACE_COLUMN_BY_TABLE:(e,{payload:a,tableId:t})=>{e.data=[...e.data.filter((e=>e.tableId!==t)),...a]}};var ya={state:ga,getters:va,actions:ka,mutations:wa};const _a={data:[]},Ca={getFilterByTable:e=>a=>e.data.filter((e=>e.tableId===a))},Da={refreshFilter({commit:e},a){e("REFRESH_FILTER",a)}},Sa={REFRESH_FILTER:(e,a)=>{e.data=a}};var Ia={state:_a,getters:Ca,actions:Da,mutations:Sa},Ha=t(6486);const Ra={data:[],parameter:{tableId:"",pageNo:0,pageSize:15,filter:null,quickFilter:null,hasMore:!0},secondaryData:[],secondaryParameter:{tableId:"",pageNo:0,pageSize:15,filter:null,quickFilter:null,hasMore:!0}},Ea={getRecord:e=>(a=!1)=>a?e.secondaryData:e.data,getRecordParameter:e=>(a=!1)=>a?e.secondaryParameter:e.parameter},Ta={refreshRecordParameter({commit:e},{payload:a,secondary:t}){e(t?"REFRESH_SECONDARY_RECORD_PARAMETER":"REFRESH_RECORD_PARAMETER",a)},refreshRecord({commit:e},{payload:a,secondary:t}){e(t?"REFRESH_SECONDARY_RECORD":"REFRESH_RECORD",a)},appendRecord({commit:e},{payload:a,secondary:t}){e(t?"APPEND_SECONDARY_RECORD":"APPEND_RECORD",a)},editRecord({commit:e},a){e("EDIT_RECORD",a)},deleteRecord({commit:e},a){e("DELETE_RECORD",a)}},xa={REFRESH_RECORD:(e,a)=>{e.data=a},REFRESH_RECORD_PARAMETER:(e,a)=>{e.parameter={...e.parameter,...a}},REFRESH_SECONDARY_RECORD:(e,a)=>{e.secondaryData=a},REFRESH_SECONDARY_RECORD_PARAMETER:(e,a)=>{e.secondaryParameter={...e.secondaryParameter,...a}},APPEND_RECORD:(e,a)=>{e.data=(0,Ha.uniqBy)([...e.data,...a],"id")},APPEND_SECONDARY_RECORD:(e,a)=>{e.secondaryData=(0,Ha.uniqBy)([...e.secondaryData,...a],"id")},EDIT_RECORD:(e,a)=>{const t=[...e.data];let l=-1;t.forEach(((e,t)=>{e.id===a.id&&(l=t)})),l>=0?t[l]=a:t.push(a),e.data=t},DELETE_RECORD:(e,a)=>{e.data=e.data.filter((e=>!a.includes(e.id)))}};var $a={state:Ra,getters:Ea,actions:Ta,mutations:xa};const qa={data:[]},Fa={getSpace:e=>e.data},Aa={refreshSpace({commit:e},a){e("REFRESH_SPACE",a)}},ja={REFRESH_SPACE:(e,a)=>{e.data=a}};var Oa={state:qa,getters:Fa,actions:Aa,mutations:ja};const Na={data:[]},Za={getUser:e=>e.data},Ba={refreshUser({commit:e},a){e("REFRESH_USER",a)}},La={REFRESH_USER:(e,a)=>{e.data=a}};var Ga={state:Na,getters:Za,actions:Ba,mutations:La};const Pa={data:[]},Wa={getActivity:e=>(a,t)=>e.data},Va={refreshActivity({commit:e},a){e("REFRESH_ACTIVITY",a)}},za={REFRESH_ACTIVITY:(e,a)=>{e.data=a}};var Ua={state:Pa,getters:Wa,actions:Va,mutations:za};const Ma={data:[]},Ka={getIcon:e=>e.data},Ya={refreshIcon({commit:e},a){e("REFRESH_ICON",a)}},Qa={REFRESH_ICON:(e,a)=>{e.data=a}};var Xa={state:Ma,getters:Ka,actions:Ya,mutations:Qa},Ja=(0,v.MT)({state:{},mutations:{},actions:{},modules:{profile:oa,schema:da,table:ba,column:ya,filter:Ia,record:$a,space:Oa,user:Ga,activity:Ua,faicon:Xa}}),et=t(9989);const at=et.ZP`
  query allSchema {
    allSchema {
      id
      reference
      name
      description
    }
  }
`,tt=new Xe.X({reference:null}),lt=et.ZP`
  query allSchemaTable {
    allSchemaTable {
      id
      schemaId
      reference
      name
      description
    }
  }
`,ot=et.ZP`
  query user {
    user {
      id
      given_name
      family_name
      name
      nickname
      email
      resolver
    }
  }
`,nt=et.ZP`
  query allSchemaTableColumnBySchemaId($schemaId: ID!) {
    allSchemaTableColumnBySchemaId(schemaId: $schemaId) {
      id
      tableId
      name
      datatype
      meta
      options {
        id
        tableId
        columnId
        value
        color
        icon
      }
    }
  }
`,st=et.ZP`
  query allSchemaTableFilterBySchemaId($schemaId: ID!) {
    allSchemaTableFilterBySchemaId(schemaId: $schemaId) {
      id
      tableId
      name
      search
      sort
    }
  }
`,it=new Xe.X({tableId:null,columnList:[]}),rt=new Xe.X({schemaId:null});var ct=t(9669),dt=t.n(ct);const pt="https://api.ioak.io:8010/api";function ut(e,a){return dt().get(pt+e,a)}var mt=JSON.parse('{"c":[["fab","500px"],["fab","accessible-icon"],["fab","accusoft"],["fab","acquisitions-incorporated"],["fas","ad"],["fas","address-book"],["fa","address-book"],["fas","address-card"],["fa","address-card"],["fas","adjust"],["fab","adn"],["fab","adversal"],["fab","affiliatetheme"],["fas","air-freshener"],["fab","airbnb"],["fab","algolia"],["fas","align-center"],["fas","align-justify"],["fas","align-left"],["fas","align-right"],["fab","alipay"],["fas","allergies"],["fab","amazon"],["fab","amazon-pay"],["fas","ambulance"],["fas","american-sign-language-interpreting"],["fab","amilia"],["fas","anchor"],["fab","android"],["fab","angellist"],["fas","angle-double-down"],["fas","angle-double-left"],["fas","angle-double-right"],["fas","angle-double-up"],["fas","angle-down"],["fas","angle-left"],["fas","angle-right"],["fas","angle-up"],["fas","angry"],["fa","angry"],["fab","angrycreative"],["fab","angular"],["fas","ankh"],["fab","app-store"],["fab","app-store-ios"],["fab","apper"],["fab","apple"],["fas","apple-alt"],["fab","apple-pay"],["fas","archive"],["fas","archway"],["fas","arrow-alt-circle-down"],["fa","arrow-alt-circle-down"],["fas","arrow-alt-circle-left"],["fa","arrow-alt-circle-left"],["fas","arrow-alt-circle-right"],["fa","arrow-alt-circle-right"],["fas","arrow-alt-circle-up"],["fa","arrow-alt-circle-up"],["fas","arrow-circle-down"],["fas","arrow-circle-left"],["fas","arrow-circle-right"],["fas","arrow-circle-up"],["fas","arrow-down"],["fas","arrow-left"],["fas","arrow-right"],["fas","arrow-up"],["fas","arrows-alt"],["fas","arrows-alt-h"],["fas","arrows-alt-v"],["fab","artstation"],["fas","assistive-listening-systems"],["fas","asterisk"],["fab","asymmetrik"],["fas","at"],["fas","atlas"],["fab","atlassian"],["fas","atom"],["fab","audible"],["fas","audio-description"],["fab","autoprefixer"],["fab","avianex"],["fab","aviato"],["fas","award"],["fab","aws"],["fas","baby"],["fas","baby-carriage"],["fas","backspace"],["fas","backward"],["fas","bacon"],["fas","bacteria"],["fas","bacterium"],["fas","bahai"],["fas","balance-scale"],["fas","balance-scale-left"],["fas","balance-scale-right"],["fas","ban"],["fas","band-aid"],["fab","bandcamp"],["fas","barcode"],["fas","bars"],["fas","baseball-ball"],["fas","basketball-ball"],["fas","bath"],["fas","battery-empty"],["fas","battery-full"],["fas","battery-half"],["fas","battery-quarter"],["fas","battery-three-quarters"],["fab","battle-net"],["fas","bed"],["fas","beer"],["fab","behance"],["fab","behance-square"],["fas","bell"],["fa","bell"],["fas","bell-slash"],["fa","bell-slash"],["fas","bezier-curve"],["fas","bible"],["fas","bicycle"],["fas","biking"],["fab","bimobject"],["fas","binoculars"],["fas","biohazard"],["fas","birthday-cake"],["fab","bitbucket"],["fab","bitcoin"],["fab","bity"],["fab","black-tie"],["fab","blackberry"],["fas","blender"],["fas","blender-phone"],["fas","blind"],["fas","blog"],["fab","blogger"],["fab","blogger-b"],["fab","bluetooth"],["fab","bluetooth-b"],["fas","bold"],["fas","bolt"],["fas","bomb"],["fas","bone"],["fas","bong"],["fas","book"],["fas","book-dead"],["fas","book-medical"],["fas","book-open"],["fas","book-reader"],["fas","bookmark"],["fa","bookmark"],["fab","bootstrap"],["fas","border-all"],["fas","border-none"],["fas","border-style"],["fas","bowling-ball"],["fas","box"],["fas","box-open"],["fas","box-tissue"],["fas","boxes"],["fas","braille"],["fas","brain"],["fas","bread-slice"],["fas","briefcase"],["fas","briefcase-medical"],["fas","broadcast-tower"],["fas","broom"],["fas","brush"],["fab","btc"],["fab","buffer"],["fas","bug"],["fas","building"],["fa","building"],["fas","bullhorn"],["fas","bullseye"],["fas","burn"],["fab","buromobelexperte"],["fas","bus"],["fas","bus-alt"],["fas","business-time"],["fab","buy-n-large"],["fab","buysellads"],["fas","calculator"],["fas","calendar"],["fa","calendar"],["fas","calendar-alt"],["fa","calendar-alt"],["fas","calendar-check"],["fa","calendar-check"],["fas","calendar-day"],["fas","calendar-minus"],["fa","calendar-minus"],["fas","calendar-plus"],["fa","calendar-plus"],["fas","calendar-times"],["fa","calendar-times"],["fas","calendar-week"],["fas","camera"],["fas","camera-retro"],["fas","campground"],["fab","canadian-maple-leaf"],["fas","candy-cane"],["fas","cannabis"],["fas","capsules"],["fas","car"],["fas","car-alt"],["fas","car-battery"],["fas","car-crash"],["fas","car-side"],["fas","caravan"],["fas","caret-down"],["fas","caret-left"],["fas","caret-right"],["fas","caret-square-down"],["fa","caret-square-down"],["fas","caret-square-left"],["fa","caret-square-left"],["fas","caret-square-right"],["fa","caret-square-right"],["fas","caret-square-up"],["fa","caret-square-up"],["fas","caret-up"],["fas","carrot"],["fas","cart-arrow-down"],["fas","cart-plus"],["fas","cash-register"],["fas","cat"],["fab","cc-amazon-pay"],["fab","cc-amex"],["fab","cc-apple-pay"],["fab","cc-diners-club"],["fab","cc-discover"],["fab","cc-jcb"],["fab","cc-mastercard"],["fab","cc-paypal"],["fab","cc-stripe"],["fab","cc-visa"],["fab","centercode"],["fab","centos"],["fas","certificate"],["fas","chair"],["fas","chalkboard"],["fas","chalkboard-teacher"],["fas","charging-station"],["fas","chart-area"],["fas","chart-bar"],["fa","chart-bar"],["fas","chart-line"],["fas","chart-pie"],["fas","check"],["fas","check-circle"],["fa","check-circle"],["fas","check-double"],["fas","check-square"],["fa","check-square"],["fas","cheese"],["fas","chess"],["fas","chess-bishop"],["fas","chess-board"],["fas","chess-king"],["fas","chess-knight"],["fas","chess-pawn"],["fas","chess-queen"],["fas","chess-rook"],["fas","chevron-circle-down"],["fas","chevron-circle-left"],["fas","chevron-circle-right"],["fas","chevron-circle-up"],["fas","chevron-down"],["fas","chevron-left"],["fas","chevron-right"],["fas","chevron-up"],["fas","child"],["fab","chrome"],["fab","chromecast"],["fas","church"],["fas","circle"],["fa","circle"],["fas","circle-notch"],["fas","city"],["fas","clinic-medical"],["fas","clipboard"],["fa","clipboard"],["fas","clipboard-check"],["fas","clipboard-list"],["fas","clock"],["fa","clock"],["fas","clone"],["fa","clone"],["fas","closed-captioning"],["fa","closed-captioning"],["fas","cloud"],["fas","cloud-download-alt"],["fas","cloud-meatball"],["fas","cloud-moon"],["fas","cloud-moon-rain"],["fas","cloud-rain"],["fas","cloud-showers-heavy"],["fas","cloud-sun"],["fas","cloud-sun-rain"],["fas","cloud-upload-alt"],["fab","cloudflare"],["fab","cloudscale"],["fab","cloudsmith"],["fab","cloudversify"],["fas","cocktail"],["fas","code"],["fas","code-branch"],["fab","codepen"],["fab","codiepie"],["fas","coffee"],["fas","cog"],["fas","cogs"],["fas","coins"],["fas","columns"],["fas","comment"],["fa","comment"],["fas","comment-alt"],["fa","comment-alt"],["fas","comment-dollar"],["fas","comment-dots"],["fa","comment-dots"],["fas","comment-medical"],["fas","comment-slash"],["fas","comments"],["fa","comments"],["fas","comments-dollar"],["fas","compact-disc"],["fas","compass"],["fa","compass"],["fas","compress"],["fas","compress-alt"],["fas","compress-arrows-alt"],["fas","concierge-bell"],["fab","confluence"],["fab","connectdevelop"],["fab","contao"],["fas","cookie"],["fas","cookie-bite"],["fas","copy"],["fa","copy"],["fas","copyright"],["fa","copyright"],["fab","cotton-bureau"],["fas","couch"],["fab","cpanel"],["fab","creative-commons"],["fab","creative-commons-by"],["fab","creative-commons-nc"],["fab","creative-commons-nc-eu"],["fab","creative-commons-nc-jp"],["fab","creative-commons-nd"],["fab","creative-commons-pd"],["fab","creative-commons-pd-alt"],["fab","creative-commons-remix"],["fab","creative-commons-sa"],["fab","creative-commons-sampling"],["fab","creative-commons-sampling-plus"],["fab","creative-commons-share"],["fab","creative-commons-zero"],["fas","credit-card"],["fa","credit-card"],["fab","critical-role"],["fas","crop"],["fas","crop-alt"],["fas","cross"],["fas","crosshairs"],["fas","crow"],["fas","crown"],["fas","crutch"],["fab","css3"],["fab","css3-alt"],["fas","cube"],["fas","cubes"],["fas","cut"],["fab","cuttlefish"],["fab","d-and-d"],["fab","d-and-d-beyond"],["fab","dailymotion"],["fab","dashcube"],["fas","database"],["fas","deaf"],["fab","deezer"],["fab","delicious"],["fas","democrat"],["fab","deploydog"],["fab","deskpro"],["fas","desktop"],["fab","dev"],["fab","deviantart"],["fas","dharmachakra"],["fab","dhl"],["fas","diagnoses"],["fab","diaspora"],["fas","dice"],["fas","dice-d20"],["fas","dice-d6"],["fas","dice-five"],["fas","dice-four"],["fas","dice-one"],["fas","dice-six"],["fas","dice-three"],["fas","dice-two"],["fab","digg"],["fab","digital-ocean"],["fas","digital-tachograph"],["fas","directions"],["fab","discord"],["fab","discourse"],["fas","disease"],["fas","divide"],["fas","dizzy"],["fa","dizzy"],["fas","dna"],["fab","dochub"],["fab","docker"],["fas","dog"],["fas","dollar-sign"],["fas","dolly"],["fas","dolly-flatbed"],["fas","donate"],["fas","door-closed"],["fas","door-open"],["fas","dot-circle"],["fa","dot-circle"],["fas","dove"],["fas","download"],["fab","draft2digital"],["fas","drafting-compass"],["fas","dragon"],["fas","draw-polygon"],["fab","dribbble"],["fab","dribbble-square"],["fab","dropbox"],["fas","drum"],["fas","drum-steelpan"],["fas","drumstick-bite"],["fab","drupal"],["fas","dumbbell"],["fas","dumpster"],["fas","dumpster-fire"],["fas","dungeon"],["fab","dyalog"],["fab","earlybirds"],["fab","ebay"],["fab","edge"],["fab","edge-legacy"],["fas","edit"],["fa","edit"],["fas","egg"],["fas","eject"],["fab","elementor"],["fas","ellipsis-h"],["fas","ellipsis-v"],["fab","ello"],["fab","ember"],["fab","empire"],["fas","envelope"],["fa","envelope"],["fas","envelope-open"],["fa","envelope-open"],["fas","envelope-open-text"],["fas","envelope-square"],["fab","envira"],["fas","equals"],["fas","eraser"],["fab","erlang"],["fab","ethereum"],["fas","ethernet"],["fab","etsy"],["fas","euro-sign"],["fab","evernote"],["fas","exchange-alt"],["fas","exclamation"],["fas","exclamation-circle"],["fas","exclamation-triangle"],["fas","expand"],["fas","expand-alt"],["fas","expand-arrows-alt"],["fab","expeditedssl"],["fas","external-link-alt"],["fas","external-link-square-alt"],["fas","eye"],["fa","eye"],["fas","eye-dropper"],["fas","eye-slash"],["fa","eye-slash"],["fab","facebook"],["fab","facebook-f"],["fab","facebook-messenger"],["fab","facebook-square"],["fas","fan"],["fab","fantasy-flight-games"],["fas","fast-backward"],["fas","fast-forward"],["fas","faucet"],["fas","fax"],["fas","feather"],["fas","feather-alt"],["fab","fedex"],["fab","fedora"],["fas","female"],["fas","fighter-jet"],["fab","figma"],["fas","file"],["fa","file"],["fas","file-alt"],["fa","file-alt"],["fas","file-archive"],["fa","file-archive"],["fas","file-audio"],["fa","file-audio"],["fas","file-code"],["fa","file-code"],["fas","file-contract"],["fas","file-csv"],["fas","file-download"],["fas","file-excel"],["fa","file-excel"],["fas","file-export"],["fas","file-image"],["fa","file-image"],["fas","file-import"],["fas","file-invoice"],["fas","file-invoice-dollar"],["fas","file-medical"],["fas","file-medical-alt"],["fas","file-pdf"],["fa","file-pdf"],["fas","file-powerpoint"],["fa","file-powerpoint"],["fas","file-prescription"],["fas","file-signature"],["fas","file-upload"],["fas","file-video"],["fa","file-video"],["fas","file-word"],["fa","file-word"],["fas","fill"],["fas","fill-drip"],["fas","film"],["fas","filter"],["fas","fingerprint"],["fas","fire"],["fas","fire-alt"],["fas","fire-extinguisher"],["fab","firefox"],["fab","firefox-browser"],["fas","first-aid"],["fab","first-order"],["fab","first-order-alt"],["fab","firstdraft"],["fas","fish"],["fas","fist-raised"],["fas","flag"],["fa","flag"],["fas","flag-checkered"],["fas","flag-usa"],["fas","flask"],["fab","flickr"],["fab","flipboard"],["fas","flushed"],["fa","flushed"],["fab","fly"],["fas","folder"],["fa","folder"],["fas","folder-minus"],["fas","folder-open"],["fa","folder-open"],["fas","folder-plus"],["fas","font"],["fab","font-awesome"],["fab","font-awesome-alt"],["fab","font-awesome-flag"],["fab","fonticons"],["fab","fonticons-fi"],["fas","football-ball"],["fab","fort-awesome"],["fab","fort-awesome-alt"],["fab","forumbee"],["fas","forward"],["fab","foursquare"],["fab","free-code-camp"],["fab","freebsd"],["fas","frog"],["fas","frown"],["fa","frown"],["fas","frown-open"],["fa","frown-open"],["fab","fulcrum"],["fas","funnel-dollar"],["fas","futbol"],["fa","futbol"],["fab","galactic-republic"],["fab","galactic-senate"],["fas","gamepad"],["fas","gas-pump"],["fas","gavel"],["fas","gem"],["fa","gem"],["fas","genderless"],["fab","get-pocket"],["fab","gg"],["fab","gg-circle"],["fas","ghost"],["fas","gift"],["fas","gifts"],["fab","git"],["fab","git-alt"],["fab","git-square"],["fab","github"],["fab","github-alt"],["fab","github-square"],["fab","gitkraken"],["fab","gitlab"],["fab","gitter"],["fas","glass-cheers"],["fas","glass-martini"],["fas","glass-martini-alt"],["fas","glass-whiskey"],["fas","glasses"],["fab","glide"],["fab","glide-g"],["fas","globe"],["fas","globe-africa"],["fas","globe-americas"],["fas","globe-asia"],["fas","globe-europe"],["fab","gofore"],["fas","golf-ball"],["fab","goodreads"],["fab","goodreads-g"],["fab","google"],["fab","google-drive"],["fab","google-pay"],["fab","google-play"],["fab","google-plus"],["fab","google-plus-g"],["fab","google-plus-square"],["fab","google-wallet"],["fas","gopuram"],["fas","graduation-cap"],["fab","gratipay"],["fab","grav"],["fas","greater-than"],["fas","greater-than-equal"],["fas","grimace"],["fa","grimace"],["fas","grin"],["fa","grin"],["fas","grin-alt"],["fa","grin-alt"],["fas","grin-beam"],["fa","grin-beam"],["fas","grin-beam-sweat"],["fa","grin-beam-sweat"],["fas","grin-hearts"],["fa","grin-hearts"],["fas","grin-squint"],["fa","grin-squint"],["fas","grin-squint-tears"],["fa","grin-squint-tears"],["fas","grin-stars"],["fa","grin-stars"],["fas","grin-tears"],["fa","grin-tears"],["fas","grin-tongue"],["fa","grin-tongue"],["fas","grin-tongue-squint"],["fa","grin-tongue-squint"],["fas","grin-tongue-wink"],["fa","grin-tongue-wink"],["fas","grin-wink"],["fa","grin-wink"],["fas","grip-horizontal"],["fas","grip-lines"],["fas","grip-lines-vertical"],["fas","grip-vertical"],["fab","gripfire"],["fab","grunt"],["fab","guilded"],["fas","guitar"],["fab","gulp"],["fas","h-square"],["fab","hacker-news"],["fab","hacker-news-square"],["fab","hackerrank"],["fas","hamburger"],["fas","hammer"],["fas","hamsa"],["fas","hand-holding"],["fas","hand-holding-heart"],["fas","hand-holding-medical"],["fas","hand-holding-usd"],["fas","hand-holding-water"],["fas","hand-lizard"],["fa","hand-lizard"],["fas","hand-middle-finger"],["fas","hand-paper"],["fa","hand-paper"],["fas","hand-peace"],["fa","hand-peace"],["fas","hand-point-down"],["fa","hand-point-down"],["fas","hand-point-left"],["fa","hand-point-left"],["fas","hand-point-right"],["fa","hand-point-right"],["fas","hand-point-up"],["fa","hand-point-up"],["fas","hand-pointer"],["fa","hand-pointer"],["fas","hand-rock"],["fa","hand-rock"],["fas","hand-scissors"],["fa","hand-scissors"],["fas","hand-sparkles"],["fas","hand-spock"],["fa","hand-spock"],["fas","hands"],["fas","hands-helping"],["fas","hands-wash"],["fas","handshake"],["fa","handshake"],["fas","handshake-alt-slash"],["fas","handshake-slash"],["fas","hanukiah"],["fas","hard-hat"],["fas","hashtag"],["fas","hat-cowboy"],["fas","hat-cowboy-side"],["fas","hat-wizard"],["fas","hdd"],["fa","hdd"],["fas","head-side-cough"],["fas","head-side-cough-slash"],["fas","head-side-mask"],["fas","head-side-virus"],["fas","heading"],["fas","headphones"],["fas","headphones-alt"],["fas","headset"],["fas","heart"],["fa","heart"],["fas","heart-broken"],["fas","heartbeat"],["fas","helicopter"],["fas","highlighter"],["fas","hiking"],["fas","hippo"],["fab","hips"],["fab","hire-a-helper"],["fas","history"],["fab","hive"],["fas","hockey-puck"],["fas","holly-berry"],["fas","home"],["fab","hooli"],["fab","hornbill"],["fas","horse"],["fas","horse-head"],["fas","hospital"],["fa","hospital"],["fas","hospital-alt"],["fas","hospital-symbol"],["fas","hospital-user"],["fas","hot-tub"],["fas","hotdog"],["fas","hotel"],["fab","hotjar"],["fas","hourglass"],["fa","hourglass"],["fas","hourglass-end"],["fas","hourglass-half"],["fas","hourglass-start"],["fas","house-damage"],["fas","house-user"],["fab","houzz"],["fas","hryvnia"],["fab","html5"],["fab","hubspot"],["fas","i-cursor"],["fas","ice-cream"],["fas","icicles"],["fas","icons"],["fas","id-badge"],["fa","id-badge"],["fas","id-card"],["fa","id-card"],["fas","id-card-alt"],["fab","ideal"],["fas","igloo"],["fas","image"],["fa","image"],["fas","images"],["fa","images"],["fab","imdb"],["fas","inbox"],["fas","indent"],["fas","industry"],["fas","infinity"],["fas","info"],["fas","info-circle"],["fab","innosoft"],["fab","instagram"],["fab","instagram-square"],["fab","instalod"],["fab","intercom"],["fab","internet-explorer"],["fab","invision"],["fab","ioxhost"],["fas","italic"],["fab","itch-io"],["fab","itunes"],["fab","itunes-note"],["fab","java"],["fas","jedi"],["fab","jedi-order"],["fab","jenkins"],["fab","jira"],["fab","joget"],["fas","joint"],["fab","joomla"],["fas","journal-whills"],["fab","js"],["fab","js-square"],["fab","jsfiddle"],["fas","kaaba"],["fab","kaggle"],["fas","key"],["fab","keybase"],["fas","keyboard"],["fa","keyboard"],["fab","keycdn"],["fas","khanda"],["fab","kickstarter"],["fab","kickstarter-k"],["fas","kiss"],["fa","kiss"],["fas","kiss-beam"],["fa","kiss-beam"],["fas","kiss-wink-heart"],["fa","kiss-wink-heart"],["fas","kiwi-bird"],["fab","korvue"],["fas","landmark"],["fas","language"],["fas","laptop"],["fas","laptop-code"],["fas","laptop-house"],["fas","laptop-medical"],["fab","laravel"],["fab","lastfm"],["fab","lastfm-square"],["fas","laugh"],["fa","laugh"],["fas","laugh-beam"],["fa","laugh-beam"],["fas","laugh-squint"],["fa","laugh-squint"],["fas","laugh-wink"],["fa","laugh-wink"],["fas","layer-group"],["fas","leaf"],["fab","leanpub"],["fas","lemon"],["fa","lemon"],["fab","less"],["fas","less-than"],["fas","less-than-equal"],["fas","level-down-alt"],["fas","level-up-alt"],["fas","life-ring"],["fa","life-ring"],["fas","lightbulb"],["fa","lightbulb"],["fab","line"],["fas","link"],["fab","linkedin"],["fab","linkedin-in"],["fab","linode"],["fab","linux"],["fas","lira-sign"],["fas","list"],["fas","list-alt"],["fa","list-alt"],["fas","list-ol"],["fas","list-ul"],["fas","location-arrow"],["fas","lock"],["fas","lock-open"],["fas","long-arrow-alt-down"],["fas","long-arrow-alt-left"],["fas","long-arrow-alt-right"],["fas","long-arrow-alt-up"],["fas","low-vision"],["fas","luggage-cart"],["fas","lungs"],["fas","lungs-virus"],["fab","lyft"],["fab","magento"],["fas","magic"],["fas","magnet"],["fas","mail-bulk"],["fab","mailchimp"],["fas","male"],["fab","mandalorian"],["fas","map"],["fa","map"],["fas","map-marked"],["fas","map-marked-alt"],["fas","map-marker"],["fas","map-marker-alt"],["fas","map-pin"],["fas","map-signs"],["fab","markdown"],["fas","marker"],["fas","mars"],["fas","mars-double"],["fas","mars-stroke"],["fas","mars-stroke-h"],["fas","mars-stroke-v"],["fas","mask"],["fab","mastodon"],["fab","maxcdn"],["fab","mdb"],["fas","medal"],["fab","medapps"],["fab","medium"],["fab","medium-m"],["fas","medkit"],["fab","medrt"],["fab","meetup"],["fab","megaport"],["fas","meh"],["fa","meh"],["fas","meh-blank"],["fa","meh-blank"],["fas","meh-rolling-eyes"],["fa","meh-rolling-eyes"],["fas","memory"],["fab","mendeley"],["fas","menorah"],["fas","mercury"],["fas","meteor"],["fab","microblog"],["fas","microchip"],["fas","microphone"],["fas","microphone-alt"],["fas","microphone-alt-slash"],["fas","microphone-slash"],["fas","microscope"],["fab","microsoft"],["fas","minus"],["fas","minus-circle"],["fas","minus-square"],["fa","minus-square"],["fas","mitten"],["fab","mix"],["fab","mixcloud"],["fab","mixer"],["fab","mizuni"],["fas","mobile"],["fas","mobile-alt"],["fab","modx"],["fab","monero"],["fas","money-bill"],["fas","money-bill-alt"],["fa","money-bill-alt"],["fas","money-bill-wave"],["fas","money-bill-wave-alt"],["fas","money-check"],["fas","money-check-alt"],["fas","monument"],["fas","moon"],["fa","moon"],["fas","mortar-pestle"],["fas","mosque"],["fas","motorcycle"],["fas","mountain"],["fas","mouse"],["fas","mouse-pointer"],["fas","mug-hot"],["fas","music"],["fab","napster"],["fab","neos"],["fas","network-wired"],["fas","neuter"],["fas","newspaper"],["fa","newspaper"],["fab","nimblr"],["fab","node"],["fab","node-js"],["fas","not-equal"],["fas","notes-medical"],["fab","npm"],["fab","ns8"],["fab","nutritionix"],["fas","object-group"],["fa","object-group"],["fas","object-ungroup"],["fa","object-ungroup"],["fab","octopus-deploy"],["fab","odnoklassniki"],["fab","odnoklassniki-square"],["fas","oil-can"],["fab","old-republic"],["fas","om"],["fab","opencart"],["fab","openid"],["fab","opera"],["fab","optin-monster"],["fab","orcid"],["fab","osi"],["fas","otter"],["fas","outdent"],["fab","page4"],["fab","pagelines"],["fas","pager"],["fas","paint-brush"],["fas","paint-roller"],["fas","palette"],["fab","palfed"],["fas","pallet"],["fas","paper-plane"],["fa","paper-plane"],["fas","paperclip"],["fas","parachute-box"],["fas","paragraph"],["fas","parking"],["fas","passport"],["fas","pastafarianism"],["fas","paste"],["fab","patreon"],["fas","pause"],["fas","pause-circle"],["fa","pause-circle"],["fas","paw"],["fab","paypal"],["fas","peace"],["fas","pen"],["fas","pen-alt"],["fas","pen-fancy"],["fas","pen-nib"],["fas","pen-square"],["fas","pencil-alt"],["fas","pencil-ruler"],["fab","penny-arcade"],["fas","people-arrows"],["fas","people-carry"],["fas","pepper-hot"],["fab","perbyte"],["fas","percent"],["fas","percentage"],["fab","periscope"],["fas","person-booth"],["fab","phabricator"],["fab","phoenix-framework"],["fab","phoenix-squadron"],["fas","phone"],["fas","phone-alt"],["fas","phone-slash"],["fas","phone-square"],["fas","phone-square-alt"],["fas","phone-volume"],["fas","photo-video"],["fab","php"],["fab","pied-piper"],["fab","pied-piper-alt"],["fab","pied-piper-hat"],["fab","pied-piper-pp"],["fab","pied-piper-square"],["fas","piggy-bank"],["fas","pills"],["fab","pinterest"],["fab","pinterest-p"],["fab","pinterest-square"],["fas","pizza-slice"],["fas","place-of-worship"],["fas","plane"],["fas","plane-arrival"],["fas","plane-departure"],["fas","plane-slash"],["fas","play"],["fas","play-circle"],["fa","play-circle"],["fab","playstation"],["fas","plug"],["fas","plus"],["fas","plus-circle"],["fas","plus-square"],["fa","plus-square"],["fas","podcast"],["fas","poll"],["fas","poll-h"],["fas","poo"],["fas","poo-storm"],["fas","poop"],["fas","portrait"],["fas","pound-sign"],["fas","power-off"],["fas","pray"],["fas","praying-hands"],["fas","prescription"],["fas","prescription-bottle"],["fas","prescription-bottle-alt"],["fas","print"],["fas","procedures"],["fab","product-hunt"],["fas","project-diagram"],["fas","pump-medical"],["fas","pump-soap"],["fab","pushed"],["fas","puzzle-piece"],["fab","python"],["fab","qq"],["fas","qrcode"],["fas","question"],["fas","question-circle"],["fa","question-circle"],["fas","quidditch"],["fab","quinscape"],["fab","quora"],["fas","quote-left"],["fas","quote-right"],["fas","quran"],["fab","r-project"],["fas","radiation"],["fas","radiation-alt"],["fas","rainbow"],["fas","random"],["fab","raspberry-pi"],["fab","ravelry"],["fab","react"],["fab","reacteurope"],["fab","readme"],["fab","rebel"],["fas","receipt"],["fas","record-vinyl"],["fas","recycle"],["fab","red-river"],["fab","reddit"],["fab","reddit-alien"],["fab","reddit-square"],["fab","redhat"],["fas","redo"],["fas","redo-alt"],["fas","registered"],["fa","registered"],["fas","remove-format"],["fab","renren"],["fas","reply"],["fas","reply-all"],["fab","replyd"],["fas","republican"],["fab","researchgate"],["fab","resolving"],["fas","restroom"],["fas","retweet"],["fab","rev"],["fas","ribbon"],["fas","ring"],["fas","road"],["fas","robot"],["fas","rocket"],["fab","rocketchat"],["fab","rockrms"],["fas","route"],["fas","rss"],["fas","rss-square"],["fas","ruble-sign"],["fas","ruler"],["fas","ruler-combined"],["fas","ruler-horizontal"],["fas","ruler-vertical"],["fas","running"],["fas","rupee-sign"],["fab","rust"],["fas","sad-cry"],["fa","sad-cry"],["fas","sad-tear"],["fa","sad-tear"],["fab","safari"],["fab","salesforce"],["fab","sass"],["fas","satellite"],["fas","satellite-dish"],["fas","save"],["fa","save"],["fab","schlix"],["fas","school"],["fas","screwdriver"],["fab","scribd"],["fas","scroll"],["fas","sd-card"],["fas","search"],["fas","search-dollar"],["fas","search-location"],["fas","search-minus"],["fas","search-plus"],["fab","searchengin"],["fas","seedling"],["fab","sellcast"],["fab","sellsy"],["fas","server"],["fab","servicestack"],["fas","shapes"],["fas","share"],["fas","share-alt"],["fas","share-alt-square"],["fas","share-square"],["fa","share-square"],["fas","shekel-sign"],["fas","shield-alt"],["fas","shield-virus"],["fas","ship"],["fas","shipping-fast"],["fab","shirtsinbulk"],["fas","shoe-prints"],["fab","shopify"],["fas","shopping-bag"],["fas","shopping-basket"],["fas","shopping-cart"],["fab","shopware"],["fas","shower"],["fas","shuttle-van"],["fas","sign"],["fas","sign-in-alt"],["fas","sign-language"],["fas","sign-out-alt"],["fas","signal"],["fas","signature"],["fas","sim-card"],["fab","simplybuilt"],["fas","sink"],["fab","sistrix"],["fas","sitemap"],["fab","sith"],["fas","skating"],["fab","sketch"],["fas","skiing"],["fas","skiing-nordic"],["fas","skull"],["fas","skull-crossbones"],["fab","skyatlas"],["fab","skype"],["fab","slack"],["fab","slack-hash"],["fas","slash"],["fas","sleigh"],["fas","sliders-h"],["fab","slideshare"],["fas","smile"],["fa","smile"],["fas","smile-beam"],["fa","smile-beam"],["fas","smile-wink"],["fa","smile-wink"],["fas","smog"],["fas","smoking"],["fas","smoking-ban"],["fas","sms"],["fab","snapchat"],["fab","snapchat-ghost"],["fab","snapchat-square"],["fas","snowboarding"],["fas","snowflake"],["fa","snowflake"],["fas","snowman"],["fas","snowplow"],["fas","soap"],["fas","socks"],["fas","solar-panel"],["fas","sort"],["fas","sort-alpha-down"],["fas","sort-alpha-down-alt"],["fas","sort-alpha-up"],["fas","sort-alpha-up-alt"],["fas","sort-amount-down"],["fas","sort-amount-down-alt"],["fas","sort-amount-up"],["fas","sort-amount-up-alt"],["fas","sort-down"],["fas","sort-numeric-down"],["fas","sort-numeric-down-alt"],["fas","sort-numeric-up"],["fas","sort-numeric-up-alt"],["fas","sort-up"],["fab","soundcloud"],["fab","sourcetree"],["fas","spa"],["fas","space-shuttle"],["fab","speakap"],["fab","speaker-deck"],["fas","spell-check"],["fas","spider"],["fas","spinner"],["fas","splotch"],["fab","spotify"],["fas","spray-can"],["fas","square"],["fa","square"],["fas","square-full"],["fas","square-root-alt"],["fab","squarespace"],["fab","stack-exchange"],["fab","stack-overflow"],["fab","stackpath"],["fas","stamp"],["fas","star"],["fa","star"],["fas","star-and-crescent"],["fas","star-half"],["fa","star-half"],["fas","star-half-alt"],["fas","star-of-david"],["fas","star-of-life"],["fab","staylinked"],["fab","steam"],["fab","steam-square"],["fab","steam-symbol"],["fas","step-backward"],["fas","step-forward"],["fas","stethoscope"],["fab","sticker-mule"],["fas","sticky-note"],["fa","sticky-note"],["fas","stop"],["fas","stop-circle"],["fa","stop-circle"],["fas","stopwatch"],["fas","stopwatch-20"],["fas","store"],["fas","store-alt"],["fas","store-alt-slash"],["fas","store-slash"],["fab","strava"],["fas","stream"],["fas","street-view"],["fas","strikethrough"],["fab","stripe"],["fab","stripe-s"],["fas","stroopwafel"],["fab","studiovinari"],["fab","stumbleupon"],["fab","stumbleupon-circle"],["fas","subscript"],["fas","subway"],["fas","suitcase"],["fas","suitcase-rolling"],["fas","sun"],["fa","sun"],["fab","superpowers"],["fas","superscript"],["fab","supple"],["fas","surprise"],["fa","surprise"],["fab","suse"],["fas","swatchbook"],["fab","swift"],["fas","swimmer"],["fas","swimming-pool"],["fab","symfony"],["fas","synagogue"],["fas","sync"],["fas","sync-alt"],["fas","syringe"],["fas","table"],["fas","table-tennis"],["fas","tablet"],["fas","tablet-alt"],["fas","tablets"],["fas","tachometer-alt"],["fas","tag"],["fas","tags"],["fas","tape"],["fas","tasks"],["fas","taxi"],["fab","teamspeak"],["fas","teeth"],["fas","teeth-open"],["fab","telegram"],["fab","telegram-plane"],["fas","temperature-high"],["fas","temperature-low"],["fab","tencent-weibo"],["fas","tenge"],["fas","terminal"],["fas","text-height"],["fas","text-width"],["fas","th"],["fas","th-large"],["fas","th-list"],["fab","the-red-yeti"],["fas","theater-masks"],["fab","themeco"],["fab","themeisle"],["fas","thermometer"],["fas","thermometer-empty"],["fas","thermometer-full"],["fas","thermometer-half"],["fas","thermometer-quarter"],["fas","thermometer-three-quarters"],["fab","think-peaks"],["fas","thumbs-down"],["fa","thumbs-down"],["fas","thumbs-up"],["fa","thumbs-up"],["fas","thumbtack"],["fas","ticket-alt"],["fab","tiktok"],["fas","times"],["fas","times-circle"],["fa","times-circle"],["fas","tint"],["fas","tint-slash"],["fas","tired"],["fa","tired"],["fas","toggle-off"],["fas","toggle-on"],["fas","toilet"],["fas","toilet-paper"],["fas","toilet-paper-slash"],["fas","toolbox"],["fas","tools"],["fas","tooth"],["fas","torah"],["fas","torii-gate"],["fas","tractor"],["fab","trade-federation"],["fas","trademark"],["fas","traffic-light"],["fas","trailer"],["fas","train"],["fas","tram"],["fas","transgender"],["fas","transgender-alt"],["fas","trash"],["fas","trash-alt"],["fa","trash-alt"],["fas","trash-restore"],["fas","trash-restore-alt"],["fas","tree"],["fab","trello"],["fab","tripadvisor"],["fas","trophy"],["fas","truck"],["fas","truck-loading"],["fas","truck-monster"],["fas","truck-moving"],["fas","truck-pickup"],["fas","tshirt"],["fas","tty"],["fab","tumblr"],["fab","tumblr-square"],["fas","tv"],["fab","twitch"],["fab","twitter"],["fab","twitter-square"],["fab","typo3"],["fab","uber"],["fab","ubuntu"],["fab","uikit"],["fab","umbraco"],["fas","umbrella"],["fas","umbrella-beach"],["fab","uncharted"],["fas","underline"],["fas","undo"],["fas","undo-alt"],["fab","uniregistry"],["fab","unity"],["fas","universal-access"],["fas","university"],["fas","unlink"],["fas","unlock"],["fas","unlock-alt"],["fab","unsplash"],["fab","untappd"],["fas","upload"],["fab","ups"],["fab","usb"],["fas","user"],["fa","user"],["fas","user-alt"],["fas","user-alt-slash"],["fas","user-astronaut"],["fas","user-check"],["fas","user-circle"],["fa","user-circle"],["fas","user-clock"],["fas","user-cog"],["fas","user-edit"],["fas","user-friends"],["fas","user-graduate"],["fas","user-injured"],["fas","user-lock"],["fas","user-md"],["fas","user-minus"],["fas","user-ninja"],["fas","user-nurse"],["fas","user-plus"],["fas","user-secret"],["fas","user-shield"],["fas","user-slash"],["fas","user-tag"],["fas","user-tie"],["fas","user-times"],["fas","users"],["fas","users-cog"],["fas","users-slash"],["fab","usps"],["fab","ussunnah"],["fas","utensil-spoon"],["fas","utensils"],["fab","vaadin"],["fas","vector-square"],["fas","venus"],["fas","venus-double"],["fas","venus-mars"],["fas","vest"],["fas","vest-patches"],["fab","viacoin"],["fab","viadeo"],["fab","viadeo-square"],["fas","vial"],["fas","vials"],["fab","viber"],["fas","video"],["fas","video-slash"],["fas","vihara"],["fab","vimeo"],["fab","vimeo-square"],["fab","vimeo-v"],["fab","vine"],["fas","virus"],["fas","virus-slash"],["fas","viruses"],["fab","vk"],["fab","vnv"],["fas","voicemail"],["fas","volleyball-ball"],["fas","volume-down"],["fas","volume-mute"],["fas","volume-off"],["fas","volume-up"],["fas","vote-yea"],["fas","vr-cardboard"],["fab","vuejs"],["fas","walking"],["fas","wallet"],["fas","warehouse"],["fab","watchman-monitoring"],["fas","water"],["fas","wave-square"],["fab","waze"],["fab","weebly"],["fab","weibo"],["fas","weight"],["fas","weight-hanging"],["fab","weixin"],["fab","whatsapp"],["fab","whatsapp-square"],["fas","wheelchair"],["fab","whmcs"],["fas","wifi"],["fab","wikipedia-w"],["fas","wind"],["fas","window-close"],["fa","window-close"],["fas","window-maximize"],["fa","window-maximize"],["fas","window-minimize"],["fa","window-minimize"],["fas","window-restore"],["fa","window-restore"],["fab","windows"],["fas","wine-bottle"],["fas","wine-glass"],["fas","wine-glass-alt"],["fab","wix"],["fab","wizards-of-the-coast"],["fab","wodu"],["fab","wolf-pack-battalion"],["fas","won-sign"],["fab","wordpress"],["fab","wordpress-simple"],["fab","wpbeginner"],["fab","wpexplorer"],["fab","wpforms"],["fab","wpressr"],["fas","wrench"],["fas","x-ray"],["fab","xbox"],["fab","xing"],["fab","xing-square"],["fab","y-combinator"],["fab","yahoo"],["fab","yammer"],["fab","yandex"],["fab","yandex-international"],["fab","yarn"],["fab","yelp"],["fas","yen-sign"],["fas","yin-yang"],["fab","yoast"],["fab","youtube"],["fab","youtube-square"],["fab","zhihu"]]}'),ft=t(5543),ht=t(5127),bt=t(6495),gt=t(7865);const vt=(0,ft.L)({uri:"https://api.ioak.io:8060/graphql"}),kt=(0,gt.v)(((e,{headers:a})=>({headers:{...a,authorization:`${Ja.getters.getProfile?.space} ${Ja.getters.getProfile?.auth?.accessToken}`||""}}))),wt=new ht.f({link:kt.concat(vt),cache:new bt.h});var yt={name:"Init",computed:{...(0,v.Se)(["getProfile","getSchemaLookup"]),getTheme(){return this.getProfile.theme}},created(){"theme_light"===this.getProfile.theme?document.body.style.backgroundColor="var(--color-global-lightmode)":document.body.style.backgroundColor="var(--color-global-darkmode)"},watch:{getTheme(){"theme_light"===this.getProfile.theme?document.body.style.backgroundColor="var(--color-global-lightmode)":document.body.style.backgroundColor="var(--color-global-darkmode)"}},mounted(){this.fetchSpace(),this.fetchIcon(),Je.asObservable().subscribe((e=>{e.isAuth&&(this.fetchSchema(),this.fetchTable(),this.fetchUser())})),tt.asObservable().subscribe((e=>{e.reference&&this.getSchemaLookup[e.reference]&&(this.fetchColumn(this.getSchemaLookup[e.reference]),this.fetchFilter(this.getSchemaLookup[e.reference]))})),it.asObservable().subscribe((e=>{this.replaceColumn(e.tableId,e.columnList)})),rt.asObservable().subscribe((e=>{this.getProfile.schema&&this.fetchFilter(this.getProfile.schema)}))},methods:{fetchSpace(){ut("/realm/introspect",null).then((e=>{200===e.status&&Ja.dispatch("refreshSpace",e.data)}))},fetchIcon(){Ja.dispatch("refreshIcon",mt.c)},fetchSchema(){wt.query({query:at,variables:{}}).then((e=>{e&&(console.log(e.data.allSchema),Ja.dispatch("refreshSchema",e.data.allSchema),this.getProfile.schema&&""!==this.getProfile.schema&&tt.next({reference:this.getProfile.schema}))})).catch((e=>{console.log(e)}))},fetchUser(){console.log("********************"),wt.query({query:ot,variables:{}}).then((e=>{console.log(e.data.user),e&&Ja.dispatch("refreshUser",e.data.user)})).catch((e=>{console.log(e)}))},fetchTable(){console.log("********************"),wt.query({query:lt,variables:{}}).then((e=>{console.log(e.data.allSchemaTable),e&&Ja.dispatch("refreshTable",e.data.allSchemaTable)})).catch((e=>{console.log(e)}))},fetchColumn(e){wt.query({query:nt,variables:{schemaId:e}}).then((e=>{console.log(e.data.allSchemaTableColumnBySchemaId),e&&Ja.dispatch("refreshColumn",e.data.allSchemaTableColumnBySchemaId)})).catch((e=>{console.log(e)}))},fetchFilter(e){wt.query({query:st,variables:{schemaId:e}}).then((e=>{e&&Ja.dispatch("refreshFilter",e.data.allSchemaTableFilterBySchemaId)})).catch((e=>{console.log(e)}))},replaceColumn(e,a){Ja.dispatch("replaceColumnByTableId",{tableId:e,payload:a})}}};const _t=yt;var Ct=_t;const Dt=new Xe.X({tableId:"",filter:null,quickFilter:null,secondary:!1}),St=new Xe.X({secondary:!1}),It=et.ZP`
  query searchSchemaTableData(
    $tableId: ID!
    $pageSize: Int
    $pageNo: Int
    $filterId: String
    $anonymousFilter: JSON
    $quickFilter: JSON
  ) {
    searchSchemaTableData(
      tableId: $tableId
      pageSize: $pageSize
      pageNo: $pageNo
      filterId: $filterId
      anonymousFilter: $anonymousFilter
      quickFilter: $quickFilter
    ) {
      pageNo
      hasMore
      total
      results {
        id
        reference
        tableId
        row
        relation
      }
    }
  }
`;var Ht={name:"RecordInit",mounted(){Dt.asObservable().subscribe((e=>{const a={...e.quickFilter};if(e.secondary){const t=e.tableId&&(this.secondaryRecordParameter.tableId!==e.tableId||!(0,Ha.isEqual)(this.secondaryRecordParameter.filter,e.filter)||!(0,Ha.isEqual)(this.secondaryRecordParameter.quickFilter,a));t&&this.fetchRecords(e.tableId,e.filter,a,!0)}else{console.log(this.recordParameter.quickFilter,a,e.filter);const t=e.tableId&&(this.recordParameter.tableId!==e.tableId||!(0,Ha.isEqual)(this.recordParameter.filter,e.filter)||!(0,Ha.isEqual)(this.recordParameter.quickFilter,a));t&&this.fetchRecords(e.tableId,e.filter,a)}})),St.asObservable().subscribe((e=>{console.log(e,this.secondaryRecordParameter),(e.secondary&&this.secondaryRecordParameter.tableId&&this.secondaryRecordParameter.hasMore||!e.secondary&&this.recordParameter.tableId&&this.recordParameter.hasMore)&&this.loadMore(e.secondary)}))},setup(){const e=(0,v.oR)(),a=(0,o.Fl)((()=>e.getters.getRecordParameter(!1))),t=(0,o.Fl)((()=>e.getters.getRecordParameter(!0)));return{recordParameter:a,secondaryRecordParameter:t}},methods:{fetchRecords(e,a,t,l=!1){wt.query({query:It,variables:{tableId:e,anonymousFilter:a,quickFilter:t,pageSize:this.recordParameter.pageSize,pageNo:0},fetchPolicy:"network-only"}).then((o=>{if(o){const{pageNo:n,hasMore:s,results:i}=o.data.searchSchemaTableData;Ja.dispatch("refreshRecordParameter",{secondary:l,payload:{pageNo:n,hasMore:s,filter:a,quickFilter:t,tableId:e}}),Ja.dispatch("refreshRecord",{secondary:l,payload:i})}})).catch((e=>{console.log(e)}))},loadMore(e=!1){const a=e?this.secondaryRecordParameter:this.recordParameter;console.log(a,e),a.hasMore&&wt.query({query:It,variables:{tableId:a.tableId,anonymousFilter:a.filter,quickFilter:a.quickFilter,pageSize:a.pageSize,pageNo:a.pageNo},fetchPolicy:"network-only"}).then((a=>{if(a){const{pageNo:t,hasMore:l,results:o}=a.data.searchSchemaTableData;Ja.dispatch("refreshRecordParameter",{secondary:e,payload:{pageNo:t,hasMore:l}}),Ja.dispatch("appendRecord",{secondary:e,payload:o})}})).catch((e=>{console.log(e)}))}}};const Rt=Ht;var Et=Rt;const Tt=new Xe.X({tableId:""}),xt=et.ZP`
  query activity($domains: [String], $references: [String], $parentReference: String) {
    activity(domains: $domains, references: $references, parentReference: $parentReference) {
      id
      fields
      domain
      operation
      parentReference
      reference
      userId
      createdAt
    }
  }
`;var $t={name:"ActivityInit",mounted(){Tt.asObservable().subscribe((e=>{e.tableId&&this.fetchActivity("record",e.tableId)}))},methods:{fetchActivity(e,a){wt.query({query:xt,variables:{domain:e,parentReference:a}}).then((e=>{e&&(console.log("**",e.data.activity),Ja.dispatch("refreshActivity",e.data.activity))})).catch((e=>{console.log(e)}))}}};const qt=$t;var Ft=qt,At={name:"AppRoot",components:{Topbar:Qe,Sidebar:ce,Init:Ct,RecordInit:Et,ActivityInit:Ft},computed:{...(0,v.Se)(["getProfile"])}};const jt=(0,T.Z)(At,[["render",g]]);var Ot=jt;function Nt(e,a,t,l,n,s){const i=(0,o.up)("home");return(0,o.wg)(),(0,o.j4)(i)}const Zt={class:"home"};function Bt(e,a,t,l,n,s){const i=(0,o.up)("toolbar"),r=(0,o.up)("space-listing");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i),(0,o._)("div",Zt,[(0,o.Wm)(r)])],64)}var Lt=t(7244);const Gt=(0,o.Uk)("Choose space realm");function Pt(e,a,t,l,n,s){return(0,o.wg)(),(0,o.j4)(o.lR,{to:"#toolbar-left"},[Gt])}var Wt=(0,o.aZ)({name:"Toolbar",methods:{goBack(){this.$router.back()}},setup(){const e=(0,Ve.yj)(),a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getProfile)),l=(0,o.Fl)((()=>a.getters.getSchemaById(e.params.schemaId)));return{schema:l,profile:t}}});const Vt=(0,T.Z)(Wt,[["render",Pt],["__scopeId","data-v-28d5efba"]]);var zt=Vt;const Ut={class:"space-listing"},Mt=["onClickAreaClick"],Kt={class:"space-listing__item"},Yt={class:"space-listing__item__container"};function Qt(e,a,t,l,n,s){const i=(0,o.up)("app-section");return(0,o.wg)(),(0,o.j4)(i,{subtle:""},{default:(0,o.w5)((()=>[(0,o._)("div",Ut,[(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.spaces,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o._)("oak-click-area",{onClickAreaClick:t=>e.goToSpace(a.realm)},[(0,o._)("div",Kt,[(0,o._)("div",Yt,(0,p.zw)(a.name),1)])],40,Mt)])))),128))])])])),_:1})}function Xt(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)([e.mainSectionStyle,"app-section"])},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],2)}var Jt=t(68),el=(0,o.aZ)({name:"AppSection",props:{subtle:Boolean},computed:{mainSectionStyle(){return(0,Jt.q)({outlineColor:"none",elevation:this.subtle?0:1,fillColor:this.subtle?"none":"container",marginHorizontal:4,marginVertical:0,paddingHorizontal:this.subtle?0:3,paddingVertical:this.subtle?0:3})}}});const al=(0,T.Z)(el,[["render",Xt],["__scopeId","data-v-3c6ba16b"]]);var tl=al,ll=(0,o.aZ)({name:"SpaceListing",components:{AppSection:tl},methods:{goToSpace(e){this.$router.push(`/${e}/schema`)}},setup(){const e=(0,v.oR)(),a=(0,o.Fl)((()=>e.getters.getProfile)),t=(0,o.Fl)((()=>e.getters.getSpace)),l=(0,o.Fl)((()=>(0,Lt.q)({color:"global",colorMode:"darker"})));return{spaces:t,profile:a,dividerStyle:l}}});const ol=(0,T.Z)(ll,[["render",Qt],["__scopeId","data-v-3eb4dbd2"]]);var nl=ol,sl=(0,o.aZ)({name:"Home",components:{Toolbar:zt,SpaceListing:nl},setup(){const e=(0,Ve.yj)(),a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getTableBySchema(e.params.schemaId))),l=(0,o.Fl)((()=>a.getters.getProfile)),n=(0,o.Fl)((()=>(0,Lt.q)({color:"global",colorMode:"darker"})));return{tables:t,profile:l,dividerStyle:n}}});const il=(0,T.Z)(sl,[["render",Bt]]);var rl=il,cl=(0,o.aZ)({name:"HomeView",components:{Home:rl}});const dl=(0,T.Z)(cl,[["render",Nt]]);var pl=dl;function ul(e){const a=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return a?a.pop():""}function ml(e,a){document.cookie=`${e}=${a}`}const fl=e=>{window.location.href=`https://oneauth-app.ioak.io/#/realm/${e}/login/8db747df-7fa1-4a8f-b7e8-2d44ff803f4b`};var hl={name:"Login",computed:{...(0,v.Se)(["getProfile"])},methods:{...(0,v.nv)(["setSpace"])},setup(){const e=(0,Ve.yj)(),a=(0,Ve.tv)();e.query.realm&&e.query.access_token&&e.query.refresh_token&&(ml(`janus_${e.query.realm}-access_token`,e.query.access_token),ml(`janus_${e.query.realm}-refresh_token`,e.query.refresh_token),a.push({name:"ListSchemaView",params:{space:e.query.realm}}))}};const bl=hl;var gl=bl;function vl(e,a,t,l,n,s){const i=(0,o.up)("ListSchema");return(0,o.wg)(),(0,o.j4)(i)}const kl={class:"list-schema"},wl={class:"list-schema__container"},yl={class:"list-schema__container__main"};function _l(e,a,t,l,n,s){const i=(0,o.up)("action-bar"),r=(0,o.up)("schema-listing"),c=(0,o.up)("create-schema");return(0,o.wg)(),(0,o.iD)("div",kl,[(0,o.Wm)(i,{onCreate:e.openCreate,onClone:e.openClone,onEdit:e.openEdit,onDelete:e.handleDelete,onClearSelection:e.handleClear,selectedSchemas:e.selectedSchemas,sidepaneContent:e.sidepaneContent},null,8,["onCreate","onClone","onEdit","onDelete","onClearSelection","selectedSchemas","sidepaneContent"]),(0,o._)("div",wl,[(0,o._)("div",yl,[(0,o.Wm)(r,{selectedSchemas:e.selectedSchemas,onChangeSelection:e.handleSelect},null,8,["selectedSchemas","onChangeSelection"])]),(0,o._)("div",{class:(0,p.C_)(["list-schema__container__side",e.sidepaneStyle])},[["create","clone"].includes(e.sidepaneContent)?((0,o.wg)(),(0,o.j4)(c,{key:0,schema:e.schemaToCloneOrEdit,isSidepaneExpanded:e.isSidepaneExpanded,onSaved:a[0]||(a[0]=a=>e.updateSidepaneContent(e.sidepaneContent)),onClose:a[1]||(a[1]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["schema","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0),"edit"===e.sidepaneContent?((0,o.wg)(),(0,o.j4)(c,{key:1,edit:"",schema:e.schemaToCloneOrEdit,isSidepaneExpanded:e.isSidepaneExpanded,onSaved:a[2]||(a[2]=a=>e.updateSidepaneContent(e.sidepaneContent)),onClose:a[3]||(a[3]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["schema","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0)],2)])])}var Cl=t(2262);const Dl=et.ZP`
  mutation deleteSchema($idList: [ID!]) {
    deleteSchema(idList: $idList) {
      idList
    }
  }
`,Sl={class:"app-toolbar-action-container"},Il=(0,o._)("div",{class:"desktop-only"},"Create",-1),Hl=(0,o._)("div",{class:"desktop-only"},"Clone",-1),Rl=(0,o._)("div",{class:"desktop-only"},"Edit",-1),El=(0,o._)("div",{class:"desktop-only"},"Delete",-1),Tl={class:"app-toolbar-action"},xl={class:"desktop-only"};function $l(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.j4)(o.lR,{to:"#toolbar-left"},[(0,o._)("div",Sl,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=a=>e.$emit("create"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("create"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","plus"]}),Il],2)],32),1===e.selectedSchemas.length?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:0,onClickAreaClick:a[1]||(a[1]=a=>e.$emit("clone"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("clone"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","clone"]}),Hl],2)],32)):(0,o.kq)("",!0),1===e.selectedSchemas.length?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:1,onClickAreaClick:a[2]||(a[2]=a=>e.$emit("edit"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("edit"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","pencil-alt"]}),Rl],2)],32)):(0,o.kq)("",!0),e.selectedSchemas?.length>0?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:2,onClickAreaClick:a[3]||(a[3]=a=>e.$emit("delete"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("delete"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","trash-alt"]}),El],2)],32)):(0,o.kq)("",!0),e.selectedSchemas?.length>0?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:3,onClickAreaClick:a[4]||(a[4]=a=>e.$emit("clear-selection"))},[(0,o._)("div",Tl,[(0,o.Wm)(i,{icon:["fas","times"]}),(0,o._)("div",xl,"Clear ("+(0,p.zw)(e.selectedSchemas?.length)+")",1)])],32)):(0,o.kq)("",!0)])])}var ql=(0,o.aZ)({name:"ActionBar",props:{selectedSchemas:Array,sidepaneContent:String},setup(){const e=(0,v.oR)(),a=(0,o.Fl)((()=>e.getters.getProfile));return{profile:a}}});const Fl=(0,T.Z)(ql,[["render",$l]]);var Al=Fl;const jl={class:"schema-listing"},Ol={class:"schema-listing__search"},Nl=["value"],Zl={class:"schema-listing__list"},Bl=["onClickAreaClick"],Ll={class:"schema-listing__list__item__left"},Gl={class:"schema-listing__list__item__left__heading"},Pl={class:"schema-listing__list__item__left__description"},Wl={class:"schema-listing__list__item__right"},Vl=["value","name","onInputChange"];function zl(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",jl,[(0,o._)("div",Ol,[(0,o._)("oak-input",{name:"search",value:e.searchText,onInputInput:a[0]||(a[0]=(...a)=>e.handleSearchChange&&e.handleSearchChange(...a)),placeholder:"Type to search",class:"schema-listing__search__input",color:"container"},null,40,Nl)]),(0,o._)("div",Zl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.schemas,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id,class:"schema-listing__list__item"},[(0,o._)("oak-click-area",{onClickAreaClick:t=>e.goToSchema(a)},[(0,o._)("div",Ll,[(0,o._)("div",Gl,[(0,o.Wm)(i,{icon:["fas","server"]}),(0,o._)("div",null,(0,p.zw)(a.name),1)]),(0,o._)("div",Pl,(0,p.zw)(a.description),1)])],40,Bl),(0,o._)("div",Wl,[(0,o._)("oak-checkbox",{value:e.selectedSchemas.includes(a.id),name:a.id,onInputChange:t=>e.handleToggle(t,a),color:"primary"},null,40,Vl)])])))),128))])])}var Ul=(0,o.aZ)({name:"SchemaListing",props:{selectedSchemas:Array},methods:{goToSchema(e){tt.next({reference:e.reference}),this.$router.push(`/${this.profile.space}/schema/${e.reference}`)},handleSearchChange(e){this.searchText=e.detail.value},handleToggle(e,a){this.$emit("change-selection",{detail:{name:a,value:e.detail.value}})}},setup(){const e=(0,Cl.iH)(""),a=((0,Ve.yj)(),(0,v.oR)()),t=(0,o.Fl)((()=>a.getters.getSchema)),l=(0,o.Fl)((()=>a.getters.getProfile));return{schemas:t,profile:l,searchText:e}}});const Ml=(0,T.Z)(Ul,[["render",zl],["__scopeId","data-v-cdcb79fc"]]);var Kl=Ml;const Yl={class:"create-schema"},Ql={class:"sidepane-main"},Xl=["formGroupName"],Jl=["value","formGroupName"],eo=["value","formGroupName"];function ao(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar-create"),c=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",Yl,[(0,o.Wm)(i,{heading:e.edit?`Edit #${e.schema.id}`:e.schema?`Clone based on #${e.schema.id}`:"Create new schema",onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["heading","isSidepaneExpanded"]),(0,o._)("div",Ql,[(0,o.Wm)(r,{onClose:a[3]||(a[3]=a=>e.$emit("close")),formGroupName:e.formId},null,8,["formGroupName"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("oak-form",{formGroupName:e.formId,onFormSubmit:a[6]||(a[6]=(...a)=>e.handleSubmit&&e.handleSubmit(...a))},[(0,o._)("oak-input",{name:"name",value:e.state.name,formGroupName:e.formId,onInputInput:a[4]||(a[4]=(...a)=>e.handleChange&&e.handleChange(...a)),label:"Schema name",gutterBottom:""},null,40,Jl),(0,o._)("oak-input",{name:"description",value:e.state.description,formGroupName:e.formId,onInputInput:a[5]||(a[5]=(...a)=>e.handleChange&&e.handleChange(...a)),label:"Description",gutterBottom:""},null,40,eo)],40,Xl)])])])),_:1})])])}const to=et.ZP`
  mutation updateSchema($payload: SchemaPayload) {
    updateSchema(payload: $payload) {
      id
      reference
      name
      description
      createdAt
      updatedAt
    }
  }
`;var lo=t(5934);const oo={class:"sidepane-heading"},no={class:"sidepane-heading__left"},so={class:"sidepane-heading__right"},io={class:"sidepane-heading__right__icon"},ro={class:"sidepane-heading__right__icon"},co={class:"sidepane-heading__right__icon sidepane-heading__right__icon--close"};function po(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",oo,[(0,o._)("div",no,(0,p.zw)(e.heading),1),(0,o._)("div",so,[e.isSidepaneExpanded?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:0,onClickAreaClick:a[0]||(a[0]=a=>e.$emit("collapse")),class:"sidepane-heading__rightsidepane-heading__right__expand-collapse"},[(0,o._)("div",io,[(0,o.Wm)(i,{icon:["fas","compress-alt"]})])],32)):((0,o.wg)(),(0,o.iD)("oak-click-area",{key:1,onClickAreaClick:a[1]||(a[1]=a=>e.$emit("expand")),class:"sidepane-heading__rightsidepane-heading__right__expand-collapse"},[(0,o._)("div",ro,[(0,o.Wm)(i,{icon:["fas","expand-alt"]})])],32)),(0,o._)("oak-click-area",{onClickAreaClick:a[2]||(a[2]=a=>e.$emit("close"))},[(0,o._)("div",co,[(0,o.Wm)(i,{icon:["fas","times"]})])],32)])])}var uo=t(9189),mo=(0,o.aZ)({name:"SidepaneHeading",props:{heading:String,isSidepaneExpanded:Boolean},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}}});const fo=(0,T.Z)(mo,[["render",po],["__scopeId","data-v-0c73188e"]]);var ho=fo;const bo={class:"action-footer action-footer-sidepane position-right"},go=["formGroupName"],vo=(0,o.Uk)("Save"),ko=(0,o.Uk)("Cancel");function wo(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",bo,[(0,o._)("oak-button",{theme:"primary",variant:"outline",shape:"sharp",formGroupName:e.formGroupName,type:"submit"},[(0,o.Wm)(i,{icon:["fas","check"]}),vo],8,go),(0,o._)("oak-button",{theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("close"))},[(0,o.Wm)(i,{icon:["fas","times"]}),ko],32)])}var yo=(0,o.aZ)({name:"ActionBarCreate",props:{formGroupName:String},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}}});const _o=(0,T.Z)(yo,[["render",wo]]);var Co=_o,Do=(0,o.aZ)({name:"CreateSchema",props:{schema:Object,isSidepaneExpanded:Boolean,edit:Boolean},data(){return{state:{},formId:(0,lo.Z)()}},components:{ActionBarCreate:Co,SidepaneHeading:ho,AppSection:tl},setup(e){(0,v.oR)();const{mutate:a}=(0,n.Db)(to);return{mutate:a}},methods:{handleChange(e){this.state={...this.state,[e.detail.name]:e.detail.value}},handleSubmit(e){this.mutate({payload:{id:this.edit?this.schema?.id:null,name:this.state.name,description:this.state.description}}).then((e=>{Ja.dispatch("appendSchema",e.data.updateSchema),this.state={},this.$emit("saved")}))}},mounted(){this.schema&&(this.state={...this.schema})},watch:{schema(e,a){this.state=e?{...e}:{}}}});const So=(0,T.Z)(Do,[["render",ao],["__scopeId","data-v-5bf002d2"]]);var Io=So,Ho=(0,o.aZ)({name:"ListSchema",components:{ActionBar:Al,SchemaListing:Kl,CreateSchema:Io},methods:{updateSidepaneContent(e){this.sidepaneContent=this.sidepaneContent===e?"":e},openCreate(){console.log("********"),this.schemaToCloneOrEdit=null,this.updateSidepaneContent("create")},openClone(){this.schemaToCloneOrEdit=1===this.selectedSchemasObject.length?this.selectedSchemasObject[0]:null,this.updateSidepaneContent("clone")},openEdit(){this.schemaToCloneOrEdit=1===this.selectedSchemasObject.length?this.selectedSchemasObject[0]:null,this.updateSidepaneContent("edit")},expandSidepane(){this.isSidepaneExpanded=!0},collapseSidepane(){this.isSidepaneExpanded=!1},goToSchema(e){this.$router.push(`/${this.profile.space}/schema/${e}`)},handleSelect(e){e.detail.value?(this.selectedSchemas.push(e.detail.name.id),this.selectedSchemasObject.push(e.detail.name)):(this.selectedSchemasObject.splice(this.selectedSchemas.indexOf(e.detail.name.id),1),this.selectedSchemas.splice(this.selectedSchemas.indexOf(e.detail.name.id),1))},handleClear(){this.selectedSchemas.splice(0,this.selectedSchemas.length),this.selectedSchemasObject.splice(0,this.selectedSchemasObject.length)},handleDelete(){this.deleteSchema({idList:this.selectedSchemas}).then((e=>{Ja.dispatch("deleteSchema",e.data.deleteSchema.idList)}))}},setup(){const e=(0,Cl.qj)([]),a=(0,Cl.qj)([]),t=(0,Cl.iH)(!1),l=(0,Cl.iH)(""),s=(0,o.Fl)((()=>`${t.value?"":"sidepane-collapsed"} sidepane-active--${l.value}`)),i=(0,v.oR)(),r=(0,o.Fl)((()=>i.getters.getProfile)),c=(0,Cl.qj)(null),{mutate:d}=(0,n.Db)(Dl);return{isSidepaneExpanded:t,sidepaneContent:l,sidepaneStyle:s,profile:r,selectedSchemas:e,selectedSchemasObject:a,schemaToCloneOrEdit:c,deleteSchema:d}}});const Ro=(0,T.Z)(Ho,[["render",_l],["__scopeId","data-v-61c4137e"]]);var Eo=Ro,To=(0,o.aZ)({name:"ListSchemaView",components:{ListSchema:Eo}});const xo=(0,T.Z)(To,[["render",vl]]);var $o=xo;function qo(e,a,t,l,n,s){const i=(0,o.up)("ListTable");return e.schemaId?((0,o.wg)(),(0,o.j4)(i,{key:0,schemaId:e.schemaId},null,8,["schemaId"])):(0,o.kq)("",!0)}const Fo={class:"list-table"},Ao={class:"list-table__container"},jo={class:"list-table__container__main"};function Oo(e,a,t,l,n,s){const i=(0,o.up)("action-bar"),r=(0,o.up)("table-listing"),c=(0,o.up)("create-table");return(0,o.wg)(),(0,o.iD)("div",Fo,[(0,o.Wm)(i,{onCreate:e.openCreate,onClone:e.openClone,onEdit:e.openEdit,onDelete:e.handleDelete,onClearSelection:e.handleClear,selectedTables:e.selectedTables,sidepaneContent:e.sidepaneContent},null,8,["onCreate","onClone","onEdit","onDelete","onClearSelection","selectedTables","sidepaneContent"]),(0,o._)("div",Ao,[(0,o._)("div",jo,[(0,o.Wm)(r,{schemaId:e.schemaId,selectedTables:e.selectedTables,onChangeSelection:e.handleSelect},null,8,["schemaId","selectedTables","onChangeSelection"])]),(0,o._)("div",{class:(0,p.C_)(["list-table__container__side",e.sidepaneStyle])},[["create","clone"].includes(e.sidepaneContent)?((0,o.wg)(),(0,o.j4)(c,{key:0,schemaId:e.schemaId,table:e.tableToCloneOrEdit,isSidepaneExpanded:e.isSidepaneExpanded,onSaved:a[0]||(a[0]=a=>e.updateSidepaneContent(e.sidepaneContent)),onClose:a[1]||(a[1]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["schemaId","table","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0),"edit"===e.sidepaneContent?((0,o.wg)(),(0,o.j4)(c,{key:1,edit:"",schemaId:e.schemaId,table:e.tableToCloneOrEdit,isSidepaneExpanded:e.isSidepaneExpanded,onSaved:a[2]||(a[2]=a=>e.updateSidepaneContent(e.sidepaneContent)),onClose:a[3]||(a[3]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["schemaId","table","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0)],2)])])}const No=et.ZP`
  mutation deleteSchemaTable($idList: [ID!]) {
    deleteSchemaTable(idList: $idList) {
      idList
    }
  }
`,Zo={class:"app-toolbar-action-container"},Bo=(0,o._)("div",{class:"desktop-only"},"Create",-1),Lo=(0,o._)("div",{class:"desktop-only"},"Clone",-1),Go=(0,o._)("div",{class:"desktop-only"},"Edit",-1),Po=(0,o._)("div",{class:"desktop-only"},"Delete",-1),Wo={class:"app-toolbar-action"},Vo={class:"desktop-only"};function zo(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.j4)(o.lR,{to:"#toolbar-left"},[(0,o._)("div",Zo,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=a=>e.$emit("create"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("create"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","plus"]}),Bo],2)],32),1===e.selectedTables.length?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:0,onClickAreaClick:a[1]||(a[1]=a=>e.$emit("clone"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("clone"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","clone"]}),Lo],2)],32)):(0,o.kq)("",!0),1===e.selectedTables.length?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:1,onClickAreaClick:a[2]||(a[2]=a=>e.$emit("edit"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("edit"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","pencil-alt"]}),Go],2)],32)):(0,o.kq)("",!0),e.selectedTables?.length>0?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:2,onClickAreaClick:a[3]||(a[3]=a=>e.$emit("delete"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("delete"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","trash-alt"]}),Po],2)],32)):(0,o.kq)("",!0),e.selectedTables?.length>0?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:3,onClickAreaClick:a[4]||(a[4]=a=>e.$emit("clear-selection"))},[(0,o._)("div",Wo,[(0,o.Wm)(i,{icon:["fas","times"]}),(0,o._)("div",Vo,"Clear ("+(0,p.zw)(e.selectedTables?.length)+")",1)])],32)):(0,o.kq)("",!0)])])}var Uo=(0,o.aZ)({name:"ActionBar",props:{selectedTables:Array,sidepaneContent:String},setup(){const e=(0,v.oR)(),a=(0,o.Fl)((()=>e.getters.getProfile));return{profile:a}}});const Mo=(0,T.Z)(Uo,[["render",zo]]);var Ko=Mo;const Yo={class:"table-listing"},Qo={class:"table-listing__search"},Xo=["value"],Jo={class:"table-listing__list"},en=["onClickAreaClick"],an={class:"table-listing__list__item__left"},tn={class:"table-listing__list__item__left__heading"},ln={class:"table-listing__list__item__left__description"},on={class:"table-listing__list__item__right"},nn=["value","name","onInputChange"];function sn(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",Yo,[(0,o._)("div",Qo,[(0,o._)("oak-input",{name:"search",value:e.searchText,onInputInput:a[0]||(a[0]=(...a)=>e.handleSearchChange&&e.handleSearchChange(...a)),placeholder:"Type to search",class:"table-listing__search__input",color:"container"},null,40,Xo)]),(0,o._)("div",Jo,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tables,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id,class:"table-listing__list__item"},[(0,o._)("oak-click-area",{onClickAreaClick:t=>e.goToTable(a)},[(0,o._)("div",an,[(0,o._)("div",tn,[(0,o.Wm)(i,{icon:["fas","table"]}),(0,o._)("div",null,(0,p.zw)(a.name),1)]),(0,o._)("div",ln,(0,p.zw)(a.description),1)])],40,en),(0,o._)("div",on,[(0,o._)("oak-checkbox",{value:e.selectedTables.includes(a.id),name:a.id,onInputChange:t=>e.handleToggle(t,a),color:"primary"},null,40,nn)])])))),128))])])}var rn=(0,o.aZ)({name:"ListTable",props:{selectedTables:Array,schemaId:String},methods:{goToTable(e){this.$router.push(`/${this.profile.space}/schema/${this.schemaRef}/table/${e.reference}`)},handleSearchChange(e){this.searchText=e.detail.value},handleToggle(e,a){this.$emit("change-selection",{detail:{name:a,value:e.detail.value}})}},setup(e){const a=(0,Cl.iH)(""),t=((0,Ve.yj)(),(0,v.oR)()),l=(0,o.Fl)((()=>t.getters.getTableBySchema(e.schemaId)?.filter((e=>e.name.toLowerCase().includes(a?.value?.toLowerCase())||e.description.toLowerCase().includes(a?.value?.toLowerCase()))))),n=(0,o.Fl)((()=>t.getters.getProfile)),s=(0,o.Fl)((()=>t.getters.schemaIdToRef(e.schemaId)));return{tables:l,profile:n,searchText:a,schemaRef:s}}});const cn=(0,T.Z)(rn,[["render",sn],["__scopeId","data-v-03e6d6cf"]]);var dn=cn;const pn={class:"create-table"},un={class:"sidepane-main"},mn=["formGroupName"],fn=["value","formGroupName"],hn=["value","formGroupName"];function bn(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar-create"),c=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",pn,[(0,o.Wm)(i,{heading:e.edit?`Edit #${e.table.id}`:e.table?`Clone based on #${e.table.id}`:"Create new table",onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["heading","isSidepaneExpanded"]),(0,o._)("div",un,[(0,o.Wm)(r,{onClose:a[3]||(a[3]=a=>e.$emit("close")),formGroupName:e.formId},null,8,["formGroupName"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("oak-form",{formGroupName:e.formId,onFormSubmit:a[6]||(a[6]=(...a)=>e.handleSubmit&&e.handleSubmit(...a))},[(0,o._)("oak-input",{name:"name",value:e.state.name,formGroupName:e.formId,onInputInput:a[4]||(a[4]=(...a)=>e.handleChange&&e.handleChange(...a)),label:"Table name",gutterBottom:""},null,40,fn),(0,o._)("oak-input",{name:"description",value:e.state.description,formGroupName:e.formId,onInputInput:a[5]||(a[5]=(...a)=>e.handleChange&&e.handleChange(...a)),label:"Description",gutterBottom:""},null,40,hn)],40,mn)])])])),_:1})])])}const gn=et.ZP`
  mutation updateSchemaTable($payload: SchemaTablePayload) {
    updateSchemaTable(payload: $payload) {
      id
      schemaId
      reference
      name
      description
      createdAt
      updatedAt
    }
  }
`,vn={class:"action-footer action-footer-sidepane position-right"},kn=["formGroupName"],wn=(0,o.Uk)("Save"),yn=(0,o.Uk)("Cancel");function _n(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",vn,[(0,o._)("oak-button",{theme:"primary",variant:"outline",shape:"sharp",formGroupName:e.formGroupName,type:"submit"},[(0,o.Wm)(i,{icon:["fas","check"]}),wn],8,kn),(0,o._)("oak-button",{theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("close"))},[(0,o.Wm)(i,{icon:["fas","times"]}),yn],32)])}var Cn=(0,o.aZ)({name:"ActionBarCreate",props:{formGroupName:String},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}}});const Dn=(0,T.Z)(Cn,[["render",_n]]);var Sn=Dn,In=(0,o.aZ)({name:"CreateTable",props:{schemaId:String,table:Object,isSidepaneExpanded:Boolean,edit:Boolean},data(){return{state:{},formId:(0,lo.Z)()}},components:{ActionBarCreate:Sn,SidepaneHeading:ho,AppSection:tl},setup(e){(0,v.oR)();const{mutate:a}=(0,n.Db)(gn);return{mutate:a}},methods:{handleChange(e){this.state={...this.state,[e.detail.name]:e.detail.value}},handleSubmit(e){this.mutate({payload:{id:this.edit?this.table?.id:null,name:this.state.name,reference:this.state.reference,description:this.state.description,schemaId:this.schemaId}}).then((e=>{Ja.dispatch("appendTable",e.data.updateSchemaTable),this.state={},this.$emit("saved")}))}},mounted(){this.table&&(this.state={...this.table})},watch:{table(e,a){this.state=e?{...e}:{}}}});const Hn=(0,T.Z)(In,[["render",bn],["__scopeId","data-v-1751fa76"]]);var Rn=Hn,En=(0,o.aZ)({name:"ListTable",components:{ActionBar:Ko,TableListing:dn,CreateTable:Rn},props:{schemaId:String},methods:{updateSidepaneContent(e){this.sidepaneContent=this.sidepaneContent===e?"":e},openCreate(){this.tableToCloneOrEdit=null,this.updateSidepaneContent("create")},openClone(){this.tableToCloneOrEdit=1===this.selectedTablesObject.length?this.selectedTablesObject[0]:null,this.updateSidepaneContent("clone")},openEdit(){this.tableToCloneOrEdit=1===this.selectedTablesObject.length?this.selectedTablesObject[0]:null,this.updateSidepaneContent("edit")},expandSidepane(){this.isSidepaneExpanded=!0},collapseSidepane(){this.isSidepaneExpanded=!1},goToTable(e){this.$router.push(`/${this.profile.space}/schema/${this.schemaId}/table/${e}`)},handleSelect(e){e.detail.value?(this.selectedTables.push(e.detail.name.id),this.selectedTablesObject.push(e.detail.name)):(this.selectedTablesObject.splice(this.selectedTables.indexOf(e.detail.name.id),1),this.selectedTables.splice(this.selectedTables.indexOf(e.detail.name.id),1))},handleClear(){this.selectedTables.splice(0,this.selectedTables.length),this.selectedTablesObject.splice(0,this.selectedTablesObject.length)},handleDelete(){this.deleteTable({idList:this.selectedTables}).then((e=>{Ja.dispatch("deleteTable",e?.data?.deleteSchemaTable?.idList)}))}},setup(){const e=(0,Cl.qj)([]),a=(0,Cl.qj)([]),t=(0,Cl.iH)(!1),l=(0,Cl.iH)(""),s=(0,o.Fl)((()=>`${t.value?"":"sidepane-collapsed"} sidepane-active--${l.value}`)),i=(0,v.oR)(),r=(0,o.Fl)((()=>i.getters.getProfile)),c=(0,Cl.qj)(null),{mutate:d}=(0,n.Db)(No);return{isSidepaneExpanded:t,sidepaneContent:l,sidepaneStyle:s,profile:r,selectedTables:e,selectedTablesObject:a,tableToCloneOrEdit:c,deleteTable:d}}});const Tn=(0,T.Z)(En,[["render",Oo],["__scopeId","data-v-2e5b438e"]]);var xn=Tn,$n=(0,o.aZ)({name:"ListTableView",components:{ListTable:xn},setup(){const e=(0,v.oR)(),a=(0,Ve.yj)(),t=(0,o.Fl)((()=>e.getters.schemaRefToId(a.params.schemaRef)));return{schemaId:t}}});const qn=(0,T.Z)($n,[["render",qo]]);var Fn=qn;function An(e,a,t,l,n,s){const i=(0,o.up)("list-record");return e.tableId?((0,o.wg)(),(0,o.j4)(i,{key:0,tableId:e.tableId},null,8,["tableId"])):(0,o.kq)("",!0)}const jn={class:"list-table-data"},On={class:"list-table-data__container"},Nn={class:"list-table-data__container__main"},Zn={class:"list-table-data__container__main__datagrid"};function Bn(e,a,t,l,n,s){const i=(0,o.up)("toolbar"),r=(0,o.up)("action-bar"),c=(0,o.up)("datagrid"),d=(0,o.up)("column-settings"),u=(0,o.up)("edit-record"),m=(0,o.up)("activity"),f=(0,o.up)("create-record"),h=(0,o.up)("filter-pane");return(0,o.wg)(),(0,o.iD)("div",jn,[(0,o.Wm)(i,{table:e.table,onToggleDenseView:e.toggleDenseView,dense:e.dense,multiselect:e.multiselect,onToggleMultiselect:e.toggleMultiselect,wrap:e.wrap,onToggleWrap:e.toggleWrap},null,8,["table","onToggleDenseView","dense","multiselect","onToggleMultiselect","wrap","onToggleWrap"]),(0,o._)("div",On,[(0,o._)("div",Nn,[(0,o.Wm)(r,{selectedRecords:e.selectedRecords,multiselect:e.multiselect,sidepaneContent:e.sidepaneContent,onClearSelection:e.clearSelectedRecords,onView:e.goToView,onDelete:e.deleteSelectedRecords,onCreate:e.openCreate,onClone:e.openClone,onSettings:a[0]||(a[0]=a=>e.updateSidepaneContent("settings")),onFilter:a[1]||(a[1]=a=>e.updateSidepaneContent("filter")),onActivity:a[2]||(a[2]=a=>e.updateSidepaneContent("activity")),onEdit:a[3]||(a[3]=a=>e.updateSidepaneContent("edit"))},null,8,["selectedRecords","multiselect","sidepaneContent","onClearSelection","onView","onDelete","onCreate","onClone"]),(0,o._)("div",Zn,[(0,o.Wm)(c,{tableId:e.tableId,selectedRecords:e.selectedRecords,dense:e.dense,multiselect:e.multiselect,wrap:e.wrap,filter:e.filter,isSelectAll:e.isSelectAll,scrollId:"iscroll-1",onSelectNone:e.clearSelectedRecords,onSelectAll:e.selectAllRecords,onRecordToggled:e.handleRecordToggled,onRecordSelected:e.handleRecordSelected},null,8,["tableId","selectedRecords","dense","multiselect","wrap","filter","isSelectAll","onSelectNone","onSelectAll","onRecordToggled","onRecordSelected"])])]),(0,o._)("div",{class:(0,p.C_)(["list-table-data__container__side",e.sidepaneStyle])},["settings"===e.sidepaneContent?((0,o.wg)(),(0,o.j4)(d,{key:0,onSaved:a[4]||(a[4]=a=>e.updateSidepaneContent(e.sidepaneContent)),tableId:e.table.id,selectedRecords:e.selectedRecordsObject,isSidepaneExpanded:e.isSidepaneExpanded,onClose:a[5]||(a[5]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["tableId","selectedRecords","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0),"edit"===e.sidepaneContent?((0,o.wg)(),(0,o.j4)(u,{key:1,onSaved:e.handleRecordUpdate,tableId:e.table.id,selectedRecords:e.selectedRecordsObject,isSidepaneExpanded:e.isSidepaneExpanded,onClose:a[6]||(a[6]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["onSaved","tableId","selectedRecords","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0),"activity"===e.sidepaneContent?((0,o.wg)(),(0,o.j4)(m,{key:2,table:e.table,selectedRecords:e.selectedRecords,isSidepaneExpanded:e.isSidepaneExpanded,onClose:a[7]||(a[7]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["table","selectedRecords","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0),["create","clone"].includes(e.sidepaneContent)?((0,o.wg)(),(0,o.j4)(f,{key:3,tableId:e.tableId,record:e.recordToClone,filter:e.filter,isSidepaneExpanded:e.isSidepaneExpanded,onSaved:a[8]||(a[8]=a=>e.updateSidepaneContent(e.sidepaneContent)),onClose:a[9]||(a[9]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane},null,8,["tableId","record","filter","isSidepaneExpanded","onExpand","onCollapse"])):(0,o.kq)("",!0),"filter"===e.sidepaneContent?((0,o.wg)(),(0,o.j4)(h,{key:4,isOpen:e.isFilterDialogOpen,tableId:e.table.id,filter:e.filter,isSidepaneExpanded:e.isSidepaneExpanded,onClose:a[10]||(a[10]=a=>e.updateSidepaneContent(e.sidepaneContent)),onExpand:e.expandSidepane,onCollapse:e.collapseSidepane,onApply:e.handleApplyFilter,onClear:e.handleClearFilter},null,8,["isOpen","tableId","filter","isSidepaneExpanded","onExpand","onCollapse","onApply","onClear"])):(0,o.kq)("",!0)],2)])])}const Ln=et.ZP`
  mutation deleteSchemaTableData($tableId: ID!, $idList: [ID!]) {
    deleteSchemaTableData(tableId: $tableId, idList: $idList) {
      idList
    }
  }
`,Gn={class:"sidepane-main"},Pn={class:"activity"};function Wn(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar-create"),c=(0,o.up)("activity-log"),d=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,{heading:"Recent activity",onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["isSidepaneExpanded"]),(0,o._)("div",Gn,[(0,o.Wm)(r,{onClose:a[3]||(a[3]=a=>e.$emit("close")),formGroupName:e.formId},null,8,["formGroupName"]),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",Pn,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.result?.activity,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"activity-item"},[(0,o.Wm)(c,{log:e},null,8,["log"])])))),128))])])])),_:1})])])}const Vn={class:"activity-log"};function zn(e,a,t,l,n,s){const i=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",Vn,[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(`${e.user?.given_name} ${e.user?.family_name}`)+" "+(0,p.zw)(e.text),1)])),_:1})])}var Un=(0,o.aZ)({name:"ActivityLog",components:{AppSection:tl},props:{log:Object},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getUser.find((a=>a.id===e.log?.userId)))),l=()=>{let a="";return"record"===e.log?.domain&&"ADD"===e.log?.operation?a+=`Created new record ${e.log.reference}`:"record"===e.log?.domain&&"DELETE"===e.log?.operation?a+=`Deleted ${e.log.reference?.length} record${e.log.reference?.length>1?"s":""}`:"record"===e.log?.domain&&"EDIT"===e.log?.operation?a+=`Updated ${e.log.fields.toString()} fields of record ${e.log.reference}`:"column"===e.log?.domain&&"ADD"===e.log?.operation?a+=`Added new column ${e.log.reference}`:"column"===e.log?.domain&&"EDIT"===e.log?.operation&&(a+=`Updated ${e.log.fields.toString()} fields of column definition ${e.log.reference}`),a},n=(0,o.Fl)((()=>l()));return{user:t,text:n}}});const Mn=(0,T.Z)(Un,[["render",zn],["__scopeId","data-v-46d97366"]]);var Kn=Mn,Yn=(0,o.aZ)({components:{ActivityLog:Kn,SidepaneHeading:ho},name:"Activity",props:{selectedRecords:Array,table:Object,isSidepaneExpanded:Boolean},setup(e){const a=(0,Cl.qj)({domains:["record"],parentReference:e.table?.id,references:e.selectedRecords}),{result:t}=(0,n.aM)(xt,a),l=()=>{e.table&&(e.table&&e.table!==a.parentReference&&(a.parentReference=e.table.id,a.references=e.selectedRecords),e.selectedRecords&&e.selectedRecords.length>0?a.domains=["record"]:a.domains=["record","column"])};return(0,o.YP)((()=>e.table),(()=>{l()})),(0,o.YP)((()=>e.selectedRecords),(()=>{l()})),{result:t,variables:a}}});const Qn=(0,T.Z)(Yn,[["render",Wn],["__scopeId","data-v-106ebfac"]]);var Xn=Qn;const Jn={class:"manage-table"},es={class:"sidepane-main"},as={class:"field-listing"};function ts(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar"),c=(0,o.up)("field-view"),d=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",Jn,[(0,o.Wm)(i,{heading:"Table settings",onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["isSidepaneExpanded"]),(0,o._)("div",es,[(0,o.Wm)(r,{onSave:e.save,onAdd:e.add,onReset:e.reset,editing:e.editing},null,8,["onSave","onAdd","onReset","editing"]),(0,o.Wm)(d,{subtle:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",as,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.state?.current,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o.Wm)(c,{field:a,onChange:a=>e.handleChange(a,t),onDelete:a=>e.handleDelete(t)},null,8,["field","onChange","onDelete"])])))),128))])])])),_:1})])])}const ls=et.ZP`
  mutation updateSchemaTableColumn($payload: [SchemaTableColumnPayload]) {
    updateSchemaTableColumn(payload: $payload) {
      id
      name
      tableId
      datatype
      meta
      options {
        id
        tableId
        columnId
        value
        color
        icon
      }
    }
  }
`,os={class:"field-view"},ns=["name","groupName"],ss={slot:"header"},is={slot:"main"},rs=["value"],cs=["value"];function ds(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("meta-user-impersonate"),c=(0,o.up)("meta-relation"),d=(0,o.up)("meta-computed"),u=(0,o.up)("meta-percentage"),m=(0,o.up)("meta-multiple"),f=(0,o.up)("meta-indicator"),h=(0,o.up)("options");return(0,o.wg)(),(0,o.iD)("div",os,[(0,o._)("oak-expanse",{elevation:"1",name:e.field.id,groupName:e.field.tableId,onExpanseExpanded:a[3]||(a[3]=(...a)=>e.handleExpand&&e.handleExpand(...a)),onExpanseCollapsed:a[4]||(a[4]=(...a)=>e.handleCollapse&&e.handleCollapse(...a))},[(0,o._)("div",ss,[(0,o._)("div",{class:(0,p.C_)(["field-view__header",e.isExpanded?"expanded":""])},[(0,o._)("div",null,(0,p.zw)(e.field.name),1),(0,o.Wm)(i,{icon:["fas","chevron-down"]})],2)]),(0,o._)("div",is,[(0,o._)("div",{class:(0,p.C_)(["field-view__main",e.isExpanded?"expanded":""])},[(0,o._)("oak-form-actions-container",null,[(0,o._)("oak-button",{theme:"danger",variant:"regular",onButtonClick:a[0]||(a[0]=a=>e.$emit("delete")),shape:"sharp",size:"xsmall"},"Delete",32)]),(0,o._)("oak-input",{color:"global",name:"name",label:"Field name",value:e.field.name,onInputInput:a[1]||(a[1]=(...a)=>e.handleChange&&e.handleChange(...a)),gutterBottom:""},null,40,rs),(0,o._)("oak-select",{fill:"global",name:"datatype",label:"Datatype",positioningStrategy:"fixed",value:e.field.datatype,options:["text","number","date","list","relation","user","percentage","computed"],onSelectInput:a[2]||(a[2]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,cs),"user"===e.field.datatype?((0,o.wg)(),(0,o.j4)(r,{key:0,meta:e.field.meta,onMetaChange:e.handleChange},null,8,["meta","onMetaChange"])):(0,o.kq)("",!0),"relation"===e.field.datatype?((0,o.wg)(),(0,o.j4)(c,{key:1,meta:e.field.meta,onMetaChange:e.handleChange},null,8,["meta","onMetaChange"])):(0,o.kq)("",!0),"computed"===e.field.datatype?((0,o.wg)(),(0,o.j4)(d,{key:2,meta:e.field.meta,onMetaChange:e.handleChange},null,8,["meta","onMetaChange"])):(0,o.kq)("",!0),"percentage"===e.field.datatype?((0,o.wg)(),(0,o.j4)(u,{key:3,meta:e.field.meta,onMetaChange:e.handleChange},null,8,["meta","onMetaChange"])):(0,o.kq)("",!0),["list","relation","user"].includes(e.field.datatype)?((0,o.wg)(),(0,o.j4)(m,{key:4,meta:e.field.meta,onMetaChange:e.handleChange},null,8,["meta","onMetaChange"])):(0,o.kq)("",!0),"list"===e.field.datatype?((0,o.wg)(),(0,o.j4)(f,{key:5,meta:e.field.meta,onMetaChange:e.handleChange},null,8,["meta","onMetaChange"])):(0,o.kq)("",!0),"list"===e.field.datatype?((0,o.wg)(),(0,o.j4)(h,{key:6,options:e.field.options,meta:e.field.meta,onOptionsChange:e.handleChange},null,8,["options","meta","onOptionsChange"])):(0,o.kq)("",!0)],2)])],40,ns)])}const ps=["value"],us=["value"],ms=["value"];function fs(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("oak-select",{fill:"global",name:"indicator",label:"Value display style",tooltip:"How should the value shown?",value:e.meta?.indicator,options:["icon","chip","chip-outline"],onSelectInput:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,ps),"icon"!==e.meta?.indicator?((0,o.wg)(),(0,o.iD)("oak-select",{key:0,fill:"global",name:"size",label:"Chip size",value:e.meta?.size,options:["Small","Medium","Large"],onSelectInput:a[1]||(a[1]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,us)):(0,o.kq)("",!0),"icon"!==e.meta?.indicator?((0,o.wg)(),(0,o.iD)("oak-select",{key:1,fill:"global",name:"shape",label:"Chip shape",value:e.meta?.shape,options:["Sharp","Rounded","Ellipse"],onSelectInput:a[2]||(a[2]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,ms)):(0,o.kq)("",!0)],64)}var hs=(0,o.aZ)({name:"MetaIndicator",props:{meta:Object},methods:{handleChange(e){return this.$emit("meta-change",{detail:{name:"meta",value:{...this.meta,[e.detail.name]:e.detail.value}}})}}});const bs=(0,T.Z)(hs,[["render",fs],["__scopeId","data-v-66e3f27d"]]);var gs=bs;const vs=e=>((0,o.dD)("data-v-39bb6a56"),e=e(),(0,o.Cn)(),e),ks={class:"options"},ws={class:"options__title"},ys=vs((()=>(0,o._)("div",null,"Choices",-1))),_s={key:0,class:"options__choices"},Cs={class:"window-close-action"},Ds=["onClickAreaClick"],Ss={class:"window-close-action--icon"},Is=["value","onInputInput"],Hs={align:"left"},Rs=["onButtonClick"];function Es(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("color-swatch"),c=(0,o.up)("icon-swatch");return(0,o.wg)(),(0,o.iD)("div",ks,[(0,o._)("div",ws,[ys,(0,o._)("oak-button",{theme:"primary",variant:"regular",onButtonClick:a[0]||(a[0]=(...a)=>e.newOption&&e.newOption(...a)),shape:"sharp",size:"xsmall"},"New choice",32)]),e.options?((0,o.wg)(),(0,o.iD)("div",_s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"options__choices__item",key:t},[(0,o._)("div",Cs,[(0,o._)("oak-click-area",{onClickAreaClick:a=>e.deleteOption(t)},[(0,o._)("div",Ss,[(0,o.Wm)(i,{icon:["fas","times"]})])],40,Ds)]),(0,o._)("oak-input",{color:"global",size:"xsmall",name:"value",label:"Value",value:a.value,onInputInput:l=>e.handleChange(l,a,t),gutterBottom:""},null,40,Is),(0,o.Wm)(r,{label:"Color",name:"color",value:a.color,onChange:l=>e.handleChange(l,a,t)},null,8,["value","onChange"]),"icon"===e.meta.indicator?((0,o.wg)(),(0,o.j4)(c,{key:0,label:"Icon",name:"icon",value:a.icon,onChange:l=>e.handleChange(l,a,t)},null,8,["value","onChange"])):(0,o.kq)("",!0),(0,o._)("oak-form-actions-container",Hs,[(0,o._)("oak-button",{theme:"primary",variant:"appear",onButtonClick:a=>e.deleteOption(t),shape:"sharp",size:"xsmall"},"Delete",40,Rs)])])))),128))])):(0,o.kq)("",!0)])}const Ts={class:"color-swatch"},xs={key:0,class:"color-swatch__label"},$s={class:"color-swatch__container"},qs=["isOpen"];function Fs(e,a,t,l,n,s){const i=(0,o.up)("swatch");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Ts,[t.label?((0,o.wg)(),(0,o.iD)("div",xs,(0,p.zw)(t.label),1)):(0,o.kq)("",!0),(0,o._)("div",$s,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=(...e)=>s.openDialog&&s.openDialog(...e))},[(0,o._)("div",{class:(0,p.C_)(["color-swatch__value",`app-swatch-bg-${t.value}`])},null,2)],32)])]),(0,o._)("oak-sheet",{isOpen:l.isDialogOpen,onSheetClose:a[1]||(a[1]=(...e)=>s.closeDialog&&s.closeDialog(...e))},[(0,o.Wm)(i,{onChange:s.handleChange,value:t.value},null,8,["onChange","value"])],40,qs)],64)}const As={class:"swatch"},js=["onClickAreaClick"];function Os(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",As,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(98,(a=>(0,o._)("oak-click-area",{onClickAreaClick:t=>e.$emit("change",a),key:a},[(0,o._)("div",{class:(0,p.C_)(["swatch__item",`app-swatch-bg-${a}`])},[t.value===a?((0,o.wg)(),(0,o.j4)(i,{key:0,icon:["fas","check"]})):(0,o.kq)("",!0)],2)],40,js))),64))])}var Ns={name:"Swatch",props:{value:Number}};const Zs=(0,T.Z)(Ns,[["render",Os],["__scopeId","data-v-efe87e6e"]]);var Bs=Zs,Ls={name:"ColorSwatch",components:{Swatch:Bs},props:{label:String,name:String,value:Number},setup(){const e=(0,Cl.iH)(!1);return{isDialogOpen:e}},methods:{openDialog(){this.isDialogOpen=!0},closeDialog(){this.isDialogOpen=!1},handleChange(e){this.$emit("change",{detail:{name:this.name,value:e}}),this.closeDialog()}}};const Gs=(0,T.Z)(Ls,[["render",Fs],["__scopeId","data-v-a62ba91e"]]);var Ps=Gs;const Ws={class:"icon-swatch"},Vs={key:0,class:"icon-swatch__label"},zs={class:"icon-swatch__container"},Us={class:"icon-swatch__value"},Ms=["isOpen"],Ks={class:"icon-swatch__sheet"},Ys=["value"],Qs=["value"];function Xs(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("swatch");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Ws,[t.label?((0,o.wg)(),(0,o.iD)("div",Vs,(0,p.zw)(t.label),1)):(0,o.kq)("",!0),(0,o._)("div",zs,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=(...e)=>s.openDialog&&s.openDialog(...e))},[(0,o._)("div",Us,[l.showIcon?((0,o.wg)(),(0,o.j4)(i,{key:0,icon:t.value},null,8,["icon"])):(0,o.kq)("",!0)])],32)])]),(0,o._)("oak-sheet",{isOpen:l.isDialogOpen,onSheetClose:a[3]||(a[3]=(...e)=>s.closeDialog&&s.closeDialog(...e))},[(0,o._)("div",Ks,[l.showAll?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("oak-input",{key:0,name:"searchText",value:l.searchText,placeholder:"Type a keyword to search",onInputInput:a[1]||(a[1]=(...e)=>s.handleSearchTextChange&&s.handleSearchTextChange(...e)),gutterBottom:""},null,40,Ys)),(0,o._)("oak-checkbox",{onInputChange:a[2]||(a[2]=(...e)=>s.toggleShowAll&&s.toggleShowAll(...e)),value:l.showAll},"Show all (slow)",40,Qs),l.isDialogOpen?((0,o.wg)(),(0,o.j4)(r,{key:1,onChange:s.handleChange,value:t.value,searchText:l.searchText,showAll:l.showAll},null,8,["onChange","value","searchText","showAll"])):(0,o.kq)("",!0)])],40,Ms)],64)}const Js={class:"swatch"},ei=["onClickAreaClick"],ai={class:"swatch__item"};function ti(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",Js,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.iconsList,(a=>((0,o.wg)(),(0,o.iD)("oak-click-area",{onClickAreaClick:t=>e.$emit("change",a),key:a},[(0,o._)("div",ai,[(0,o.Wm)(i,{icon:a},null,8,["icon"])])],40,ei)))),128))])}var li={name:"Swatch",props:{searchText:String,showAll:Boolean},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>e.showAll?a.getters.getIcon:e.searchText?.length<3?[]:a.getters.getIcon.filter((a=>-1!==a[1].replaceAll("-"," ").indexOf(e.searchText.toLowerCase())))));return{iconsList:t}}};const oi=(0,T.Z)(li,[["render",ti],["__scopeId","data-v-209456d3"]]);var ni=oi,si={name:"IconSwatch",components:{Swatch:ni},props:{label:String,name:String,value:Array},mounted(){},setup(){const e=(0,Cl.iH)(""),a=(0,Cl.iH)(!1),t=(0,Cl.iH)(!0),l=(0,Cl.iH)(!1);return{isDialogOpen:a,searchText:e,showIcon:t,showAll:l}},methods:{openDialog(){this.isDialogOpen=!0},closeDialog(){this.isDialogOpen=!1},handleChange(e){this.$emit("change",{detail:{name:this.name,value:e}}),this.closeDialog()},handleSearchTextChange(e){this.searchText=e.detail.value},toggleShowAll(e){this.showAll=e.detail.value}},watch:{value(){this.showIcon=!1,setTimeout((()=>{this.showIcon=!0}))}}};const ii=(0,T.Z)(si,[["render",Xs],["__scopeId","data-v-298c9b8e"]]);var ri=ii,ci=(0,o.aZ)({name:"Options",components:{ColorSwatch:Ps,IconSwatch:ri},data(){return{isExpanded:!1}},props:{meta:Object,options:Array},methods:{handleChange(e,a,t){const l=this.options?[...this.options]:[];l[t]={...a,[e.detail.name]:e.detail.value},this.emitChangeEvent(l)},deleteOption(e){this.emitChangeEvent(this.options?.filter(((a,t)=>e!==t)))},newOption(){this.options?this.emitChangeEvent([...this.options,{}]):this.emitChangeEvent([{}])},emitChangeEvent(e){return this.$emit("options-change",{detail:{name:"options",value:e}})}}});const di=(0,T.Z)(ci,[["render",Es],["__scopeId","data-v-39bb6a56"]]);var pi=di;const ui=["value","optionsAsKeyValue"],mi=["value","optionsAsKeyValue"];function fi(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("oak-select",{fill:"global",name:"tableId",label:"Table",value:e.meta.tableId,optionsAsKeyValue:e.tableList,onSelectInput:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,ui),(0,o._)("oak-select",{fill:"global",name:"columnId",label:"Column",value:e.meta.columnId,optionsAsKeyValue:e.columnList,onSelectInput:a[1]||(a[1]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,mi)],64)}var hi=(0,o.aZ)({name:"MetaRelation",props:{meta:Object},methods:{handleChange(e){return this.$emit("meta-change",{detail:{name:"meta",value:{...this.meta,[e.detail.name]:e.detail.value}}})}},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getTableInCurrentSchema)),l=(0,o.Fl)((()=>t.value?.map((e=>({id:e.id,value:e.name}))))),n=(0,o.Fl)((()=>a.getters.getColumnByTable(e.meta?.tableId))),s=(0,o.Fl)((()=>n.value?.map((e=>({id:e.id,value:e.name})))));return{columns:n,columnList:s,tables:t,tableList:l}}});const bi=(0,T.Z)(hi,[["render",fi],["__scopeId","data-v-3528ec35"]]);var gi=bi;const vi=["value"];function ki(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("oak-checkbox",{name:"multiple",value:e.meta.multiple,onInputChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),gutterBottom:""},"Can accept multiple values?",40,vi)}var wi=(0,o.aZ)({name:"MetaMultiple",props:{meta:Object},methods:{handleChange(e){return console.log(e),this.$emit("meta-change",{detail:{name:"meta",value:{...this.meta,[e.detail.name]:e.detail.value}}})}}});const yi=(0,T.Z)(wi,[["render",ki],["__scopeId","data-v-9bc91400"]]);var _i=yi;const Ci=["value"];function Di(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("oak-checkbox",{name:"impersonate",value:e.meta.impersonate,onInputChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),gutterBottom:""},"Include in My view?",40,Ci)}var Si=(0,o.aZ)({name:"MetaUserImpersonate",props:{meta:Object},methods:{handleChange(e){return console.log(e),this.$emit("meta-change",{detail:{name:"meta",value:{...this.meta,[e.detail.name]:e.detail.value}}})}}});const Ii=(0,T.Z)(Si,[["render",Di],["__scopeId","data-v-7715a08c"]]);var Hi=Ii;const Ri=e=>((0,o.dD)("data-v-1e4999ea"),e=e(),(0,o.Cn)(),e),Ei={class:"meta-percentage"},Ti=["value"],xi=["value"],$i=Ri((()=>(0,o._)("div",{class:"meta-percentage__title"},[(0,o._)("div",null,"Color grade")],-1))),qi={key:0,class:"meta-percentage__grade"},Fi=["onButtonClick"],Ai={align:"left"};function ji(e,a,t,l,n,s){const i=(0,o.up)("color-swatch");return(0,o.wg)(),(0,o.iD)("div",Ei,[(0,o._)("oak-select",{fill:"global",name:"indicator",label:"Value display style",tooltip:"How should the value shown?",value:e.meta?.indicator,options:["No graphic","Bar","Rounded bar","Ellipse"],onSelectInput:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,Ti),"No graphic"!==e.meta?.indicator?((0,o.wg)(),(0,o.iD)("oak-select",{key:0,fill:"global",name:"size",label:"Indicator size",value:e.meta?.size,options:["Small","Medium","Large"],onSelectInput:a[1]||(a[1]=(...a)=>e.handleChange&&e.handleChange(...a)),autocompleteVariant:"none",gutterBottom:""},null,40,xi)):(0,o.kq)("",!0),(0,o._)("div",null,[$i,e.meta?((0,o.wg)(),(0,o.iD)("div",qi,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.meta.grades,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"meta-percentage__grade__item",key:t},[(0,o.Wm)(i,{label:"Color",name:"color",value:a,onChange:l=>e.handleGradeChange(l,a,t)},null,8,["value","onChange"]),(0,o._)("oak-button",{theme:"primary",variant:"appear",onButtonClick:a=>e.deleteGrade(t),shape:"sharp",size:"xsmall"},"Delete",40,Fi)])))),128)),(0,o._)("oak-form-actions-container",Ai,[(0,o._)("oak-button",{theme:"primary",variant:"appear",onButtonClick:a[2]||(a[2]=(...a)=>e.newGrade&&e.newGrade(...a)),shape:"sharp",size:"xsmall"},"Add",32)])])):(0,o.kq)("",!0)])])}var Oi=(0,o.aZ)({name:"MetaPercentage",components:{ColorSwatch:Ps},data(){return{isExpanded:!1}},props:{meta:Object},methods:{handleChange(e){this.emitChangeEvent({[e.detail.name]:e.detail.value})},handleGradeChange(e,a,t){const l=this.meta?.grades?[...this.meta?.grades||[]]:[];l[t]=e.detail.value,this.emitChangeEvent({grades:l})},deleteGrade(e){this.emitChangeEvent({grades:this.meta?.grades?.filter(((a,t)=>e!==t))})},newGrade(){this.meta?.grades?this.emitChangeEvent({grades:[...this.meta?.grades||[],1]}):this.emitChangeEvent({grades:[1]})},emitChangeEvent(e){return this.$emit("meta-change",{detail:{name:"meta",value:{...this.meta,...e}}})}}});const Ni=(0,T.Z)(Oi,[["render",ji],["__scopeId","data-v-1e4999ea"]]);var Zi=Ni;const Bi=e=>((0,o.dD)("data-v-099fc350"),e=e(),(0,o.Cn)(),e),Li={class:"meta-computed-variables"},Gi={class:"meta-computed__title"},Pi=Bi((()=>(0,o._)("div",null,"Variables",-1))),Wi={key:0,class:"meta-computed__choices"},Vi=["value","onInputInput"],zi=["value","optionsAsKeyValue","onSelectInput"],Ui=["value","optionsAsKeyValue","onSelectInput"],Mi={class:"meta-computed-template"},Ki=["value"];function Yi(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Li,[(0,o._)("div",Gi,[Pi,(0,o._)("oak-button",{theme:"primary",variant:"regular",onButtonClick:a[0]||(a[0]=(...a)=>e.newVariable&&e.newVariable(...a)),shape:"sharp",size:"xsmall"},"New variable",32)]),e.meta?((0,o.wg)(),(0,o.iD)("div",Wi,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.meta.variables,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"meta-computed__choices__item",key:t},[(0,o._)("oak-input",{color:"global",name:"name",label:"Variable name",value:a.name,onInputInput:l=>e.handleChange(l,a,t),autocompleteVariant:"none",gutterBottom:""},null,40,Vi),(0,o._)("oak-select",{color:"global",name:"tableId",label:"Table",value:a.tableId,optionsAsKeyValue:e.tableList,onSelectInput:l=>e.handleChange(l,a,t),autocompleteVariant:"none",gutterBottom:""},null,40,zi),(0,o._)("oak-select",{color:"global",name:"columnId",label:"Column",value:a.columnId,optionsAsKeyValue:e.columnMap[a.tableId],onSelectInput:l=>e.handleChange(l,a,t),autocompleteVariant:"none",gutterBottom:""},null,40,Ui)])))),128))])):(0,o.kq)("",!0)]),(0,o._)("div",Mi,[(0,o._)("oak-input",{color:"global",onInputInput:a[1]||(a[1]=(...a)=>e.handleTemplateChange&&e.handleTemplateChange(...a)),label:"Template",name:"template",value:e.meta.template},null,40,Ki)])],64)}var Qi=(0,o.aZ)({name:"MetaComputed",props:{meta:Object},methods:{handleChange(e,a,t){const l=this.meta?.variables?[...this.meta?.variables||[]]:[];l[t]={...a,[e.detail.name]:e.detail.value},this.emitChangeEvent("variables",l)},deleteOption(e){this.emitChangeEvent("variables",this.meta?.options?.filter(((a,t)=>e!==t)))},newVariable(){this.meta?.variables?this.emitChangeEvent("variables",[...this.meta.variables,{}]):this.emitChangeEvent("variables",[{}])},handleTemplateChange(e){this.emitChangeEvent(e.detail.name,e.detail.value)},emitChangeEvent(e,a){return this.$emit("meta-change",{detail:{name:"meta",value:{...this.meta,[e]:a}}})}},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getTableInCurrentSchema)),l=(0,o.Fl)((()=>t.value?.map((e=>({id:e.id,value:e.name}))))),n=(0,o.Fl)((()=>a.getters.getColumn)),s=(0,o.Fl)((()=>{const e={};return n.value?(n.value.forEach((a=>{e[a.tableId]||(e[a.tableId]=[]),e[a.tableId].push({id:a.id,value:a.name})})),e):e}));return{columns:n,columnMap:s,tables:t,tableList:l}}});const Xi=(0,T.Z)(Qi,[["render",Yi],["__scopeId","data-v-099fc350"]]);var Ji=Xi,er=(0,o.aZ)({name:"FieldView",data(){return{isExpanded:!1}},props:{field:Object},components:{Options:pi,MetaIndicator:gs,MetaRelation:gi,MetaUserImpersonate:Hi,MetaMultiple:_i,MetaPercentage:Zi,MetaComputed:Ji},methods:{handleExpand(){this.isExpanded=!0},handleCollapse(){this.isExpanded=!1},handleChange(e){this.$emit("change",{id:this.field?.id,name:e.detail.name,value:e.detail.value})}}});const ar=(0,T.Z)(er,[["render",ds],["__scopeId","data-v-a7785582"]]);var tr=ar;const lr={class:"action-footer action-footer-sidepane position-right"},or=(0,o.Uk)("Save"),nr=(0,o.Uk)("Add column"),sr=(0,o.Uk)("Reset");function ir(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",lr,[e.editing?((0,o.wg)(),(0,o.iD)("oak-button",{key:0,theme:"primary",variant:"outline",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("save"))},[(0,o.Wm)(i,{icon:["fas","check"]}),or],32)):(0,o.kq)("",!0),(0,o._)("oak-button",{theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[1]||(a[1]=a=>e.$emit("add"))},[(0,o.Wm)(i,{icon:["fas","plus"]}),nr],32),(0,o._)("oak-button",{theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[2]||(a[2]=a=>e.$emit("reset"))},[(0,o.Wm)(i,{icon:["fas","times"]}),sr],32)])}var rr=(0,o.aZ)({name:"ActionBar",props:{editing:Boolean},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}},methods:{goBack(){this.$router.back()}}});const cr=(0,T.Z)(rr,[["render",ir]]);var dr=cr,pr=(0,o.aZ)({name:"ColumnSettings",components:{ActionBar:dr,FieldView:tr,AppSection:tl,SidepaneHeading:ho},props:{tableId:String,isSidepaneExpanded:Boolean},setup(e){const a=(0,v.oR)(),t=(0,Cl.iH)(!1),l=(0,o.Fl)((()=>a.getters.getColumnByTable(e.tableId))),s=(0,o.Fl)((()=>a.getters.getColumn)),i=(0,o.Fl)((()=>a.getters.getProfile)),r=(0,Cl.qj)({current:[...l.value],original:[...l.value]}),c=(0,o.Fl)((()=>!(0,Ha.isEqual)(r.current,r.original))),{mutate:d}=(0,n.Db)(ls);return{isEdit:t,columns:l,state:r,mutate:d,editing:c,profile:i,allColumns:s}},methods:{handleChange(e,a){this.state.current[a]={...this.state.current[a],[e.name]:e.value},this.editing=!0},handleDelete(e){this.state.current=this.state.current.filter(((a,t)=>e!==t)),this.editing=!0},add(){this.state.current.push({tableId:this.tableId,meta:{}}),this.editing=!0},reset(){this.state.current=[...this.state.original],this.editing=!1},save(){const e=[];this.state.current.forEach((a=>{e.push({id:a.id,name:a.name,datatype:a.datatype,tableId:a.tableId,indicator:a.indicator,meta:a.meta,options:a.options})})),this.mutate({payload:e}).then((e=>{it.next({tableId:this.tableId,columnList:e.data.updateSchemaTableColumn})})),this.editing=!1}},watch:{columns(e,a){this.state.original=[...e],this.state.current=[...e]}}});const ur=(0,T.Z)(pr,[["render",ts],["__scopeId","data-v-39e137f1"]]);var mr=ur;const fr={class:"app-toolbar-action-container"},hr=["variant"],br=["variant"];function gr(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.j4)(o.lR,{to:"#topbar-right"},[(0,o._)("div",fr,[(0,o._)("oak-button",{theme:"info",variant:e.dense?"regular":"block",size:"xsmall",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("toggle-dense-view"))},[(0,o.Wm)(i,{icon:["fas","compress-alt"]})],40,hr),(0,o._)("oak-button",{theme:"info",variant:e.wrap?"block":"regular",size:"xsmall",shape:"sharp",onButtonClick:a[1]||(a[1]=a=>e.$emit("toggle-wrap"))},[(0,o.Wm)(i,{icon:["fas","text-height"]})],40,br)])])}var vr=(0,o.aZ)({name:"Toolbar",props:{table:Object,dense:Boolean,multiselect:Boolean,preview:Boolean,wrap:Boolean},computed:{...(0,v.Se)(["getProfile"])}});const kr=(0,T.Z)(vr,[["render",gr],["__scopeId","data-v-2fe9d980"]]);var wr=kr;const yr={key:0,class:"datagrid",id:"datagrid-reference"},_r=["formGroupName"],Cr=["customSelector"],Dr=["id"],Sr={className:"checkbox"},Ir=["value"],Hr={colspan:"2"},Rr={class:"datagrid__table__filter__action"},Er={className:"checkbox"},Tr=["value","name"],xr=["value","name"],$r={class:"link-column"},qr=["onLinkClick"],Fr={variant:"body2"},Ar=["onClick"],jr={key:0};function Or(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("datatype-form"),c=(0,o.up)("datatype-table-view");return e.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",yr,[(0,o._)("oak-form",{formGroupName:e.formId,onFormSubmit:a[0]||(a[0]=(...a)=>e.applyQuickFilter&&e.applyQuickFilter(...a))},null,40,_r),(0,o._)("div",null,[(0,o._)("oak-infinite-scroll",{variant:"custom-selector",customSelector:`#${e.scrollId}`,onInfiniteScrollChange:a[11]||(a[11]=(...a)=>e.loadMore&&e.loadMore(...a))},[(0,o._)("div",{class:"datagrid__table",id:e.scrollId},[(0,o._)("table",{class:(0,p.C_)(e.tableStyle)},[(0,o._)("thead",null,[(0,o._)("tr",{tabindex:"0",onKeyup:a[4]||(a[4]=(...a)=>e.headerKeyup&&e.headerKeyup(...a)),id:"datagrid-table-header-reference"},[(0,o._)("th",Sr,[e.multiselect?((0,o.wg)(),(0,o.iD)("oak-checkbox",{key:0,value:e.isSelectAll,name:"all",onInputChange:a[1]||(a[1]=(...a)=>e.handleSelectAll&&e.handleSelectAll(...a)),color:"secondary"},null,40,Ir)):(0,o.kq)("",!0)]),(0,o._)("th",{onClick:a[2]||(a[2]=(...a)=>e.toggleQuickFilter&&e.toggleQuickFilter(...a))},"#"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,(t=>((0,o.wg)(),(0,o.iD)("th",{key:t.id,onClick:a[3]||(a[3]=(...a)=>e.toggleQuickFilter&&e.toggleQuickFilter(...a))},(0,p.zw)(t.name),1)))),128))],32)]),(0,o._)("tbody",null,[(0,o._)("tr",{class:(0,p.C_)(["datagrid__table__filter",""+(e.isShowQuickFilter?"datagrid__table__filter--active":"")])},[(0,o._)("td",Hr,[(0,o._)("div",Rr,[(0,o._)("oak-button",{size:"xsmall",shape:"icon",variant:"appear",theme:"info",onButtonClick:a[5]||(a[5]=(...a)=>e.applyQuickFilter&&e.applyQuickFilter(...a))},[(0,o.Wm)(i,{icon:["fas","save"]})],32),(0,o._)("oak-button",{size:"xsmall",shape:"icon",variant:"appear",theme:"info",onButtonClick:a[6]||(a[6]=(...a)=>e.applyQuickFilter&&e.applyQuickFilter(...a))},[(0,o.Wm)(i,{icon:["fas","upload"]})],32),e.isQuickFilterApplied?((0,o.wg)(),(0,o.iD)("oak-button",{key:0,size:"xsmall",shape:"icon",variant:"appear",theme:"info",onButtonClick:a[7]||(a[7]=(...a)=>e.clearQuickFilter&&e.clearQuickFilter(...a))},[(0,o.Wm)(i,{icon:["fas","times"]})],32)):((0,o.wg)(),(0,o.iD)("oak-button",{key:1,size:"xsmall",shape:"icon",variant:"appear",theme:"primary",onButtonClick:a[8]||(a[8]=(...a)=>e.applyQuickFilter&&e.applyQuickFilter(...a))},[(0,o.Wm)(i,{icon:["fas","check"]})],32))])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,(a=>((0,o.wg)(),(0,o.iD)("td",{key:a.id},[(0,o._)("div",null,[(0,o.Wm)(r,{hideLabel:"",value:e.quickFilter.current[a.id],cellHeader:a,onChange:e.handleQuickFilterValueChange,formGroupName:e.formId},null,8,["value","cellHeader","onChange","formGroupName"])])])))),128))],2),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.records,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id,class:(0,p.C_)(e.selectedRecords.includes(t.id)?"active":"")},[(0,o._)("td",Er,[e.multiselect?((0,o.wg)(),(0,o.iD)("oak-checkbox",{key:1,value:e.selectedRecords.includes(t.id),name:t.id,onInputChange:a[10]||(a[10]=(...a)=>e.toggleRecordSelectionEvent&&e.toggleRecordSelectionEvent(...a)),color:"secondary"},null,40,xr)):((0,o.wg)(),(0,o.iD)("oak-radio",{key:0,value:e.selectedRecords.includes(t.id),name:t.id,color:"secondary",onInputChange:a[9]||(a[9]=(...a)=>e.recordSelectedEvent&&e.recordSelectedEvent(...a))},null,40,Tr))]),(0,o._)("td",$r,[(0,o._)("oak-link",{onLinkClick:a=>e.goToView(t),color:"primary"},[(0,o._)("oak-typography",Fr,(0,p.zw)(t.reference),1)],40,qr)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,(a=>((0,o.wg)(),(0,o.iD)("td",{onClick:a=>e.handleRecordClick(t),key:a.id},[(0,o.Wm)(c,{rowData:t,cellHeader:a,wrap:e.wrap},null,8,["rowData","cellHeader","wrap"])],8,Ar)))),128))],2)))),128)),0===e.data?.length?((0,o.wg)(),(0,o.iD)("tr",jr," No data present ")):(0,o.kq)("",!0)])],2)],8,Dr)],40,Cr)])]))}var Nr=t(611);const Zr={key:0,class:"data-cell"},Br={key:1,class:"data-cell"},Lr={key:2,class:"data-cell"},Gr={key:3,class:"data-cell"},Pr={key:4,class:"data-cell"},Wr={key:5,class:"data-cell"},Vr={key:6,class:"data-cell"},zr={key:7,class:"data-cell"},Ur={key:8,class:"data-cell"};function Mr(e,a,t,l,n,s){const i=(0,o.up)("text-table-datatype"),r=(0,o.up)("number-table-datatype"),c=(0,o.up)("date-table-datatype"),d=(0,o.up)("list-table-datatype"),u=(0,o.up)("relation-table-datatype"),m=(0,o.up)("user-table-datatype"),f=(0,o.up)("percentage-table-datatype"),h=(0,o.up)("computed-table-datatype");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.rowData?.row&&"text"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Zr,[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader,wrap:e.wrap},null,8,["rowData","cellHeader","wrap"])])):(0,o.kq)("",!0),e.rowData?.row&&"number"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Br,[(0,o.Wm)(r,{rowData:e.rowData,cellHeader:e.cellHeader,wrap:e.wrap},null,8,["rowData","cellHeader","wrap"])])):(0,o.kq)("",!0),e.rowData?.row&&"date"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Lr,[(0,o.Wm)(c,{rowData:e.rowData,cellHeader:e.cellHeader,wrap:e.wrap},null,8,["rowData","cellHeader","wrap"])])):(0,o.kq)("",!0),e.rowData?.row&&"list"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Gr,[(0,o.Wm)(d,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"relation"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Pr,[(0,o.Wm)(u,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"user"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Wr,[(0,o.Wm)(m,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"percentage"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Vr,[(0,o.Wm)(f,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"computed"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",zr,[(0,o.Wm)(h,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),["text","number","date","list","relation","user","percentage","computed"].includes(e.cellHeader.datatype)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Ur," datatype ("+(0,p.zw)(e.cellHeader.datatype)+") not supported ",1))],64)}const Kr={class:"list-table-datatype"};function Yr(e,a,t,l,n,s){const i=(0,o.up)("list-view-datatype");return(0,o.wg)(),(0,o.iD)("div",Kr,[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])}const Qr={key:0};function Xr(e,a,t,l,n,s){const i=(0,o.up)("list-view-datatype-icon"),r=(0,o.up)("list-view-datatype-chip"),c=(0,o.up)("list-view-datatype-chip-outline");return e.cellHeader?.meta?.indicator&&e.rowData?((0,o.wg)(),(0,o.iD)("div",Qr,["icon"===e.cellHeader.meta.indicator?((0,o.wg)(),(0,o.j4)(i,{key:0,rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])):(0,o.kq)("",!0),"chip"===e.cellHeader.meta.indicator?((0,o.wg)(),(0,o.j4)(r,{key:1,rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])):(0,o.kq)("",!0),"chip-outline"===e.cellHeader.meta.indicator?((0,o.wg)(),(0,o.j4)(c,{key:2,rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)}const Jr={key:0,class:"list-view-datatype-chip"},ec={class:"list-view-datatype-chip__item__value"};function ac(e,a,t,l,n,s){return e.options?((0,o.wg)(),(0,o.iD)("div",Jr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id,class:(0,p.C_)(`app-swatch-bg-${a.color} app-swatch-fg-${a.color} ${e.indicatorStyle}`)},[(0,o._)("div",ec,(0,p.zw)(a.value),1)],2)))),128))])):(0,o.kq)("",!0)}var tc=(0,o.aZ)({name:"ListViewDatatypeChip",props:{rowData:Object,cellHeader:Object},computed:{},setup(e){const a=(0,o.Fl)((()=>e.cellHeader?.options?(e.cellHeader.meta.multiple,e.cellHeader.options.filter((a=>e.rowData?.row[e.cellHeader?.id].includes(a.id)))):null)),t=(0,o.Fl)((()=>{let a="list-view-datatype-chip__item";const t=` chip-indicator-shape--${e.cellHeader?.meta?.shape}`,l=` chip-indicator-size--${e.cellHeader?.meta?.size}`;return a+=t,a+=l,a}));return{options:a,indicatorStyle:t}}});const lc=(0,T.Z)(tc,[["render",ac],["__scopeId","data-v-4b2f5e9e"]]);var oc=lc;const nc={key:0,class:"list-view-datatype-icon"},sc={class:"list-view-datatype-icon__item__indicator"},ic={class:"list-view-datatype-icon__item__value"};function rc(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return e.options?((0,o.wg)(),(0,o.iD)("div",nc,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"list-view-datatype-icon__item"},[(0,o._)("div",sc,[(0,o.Wm)(i,{class:(0,p.C_)(`app-swatch-bg-i-${e.color}`),icon:e.icon},null,8,["class","icon"])]),(0,o._)("div",ic,(0,p.zw)(e.value),1)])))),128))])):(0,o.kq)("",!0)}var cc=(0,o.aZ)({name:"ListViewDatatypeIcon",props:{rowData:Object,cellHeader:Object},computed:{options(){return this.cellHeader?.options?(this.cellHeader.meta.multiple,this.cellHeader.options.filter((e=>this.rowData?.row[this.cellHeader?.id].includes(e.id)))):null}}});const dc=(0,T.Z)(cc,[["render",rc],["__scopeId","data-v-429fd859"]]);var pc=dc;const uc={key:0,class:"list-view-datatype-chip"},mc={class:"list-view-datatype-chip-outline__item__value"};function fc(e,a,t,l,n,s){return e.options?((0,o.wg)(),(0,o.iD)("div",uc,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id,class:(0,p.C_)(`list-view-datatype-chip-outline__item  app-swatch-outline-${a.color} ${e.indicatorStyle}`)},[(0,o._)("div",mc,(0,p.zw)(a.value),1)],2)))),128))])):(0,o.kq)("",!0)}var hc=(0,o.aZ)({name:"ListViewDatatypeChip",props:{rowData:Object,cellHeader:Object},computed:{},setup(e){const a=(0,o.Fl)((()=>e.cellHeader?.options?(e.cellHeader.meta.multiple,e.cellHeader.options.filter((a=>e.rowData?.row[e.cellHeader?.id].includes(a.id)))):null)),t=(0,o.Fl)((()=>{let a="list-view-datatype-chip__item";const t=` chip-indicator-shape--${e.cellHeader?.meta?.shape}`,l=` chip-indicator-size--${e.cellHeader?.meta?.size}`;return a+=t,a+=l,a}));return{options:a,indicatorStyle:t}}});const bc=(0,T.Z)(hc,[["render",fc],["__scopeId","data-v-f60c0056"]]);var gc=bc,vc=(0,o.aZ)({components:{ListViewDatatypeChip:oc,ListViewDatatypeIcon:pc,ListViewDatatypeChipOutline:gc},name:"ListViewDatatype",props:{rowData:Object,cellHeader:Object}});const kc=(0,T.Z)(vc,[["render",Xr],["__scopeId","data-v-3dd0fc44"]]);var wc=kc,yc=(0,o.aZ)({components:{ListViewDatatype:wc},name:"ListTableDatatype",props:{rowData:Object,cellHeader:Object}});const _c=(0,T.Z)(yc,[["render",Yr],["__scopeId","data-v-d5f4a5ee"]]);var Cc=_c;const Dc={class:"relation-table-datatype"};function Sc(e,a,t,l,n,s){const i=(0,o.up)("relation-view-datatype");return(0,o.wg)(),(0,o.iD)("div",Dc,[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])}const Ic={key:0,class:"relation-view-datatype"},Hc={variant:"body2",underline:"hover",color:"primary"};function Rc(e,a,t,l,n,s){return e.rowData?.relation&&e.rowData?.relation[e.cellHeader?.id]?.length>0?((0,o.wg)(),(0,o.iD)("div",Ic,[(0,o._)("oak-link",{onLinkClick:a[0]||(a[0]=(...a)=>e.goToRecord&&e.goToRecord(...a))},[(0,o._)("oak-typography",Hc,(0,p.zw)(e.rowData?.relation[e.cellHeader?.id][0]?.row[e.cellHeader?.meta?.columnId]),1)],32)])):(0,o.kq)("",!0)}var Ec=(0,o.aZ)({name:"RelationViewDatatype",computed:{...(0,v.Se)(["getProfile","tableIdToRef"])},props:{rowData:Object,cellHeader:Object},methods:{goToRecord(){this.$router.push({name:"ViewRecordView",params:{space:this.getProfile.space,tableRef:this.tableIdToRef(this.cellHeader?.meta?.tableId),recordRef:this.rowData?.relation[this.cellHeader?.id][0].reference||""}})}}});const Tc=(0,T.Z)(Ec,[["render",Rc],["__scopeId","data-v-ed18420a"]]);var xc=Tc,$c=(0,o.aZ)({components:{RelationViewDatatype:xc},name:"RelationTableDatatype",props:{rowData:Object,cellHeader:Object}});const qc=(0,T.Z)($c,[["render",Sc],["__scopeId","data-v-1431893f"]]);var Fc=qc;function Ac(e,a,t,l,n,s){const i=(0,o.up)("text-view-datatype");return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)(["text-table-datatype",e.wrap?"wrap-text":""])},[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])],2)}const jc={class:"text-view-datatype"};function Oc(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",jc,(0,p.zw)(e.rowData?.row[e.cellHeader?.id]),1)}var Nc=(0,o.aZ)({name:"TextViewDatatype",props:{rowData:Object,cellHeader:Object}});const Zc=(0,T.Z)(Nc,[["render",Oc],["__scopeId","data-v-9d15fa5c"]]);var Bc=Zc,Lc=(0,o.aZ)({components:{TextViewDatatype:Bc},name:"ListTableDatatype",props:{rowData:Object,cellHeader:Object,wrap:Boolean}});const Gc=(0,T.Z)(Lc,[["render",Ac],["__scopeId","data-v-9840444c"]]);var Pc=Gc;function Wc(e,a,t,l,n,s){const i=(0,o.up)("number-view-datatype");return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)(["number-table-datatype",e.wrap?"wrap-text":""])},[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])],2)}const Vc={class:"number-view-datatype"};function zc(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",Vc,(0,p.zw)(e.rowData?.row[e.cellHeader?.id]),1)}var Uc=(0,o.aZ)({name:"NumberViewDatatype",props:{rowData:Object,cellHeader:Object}});const Mc=(0,T.Z)(Uc,[["render",zc],["__scopeId","data-v-349fe9cc"]]);var Kc=Mc,Yc=(0,o.aZ)({components:{NumberViewDatatype:Kc},name:"NumberTableDatatype",props:{rowData:Object,cellHeader:Object,wrap:Boolean}});const Qc=(0,T.Z)(Yc,[["render",Wc],["__scopeId","data-v-570888d6"]]);var Xc=Qc;function Jc(e,a,t,l,n,s){const i=(0,o.up)("date-view-datatype");return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)(["date-table-datatype",e.wrap?"wrap-text":""])},[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])],2)}const ed={class:"date-view-datatype"};function ad(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",ed,(0,p.zw)(e.rowData?.row[e.cellHeader?.id]),1)}var td=(0,o.aZ)({name:"DateViewDatatype",props:{rowData:Object,cellHeader:Object}});const ld=(0,T.Z)(td,[["render",ad],["__scopeId","data-v-f51bb53e"]]);var od=ld,nd=(0,o.aZ)({components:{DateViewDatatype:od},name:"DateTableDatatype",props:{rowData:Object,cellHeader:Object,wrap:Boolean}});const sd=(0,T.Z)(nd,[["render",Jc],["__scopeId","data-v-1b9ec056"]]);var id=sd;const rd={class:"user-table-datatype"};function cd(e,a,t,l,n,s){const i=(0,o.up)("user-view-datatype");return(0,o.wg)(),(0,o.iD)("div",rd,[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])}const dd={class:"user-view-datatype"},pd={class:"user-view-datatype__item__value"};function ud(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",dd,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.users,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"`user-view-datatype__item"},[(0,o._)("div",pd,(0,p.zw)(`${e.firstName} ${e.lastName}`),1)])))),128))])}var md=(0,o.aZ)({name:"UserViewDatatype",props:{rowData:Object,cellHeader:Object},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getUser.filter((a=>e.rowData?.row[e.cellHeader?.id]?.includes(a.id)))));return{users:t}}});const fd=(0,T.Z)(md,[["render",ud],["__scopeId","data-v-2253f28c"]]);var hd=fd,bd=(0,o.aZ)({components:{UserViewDatatype:hd},name:"UserTableDatatype",props:{rowData:Object,cellHeader:Object}});const gd=(0,T.Z)(bd,[["render",cd],["__scopeId","data-v-3159954f"]]);var vd=gd;const kd={class:"user-table-datatype"};function wd(e,a,t,l,n,s){const i=(0,o.up)("percentage-view-datatype");return(0,o.wg)(),(0,o.iD)("div",kd,[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])}const yd={class:"percentage-view-datatype"},_d={class:"percentage-view-datatype__percent"};function Cd(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",yd,[(0,o._)("div",{class:(0,p.C_)(["percentage-view-datatype__outer",e.indicatorStyle])},[(0,o._)("div",{class:(0,p.C_)(["percentage-view-datatype__inner",`app-swatch-bg-${e.colorGrade} ${e.indicatorStyle}`]),style:(0,p.j5)(`width:${e.rowData?.row[e.cellHeader?.id]||0}%`)},null,6)],2),(0,o._)("div",_d,(0,p.zw)(e.rowData?.row[e.cellHeader?.id]||0)+"%",1)])}var Dd=(0,o.aZ)({name:"TextViewDatatype",props:{rowData:Object,cellHeader:Object},setup(e){const a=(0,o.Fl)((()=>{let a="";switch(e.cellHeader?.meta?.indicator){case"No graphic":a="percentage-indicator-style--no-graphic";break;case"Bar":a="percentage-indicator-style--bar";break;case"Rounded bar":a="percentage-indicator-style--rounded-bar";break;case"Ellipse":a="percentage-indicator-style--ellipse";break;default:a=""}switch(e.cellHeader?.meta?.size){case"Small":a+=" percentage-indicator-size--small";break;case"Medium":a+=" percentage-indicator-size--medium";break;case"Large":a+=" percentage-indicator-size--large";break;default:a=""}return a})),t=(0,o.Fl)((()=>{const a=e.cellHeader?.meta?.grades?.length;let t=1,l=1;while(t<=a){if(e.rowData?.row[e.cellHeader?.id]<=t*(100/a)){l=t-1;break}t+=1}return e.cellHeader?.meta?.grades[l]}));return{colorGrade:t,indicatorStyle:a}}});const Sd=(0,T.Z)(Dd,[["render",Cd],["__scopeId","data-v-c5b66e36"]]);var Id=Sd,Hd=(0,o.aZ)({components:{PercentageViewDatatype:Id},name:"PercentageTableDatatype",props:{rowData:Object,cellHeader:Object}});const Rd=(0,T.Z)(Hd,[["render",wd],["__scopeId","data-v-210155f8"]]);var Ed=Rd;function Td(e,a,t,l,n,s){const i=(0,o.up)("computed-view-datatype");return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)(["text-table-datatype",e.wrap?"wrap-text":""])},[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])],2)}const xd={class:"computed-view-datatype"};function $d(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",xd,(0,p.zw)(e.rowData?.row[e.cellHeader?.id]),1)}var qd=(0,o.aZ)({name:"ComputedViewDatatype",props:{rowData:Object,cellHeader:Object}});const Fd=(0,T.Z)(qd,[["render",$d],["__scopeId","data-v-d165c9dc"]]);var Ad=Fd,jd=(0,o.aZ)({components:{ComputedViewDatatype:Ad},name:"ComputedTableDatatype",props:{rowData:Object,cellHeader:Object,wrap:Boolean}});const Od=(0,T.Z)(jd,[["render",Td],["__scopeId","data-v-e6e366ea"]]);var Nd=Od,Zd=(0,o.aZ)({name:"DatatypeTableView",components:{TextTableDatatype:Pc,NumberTableDatatype:Xc,DateTableDatatype:id,RelationTableDatatype:Fc,ListTableDatatype:Cc,UserTableDatatype:vd,PercentageTableDatatype:Ed,ComputedTableDatatype:Nd},props:{rowData:Object,cellHeader:Object,wrap:Boolean}});const Bd=(0,T.Z)(Zd,[["render",Mr],["__scopeId","data-v-2687c7d2"]]);var Ld=Bd;const Gd={key:0,class:"data-cell"},Pd={key:1,class:"data-cell"},Wd={key:2,class:"data-cell"},Vd={key:3,class:"data-cell"},zd={key:4,class:"data-cell"},Ud={key:5,class:"data-cell"},Md={key:6,class:"data-cell"};function Kd(e,a,t,l,n,s){const i=(0,o.up)("text-form-datatype"),r=(0,o.up)("number-form-datatype"),c=(0,o.up)("date-form-datatype"),d=(0,o.up)("list-form-datatype"),u=(0,o.up)("relation-form-datatype"),m=(0,o.up)("computed-form-datatype");return(0,o.wg)(),(0,o.iD)(o.HY,null,["text"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Gd,[(0,o.Wm)(i,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[0]||(a[0]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"number"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Pd,[(0,o.Wm)(r,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[1]||(a[1]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"date"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Wd,[(0,o.Wm)(c,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[2]||(a[2]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"list"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Vd,[(0,o.Wm)(d,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[3]||(a[3]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"relation"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",zd,[(0,o.Wm)(u,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,onChange:a[4]||(a[4]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","rowData"])])):(0,o.kq)("",!0),"computed"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Ud,[(0,o.Wm)(m,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,formGroupName:e.formGroupName,onChange:a[5]||(a[5]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","rowData","formGroupName"])])):(0,o.kq)("",!0),["text","number","list","relation","computed"].includes(e.cellHeader.datatype)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Md," datatype ("+(0,p.zw)(e.cellHeader.datatype)+") not supported ",1))],64)}const Yd={key:0};function Qd(e,a,t,l,n,s){const i=(0,o.up)("list-form-datatype-chip");return e.cellHeader?.meta?.indicator?((0,o.wg)(),(0,o.iD)("div",Yd,[(0,o.Wm)(i,{hideLabel:e.hideLabel,value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[0]||(a[0]=a=>e.$emit("change",a))},null,8,["hideLabel","value","cellHeader","formGroupName"])])):(0,o.kq)("",!0)}const Xd=["name","label","value","optionsAsKeyValue","formGroupName","gutterBottom"];function Jd(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("oak-select",{name:e.cellHeader.id,label:e.hideLabel?null:e.cellHeader.name,value:e.value,fill:"container",optionsAsKeyValue:e.cellHeader?.options?.map((e=>({id:e.id,value:e.value}))),onSelectInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,autocompleteVariant:"none",multiple:"",gutterBottom:!e.hideLabel,positioningStrategy:"fixed"},null,40,Xd)}var ep=(0,o.aZ)({name:"ListFormDatatypeChip",props:{value:Object,cellHeader:Object,hideLabel:Boolean,formGroupName:String}});const ap=(0,T.Z)(ep,[["render",Jd],["__scopeId","data-v-09479f69"]]);var tp=ap,lp=(0,o.aZ)({components:{ListFormDatatypeChip:tp},name:"ListFormDatatype",props:{value:Object,cellHeader:Object,hideLabel:Boolean,formGroupName:String}});const op=(0,T.Z)(lp,[["render",Qd]]);var np=op;const sp={class:"relation-edit-datatype"},ip={key:0},rp={variant:"body2"},cp=["isOpen"],dp={class:"sheet-container"},pp={class:"app-action-bar"},up=["variant"],mp=(0,o.Uk)("Choose selected");function fp(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("app-section"),c=(0,o.up)("datagrid");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",sp,[e.hideLabel?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",ip,[(0,o._)("oak-typography",rp,(0,p.zw)(e.cellHeader.name),1)])),(0,o._)("div",null,[(0,o.Uk)((0,p.zw)(e.value)+" ",1),(0,o._)("oak-link",{onLinkClick:a[0]||(a[0]=(...a)=>e.openChoosePrompt&&e.openChoosePrompt(...a)),color:"primary"},"Choose",32)])]),(0,o._)("oak-sheet",{fillColor:"global",position:"bottom",sizeVertical:"two-third",sizeHorizontal:"full",isOpen:e.showChoosePrompt,onSheetClose:a[2]||(a[2]=(...a)=>e.closeChoosePrompt&&e.closeChoosePrompt(...a))},[(0,o._)("div",dp,[(0,o.Wm)(r,{subtle:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",pp,[(0,o._)("div",null,[(0,o._)("oak-button",{theme:"primary",variant:(e.selectedRecords.length,"appear"),shape:"sharp",onButtonClick:a[1]||(a[1]=(...a)=>e.handleChange&&e.handleChange(...a))},[(0,o.Wm)(i,{icon:["fas","plus"]}),mp],40,up)])])])])),_:1}),(0,o.Wm)(c,{id:e.cellHeader?.meta?.tableId,selectedRecords:e.selectedRecords,secondaryGrid:"",onRecordToggled:e.handleRecordToggled,onRecordSelected:e.handleRecordSelected},null,8,["id","selectedRecords","onRecordToggled","onRecordSelected"])])],40,cp)],64)}var hp=(0,o.aZ)({name:"RelationFormDatatype",components:{Datagrid:Up},props:{value:Object,cellHeader:Object,rowData:Object,hideLabel:Boolean},data(){return{showChoosePrompt:!1,selectedRecords:[]}},methods:{openChoosePrompt(){this.showChoosePrompt=!0},closeChoosePrompt(){this.showChoosePrompt=!1},handleRecordToggled(e,a){this.selectedRecords=a?[...this.selectedRecords,e]:this.selectedRecords.filter((a=>a!==e))},handleRecordSelected(e){this.selectedRecords=[e]},handleChange(){console.log(this.selectedRecords[0]),this.$emit("change",{detail:{name:this.cellHeader?.id,value:this.selectedRecords[0]}}),this.closeChoosePrompt()}}});const bp=(0,T.Z)(hp,[["render",fp],["__scopeId","data-v-054c6ac8"]]);var gp=bp;const vp={class:"text-edit-datatype"},kp=["name","label","value","formGroupName","gutterBottom"];function wp(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",vp,[(0,o._)("oak-input",{type:"text",color:"container",name:e.cellHeader.id,label:e.hideLabel?null:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:!e.hideLabel},null,40,kp)])}var yp=(0,o.aZ)({name:"TextFormDatatype",props:{formGroupName:String,value:Object,cellHeader:Object,hideLabel:Boolean}});const _p=(0,T.Z)(yp,[["render",wp],["__scopeId","data-v-d271a7d6"]]);var Cp=_p;const Dp={class:"number-form-datatype"},Sp=["name","label","value","formGroupName","gutterBottom"];function Ip(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",Dp,[(0,o._)("oak-input",{type:"number",color:"container",name:e.cellHeader.id,label:e.hideLabel?null:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:!e.hideLabel},null,40,Sp)])}var Hp=(0,o.aZ)({name:"NumberFormDatatype",props:{formGroupName:String,value:Object,cellHeader:Object,hideLabel:Boolean}});const Rp=(0,T.Z)(Hp,[["render",Ip],["__scopeId","data-v-c29322a6"]]);var Ep=Rp;const Tp={class:"computed-form-datatype"},xp=["name","label","value","formGroupName","gutterBottom"];function $p(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",Tp,[(0,o._)("oak-input",{type:"text",color:"container",name:e.cellHeader.id,label:e.hideLabel?null:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:!e.hideLabel},null,40,xp)])}var qp=(0,o.aZ)({name:"ComputedFormDatatype",props:{formGroupName:String,value:Object,cellHeader:Object,hideLabel:Boolean}});const Fp=(0,T.Z)(qp,[["render",$p],["__scopeId","data-v-1370c2a1"]]);var Ap=Fp;const jp={class:"date-form-datatype"},Op=["name","label","value","formGroupName","gutterBottom"];function Np(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",jp,[(0,o._)("oak-input",{type:"date",color:"container",name:e.cellHeader.id,label:e.hideLabel?null:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:!e.hideLabel},null,40,Op)])}var Zp=(0,o.aZ)({name:"DateFormDatatype",props:{formGroupName:String,value:Object,cellHeader:Object,hideLabel:Boolean}});const Bp=(0,T.Z)(Zp,[["render",Np],["__scopeId","data-v-e6f5b3b4"]]);var Lp=Bp,Gp=(0,o.aZ)({name:"DatatypeForm",components:{TextFormDatatype:Cp,NumberFormDatatype:Ep,DateFormDatatype:Lp,RelationFormDatatype:gp,ListFormDatatype:np,ComputedFormDatatype:Ap},props:{hideLabel:Boolean,value:Object,cellHeader:Object,formGroupName:String}});const Pp=(0,T.Z)(Gp,[["render",Kd],["__scopeId","data-v-2cb5c5fe"]]);var Wp=Pp,Vp=(0,o.aZ)({name:"Datagrid",props:{tableId:String,selectedRecords:Array,dense:Boolean,multiselect:Boolean,wrap:Boolean,filter:Object,isSelectAll:Boolean,secondaryGrid:Boolean,scrollId:String},emits:["record-toggled","record-selected","select-all","select-none"],components:{DatatypeTableView:Ld,DatatypeForm:Wp},computed:{...(0,v.Se)(["getProfile","getColumnByTable","getTableReverseLookup"]),columns(){return this.getColumnByTable(this.tableId)},tableStyle(){return`${(0,Nr.q)({variant:"outlined",color:"global",dense:this.dense})} ${this.secondaryGrid?" do-not-limit-height":""}`}},created(){Dt.next({tableId:this.tableId,filter:this.filter,quickFilter:this.quickFilter.current,secondary:this.secondaryGrid})},methods:{loadMore(){console.log("*********"),St.next({secondary:this.secondaryGrid})},goToView(e){this.$router.push(`/${this.getProfile.space}/schema/${this.getProfile.schema}/table/${this.getTableReverseLookup[e.tableId]}/record/${e.reference}`)},headerKeyup(e){"datagrid-table-header-reference"===e.srcElement.id&&"Enter"===e.key&&this.toggleQuickFilter()},toggleQuickFilter(){this.isShowQuickFilter=!this.isShowQuickFilter},handleQuickFilterValueChange(e){console.log(e),this.quickFilter.current[e.detail.name]=e.detail.value},applyQuickFilter(e){this.quickFilter.applied={...this.quickFilter.current},Dt.next({tableId:this.tableId,filter:this.filter,quickFilter:this.quickFilter.current,secondary:this.secondaryGrid}),this.$emit("select-none")},clearQuickFilter(){this.quickFilter.current={},this.quickFilter.applied={},Dt.next({tableId:this.tableId,filter:this.filter,quickFilter:this.quickFilter.current,secondary:this.secondaryGrid})},toggleRecordSelectionEvent(e){const a=this.records.find((a=>a.id===e.detail.name));this.$emit("record-toggled",a,this.selectedRecords?.includes(a.id)?"":"active",!0)},recordSelectedEvent(e){const a=this.records.find((a=>a.id===e.detail.name));this.$emit("record-selected",a)},handleSelectAll(e){e.detail.value?this.$emit("select-all",this.records):this.$emit("select-none")},handleRecordClick(e){this.multiselect?this.$emit("record-toggled",e,this.selectedRecords?.includes(e.id)?"":"active"):this.$emit("record-selected",e)}},setup(e){const a=(0,lo.Z)(),t=(0,o.Fl)((()=>Ja.getters.getRecord(e.secondaryGrid))),l=(0,Cl.iH)(!1),n=(0,Cl.qj)({current:{},applied:{}}),s=(0,o.Fl)((()=>(0,Ha.isEqual)(n.current,n.applied)));return{records:t,isShowQuickFilter:l,quickFilter:n,isQuickFilterApplied:s,formId:a}},watch:{filter(e,a){Dt.next({tableId:this.tableId,filter:e,quickFilter:this.quickFilter.current,secondary:this.secondaryGrid}),this.$emit("select-none")},tableId(e,a){Dt.next({tableId:e,filter:this.filter,quickFilter:this.quickFilter.current,secondary:this.secondaryGrid}),this.$emit("select-none")}}});const zp=(0,T.Z)(Vp,[["render",Or],["__scopeId","data-v-4cb9304f"]]);var Up=zp;const Mp=e=>((0,o.dD)("data-v-7fa45d58"),e=e(),(0,o.Cn)(),e),Kp={class:"app-toolbar-action-container"},Yp=Mp((()=>(0,o._)("div",{class:"desktop-only"},"Create",-1))),Qp=Mp((()=>(0,o._)("div",{class:"desktop-only"},"Clone",-1))),Xp=Mp((()=>(0,o._)("div",{class:"desktop-only"},"Edit",-1))),Jp=Mp((()=>(0,o._)("div",{class:"desktop-only"},"Bulk edit",-1))),eu={class:"app-toolbar-action"},au=Mp((()=>(0,o._)("div",{class:"desktop-only"},"Delete",-1))),tu={class:"app-toolbar-action"},lu={class:"desktop-only"},ou={class:"app-toolbar-action-container"};function nu(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(),(0,o.j4)(o.lR,{to:"#toolbar-left"},[(0,o._)("div",Kp,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=a=>e.$emit("create"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("create"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","plus"]}),Yp],2)],32),1===e.selectedRecords.length?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:0,onClickAreaClick:a[1]||(a[1]=a=>e.$emit("clone"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("clone"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","clone"]}),Qp],2)],32)):(0,o.kq)("",!0),1===e.selectedRecords.length?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:1,onClickAreaClick:a[2]||(a[2]=a=>e.$emit("edit"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("edit"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","pencil-alt"]}),Xp],2)],32)):(0,o.kq)("",!0),e.selectedRecords.length>1?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:2,onClickAreaClick:a[3]||(a[3]=a=>e.$emit("bulkedit"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("bulkedit"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","pencil-alt"]}),Jp],2)],32)):(0,o.kq)("",!0),e.selectedRecords.length>0?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:3,onClickAreaClick:a[4]||(a[4]=a=>e.$emit("delete"))},[(0,o._)("div",eu,[(0,o.Wm)(i,{icon:["fas","trash-alt"]}),au])],32)):(0,o.kq)("",!0),e.selectedRecords.length>0&&e.multiselect?((0,o.wg)(),(0,o.iD)("oak-click-area",{key:4,onClickAreaClick:a[5]||(a[5]=a=>e.$emit("clear-selection"))},[(0,o._)("div",tu,[(0,o.Wm)(i,{icon:["fas","times"]}),(0,o._)("div",lu,"Clear ("+(0,p.zw)(e.selectedRecords.length)+")",1)])],32)):(0,o.kq)("",!0)])])),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#toolbar-right"},[(0,o._)("div",ou,[(0,o._)("oak-click-area",{onClickAreaClick:a[6]||(a[6]=a=>e.$emit("settings"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("settings"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","cogs"]})],2)],32),(0,o._)("oak-click-area",{onClickAreaClick:a[7]||(a[7]=a=>e.$emit("activity"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("activity"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","rss"]})],2)],32),(0,o._)("oak-click-area",{onClickAreaClick:a[8]||(a[8]=a=>e.$emit("filter"))},[(0,o._)("div",{class:(0,p.C_)(["app-toolbar-action",""+("filter"===e.sidepaneContent?"app-toolbar-action--active":"")])},[(0,o.Wm)(i,{icon:["fas","filter"]})],2)],32)])]))],64)}var su=(0,o.aZ)({name:"ActionBar",props:{selectedRecords:Array,multiselect:Boolean,sidepaneContent:String},methods:{goBack(){this.$router.back()}}});const iu=(0,T.Z)(su,[["render",nu],["__scopeId","data-v-7fa45d58"]]);var ru=iu;const cu={class:"create-record"},du={class:"sidepane-main"},pu={class:"edit-detail"},uu=["formGroupName"],mu={class:"create-record__form"},fu={class:"create-record__form__element__value"};function hu(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar-create"),c=(0,o.up)("datatype-edit"),d=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",cu,[(0,o.Wm)(i,{heading:e.record?`Clone based on #${e.record.reference}`:"Create new record",onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["heading","isSidepaneExpanded"]),(0,o._)("div",du,[(0,o.Wm)(r,{onClose:a[3]||(a[3]=a=>e.$emit("close")),formGroupName:e.formId},null,8,["formGroupName"]),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",pu,[(0,o._)("oak-form",{formGroupName:e.formId,onFormSubmit:a[4]||(a[4]=(...a)=>e.handleSubmit&&e.handleSubmit(...a))},[(0,o._)("div",mu,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,(a=>((0,o.wg)(),(0,o.iD)("div",{class:"create-record__form__element",key:a.id},[(0,o._)("div",fu,[(0,o.Wm)(c,{value:e.state[a.id],rowData:e.rowData,cellHeader:a,onChange:e.handleChange,formGroupName:e.formId},null,8,["value","rowData","cellHeader","onChange","formGroupName"])])])))),128))])],40,uu)])])])),_:1})])])}const bu=et.ZP`
  mutation addSchemaTableData($payload: SchemaTableDataPayload) {
    addSchemaTableData(payload: $payload) {
      id
      reference
      tableId
      row
      relation
    }
  }
`,gu={key:0,class:"data-cell"},vu={key:1,class:"data-cell"},ku={key:2,class:"data-cell"},wu={key:3,class:"data-cell"},yu={key:4,class:"data-cell"},_u={key:5,class:"data-cell"},Cu={key:6,class:"data-cell"},Du={key:7,class:"data-cell"};function Su(e,a,t,l,n,s){const i=(0,o.up)("text-edit-datatype"),r=(0,o.up)("number-edit-datatype"),c=(0,o.up)("date-edit-datatype"),d=(0,o.up)("list-edit-datatype"),u=(0,o.up)("relation-edit-datatype"),m=(0,o.up)("user-edit-datatype"),f=(0,o.up)("percentage-edit-datatype");return(0,o.wg)(),(0,o.iD)(o.HY,null,["text"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",gu,[(0,o.Wm)(i,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[0]||(a[0]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"number"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",vu,[(0,o.Wm)(r,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[1]||(a[1]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"date"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",ku,[(0,o.Wm)(c,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[2]||(a[2]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"list"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",wu,[(0,o.Wm)(d,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[3]||(a[3]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"relation"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",yu,[(0,o.Wm)(u,{value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,formGroupName:e.formGroupName,onChange:a[4]||(a[4]=a=>e.$emit("change",a))},null,8,["value","cellHeader","rowData","formGroupName"])])):(0,o.kq)("",!0),"user"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",_u,[(0,o.Wm)(m,{value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,formGroupName:e.formGroupName,onChange:a[5]||(a[5]=a=>e.$emit("change",a))},null,8,["value","cellHeader","rowData","formGroupName"])])):(0,o.kq)("",!0),"percentage"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Cu,[(0,o.Wm)(f,{value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,formGroupName:e.formGroupName,onChange:a[6]||(a[6]=a=>e.$emit("change",a))},null,8,["value","cellHeader","rowData","formGroupName"])])):(0,o.kq)("",!0),["text","number","date","list","relation","user","percentage","computed"].includes(e.cellHeader.datatype)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Du," datatype ("+(0,p.zw)(e.cellHeader.datatype)+") not supported ",1))],64)}const Iu={key:0};function Hu(e,a,t,l,n,s){const i=(0,o.up)("list-edit-datatype-chip");return e.cellHeader?.meta?.indicator?((0,o.wg)(),(0,o.iD)("div",Iu,[(0,o.Wm)(i,{value:e.value,cellHeader:e.cellHeader,onChange:a[0]||(a[0]=a=>e.$emit("change",a))},null,8,["value","cellHeader"])])):(0,o.kq)("",!0)}const Ru=["name","label","value","optionsAsKeyValue","formGroupName"];function Eu(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("oak-select",{name:e.cellHeader.id,label:e.cellHeader.name,value:e.value,optionsAsKeyValue:e.cellHeader?.options?.map((e=>({id:e.id,value:e.value}))),onSelectInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,autocompleteVariant:"none",multiple:"",gutterBottom:""},null,40,Ru)}var Tu=(0,o.aZ)({name:"ListEditDatatypeChip",props:{value:Object,cellHeader:Object}});const xu=(0,T.Z)(Tu,[["render",Eu],["__scopeId","data-v-50d80000"]]);var $u=xu,qu=(0,o.aZ)({components:{ListEditDatatypeChip:$u},name:"ListEditDatatype",props:{value:Object,cellHeader:Object}});const Fu=(0,T.Z)(qu,[["render",Hu]]);var Au=Fu;const ju={class:"relation-edit-datatype"},Ou={variant:"body2"},Nu=["isOpen"],Zu=["id"],Bu={class:"sheet-container__content"},Lu={class:"app-action-bar"},Gu=["variant"],Pu=(0,o.Uk)("Choose selected");function Wu(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("app-section"),c=(0,o.up)("datagrid");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",ju,[(0,o._)("div",null,[(0,o._)("oak-typography",Ou,(0,p.zw)(e.cellHeader.name),1)]),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.selectedRecordsObject,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},(0,p.zw)(a.row[e.cellHeader.meta.columnId]),1)))),128)),(0,o._)("oak-link",{onLinkClick:a[0]||(a[0]=(...a)=>e.openChoosePrompt&&e.openChoosePrompt(...a)),color:"primary"},"Choose",32)])]),(0,o._)("oak-sheet",{fillColor:"global",position:"bottom",sizeVertical:"two-third",sizeHorizontal:"full",isOpen:e.showChoosePrompt,paddingVertical:"0",paddingHorizontal:"0",onSheetClose:a[2]||(a[2]=(...a)=>e.closeChoosePrompt&&e.closeChoosePrompt(...a))},[(0,o._)("div",{class:"sheet-container",id:e.sheetId},[(0,o._)("div",Bu,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",Lu,[(0,o._)("div",null,[(0,o._)("oak-button",{theme:"primary",variant:(e.selectedRecords.length,"appear"),shape:"sharp",onButtonClick:a[1]||(a[1]=(...a)=>e.handleChange&&e.handleChange(...a))},[(0,o.Wm)(i,{icon:["fas","plus"]}),Pu],40,Gu)])])])])),_:1}),e.showChoosePrompt?((0,o.wg)(),(0,o.j4)(c,{key:0,tableId:e.cellHeader?.meta?.tableId,selectedRecords:e.selectedRecords,scrollId:e.sheetId,secondaryGrid:"",onRecordToggled:e.handleRecordToggled,onRecordSelected:e.handleRecordSelected},null,8,["tableId","selectedRecords","scrollId","onRecordToggled","onRecordSelected"])):(0,o.kq)("",!0)])],8,Zu)],40,Nu)],64)}var Vu=(0,o.aZ)({name:"RelationEditDatatype",components:{Datagrid:Up},props:{value:Object,cellHeader:Object,rowData:Object},data(){return{sheetId:`id-${(0,lo.Z)()}`,showChoosePrompt:!1,selectedRecords:[],selectedRecordsObject:[]}},mounted(){this.rowData&&this.cellHeader&&this.rowData.relation[this.cellHeader.id]?.length>0&&(this.selectedRecordsObject=[...this.rowData.relation[this.cellHeader.id]],this.selectedRecordsObject&&this.selectedRecordsObject.forEach((e=>{this.selectedRecords.push(e._id)})))},methods:{openChoosePrompt(){this.showChoosePrompt=!0},closeChoosePrompt(){this.showChoosePrompt=!1},handleRecordToggled(e,a){a?(this.selectedRecords=[...this.selectedRecords,e.id],this.selectedRecordsObject=[...this.selectedRecords,e]):(this.selectedRecords=this.selectedRecords.filter((a=>a!==e.id)),this.selectedRecordsObject=this.selectedRecordsObject.filter((a=>a!==e.id)))},handleRecordSelected(e){this.selectedRecords=[e.id],this.selectedRecordsObject=[e]},handleChange(){this.$emit("change",{detail:{name:this.cellHeader?.id,value:this.selectedRecords[0]}}),this.closeChoosePrompt()}}});const zu=(0,T.Z)(Vu,[["render",Wu],["__scopeId","data-v-daca6046"]]);var Uu=zu;const Mu={class:"text-edit-datatype"},Ku=["name","label","value","formGroupName"];function Yu(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",Mu,[(0,o._)("oak-input",{type:"text",name:e.cellHeader.id,label:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:""},null,40,Ku)])}var Qu=(0,o.aZ)({name:"TextEditDatatype",props:{formGroupName:String,value:Object,cellHeader:Object}});const Xu=(0,T.Z)(Qu,[["render",Yu],["__scopeId","data-v-0ead2da4"]]);var Ju=Xu;const em={class:"number-edit-datatype"},am=["name","label","value","formGroupName"];function tm(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",em,[(0,o._)("oak-input",{type:"number",name:e.cellHeader.id,label:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:""},null,40,am)])}var lm=(0,o.aZ)({name:"NumberEditDatatype",props:{formGroupName:String,value:Object,cellHeader:Object}});const om=(0,T.Z)(lm,[["render",tm],["__scopeId","data-v-71ec7392"]]);var nm=om;const sm={class:"date-edit-datatype"},im=["name","label","value","formGroupName"];function rm(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",sm,[(0,o._)("oak-input",{type:"date",name:e.cellHeader.id,label:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:""},null,40,im)])}var cm=(0,o.aZ)({name:"DateEditDatatype",props:{formGroupName:String,value:Object,cellHeader:Object}});const dm=(0,T.Z)(cm,[["render",rm],["__scopeId","data-v-8fc14966"]]);var pm=dm;const um=["name","label","value","optionsAsKeyValue","formGroupName"];function mm(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("oak-select",{name:e.cellHeader.id,label:e.cellHeader.name,value:e.value,optionsAsKeyValue:e.userList,onSelectInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,autocompleteVariant:"autocomplete",multiple:"",gutterBottom:""},null,40,um)}var fm=(0,o.aZ)({name:"UserEditDatatype",props:{value:Object,cellHeader:Object},setup(){const e=(0,v.oR)(),a=(0,o.Fl)((()=>e.getters.getUser)),t=(0,o.Fl)((()=>e.getters.getUser.map((e=>({id:e.id,value:`${e.firstName} ${e.lastName}`})))));return{users:a,userList:t}}});const hm=(0,T.Z)(fm,[["render",mm],["__scopeId","data-v-4e6a6ae9"]]);var bm=hm;const gm={class:"text-edit-datatype"},vm=["name","label","value","formGroupName"];function km(e,a,t,l,n,s){return(0,o.wg)(),(0,o.iD)("div",gm,[(0,o._)("oak-input",{type:"number",name:e.cellHeader.id,label:e.cellHeader.name,value:e.value,onInputInput:a[0]||(a[0]=a=>e.$emit("change",a)),formGroupName:e.formGroupName,gutterBottom:""},null,40,vm)])}var wm=(0,o.aZ)({name:"PercentageEditDatatype",props:{formGroupName:String,value:Object,cellHeader:Object}});const ym=(0,T.Z)(wm,[["render",km],["__scopeId","data-v-274305d8"]]);var _m=ym,Cm=(0,o.aZ)({name:"DatatypeEdit",components:{TextEditDatatype:Ju,NumberEditDatatype:nm,DateEditDatatype:pm,RelationEditDatatype:Uu,ListEditDatatype:Au,UserEditDatatype:bm,PercentageEditDatatype:_m},props:{formGroupName:String,value:Object,cellHeader:Object,rowData:Object}});const Dm=(0,T.Z)(Cm,[["render",Su],["__scopeId","data-v-70c35ef3"]]);var Sm=Dm;const Im={class:"action-footer action-footer-sidepane position-right"},Hm=["formGroupName"],Rm=(0,o.Uk)("Save"),Em=(0,o.Uk)("Cancel");function Tm(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",Im,[(0,o._)("oak-button",{theme:"primary",variant:"outline",shape:"sharp",formGroupName:e.formGroupName,type:"submit"},[(0,o.Wm)(i,{icon:["fas","check"]}),Rm],8,Hm),(0,o._)("oak-button",{theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("close"))},[(0,o.Wm)(i,{icon:["fas","times"]}),Em],32)])}var xm=(0,o.aZ)({name:"ActionBarEdit",props:{formGroupName:String},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}}});const $m=(0,T.Z)(xm,[["render",Tm]]);var qm=$m,Fm=(0,o.aZ)({name:"EditDetail",props:{tableId:String,record:Object,filter:Object,isSidepaneExpanded:Boolean},data(){return{state:{},formId:(0,lo.Z)()}},components:{DatatypeEdit:Sm,ActionBarCreate:qm,SidepaneHeading:ho,AppSection:tl},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getColumnByTable(e.tableId))),{mutate:l}=(0,n.Db)(bu);return{mutate:l,columns:t}},methods:{handleChange(e){this.state={...this.state,[e.detail.name]:e.detail.value}},handleSubmit(e){this.mutate({payload:{tableId:this.tableId,row:this.state}}).then((e=>{Ja.dispatch("appendRecord",{secondary:!1,payload:[e.data.addSchemaTableData]}),this.state={},this.$emit("saved")}))}},mounted(){this.record?.row&&(this.state={...this.record.row})},watch:{record(e,a){this.state=e?.row?{...e.row}:{}}}});const Am=(0,T.Z)(Fm,[["render",hu],["__scopeId","data-v-0d74479f"]]);var jm=Am;const Om={key:0};function Nm(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar-edit"),c=(0,o.up)("edit-detail");return e.selectedRecords?.length>0?((0,o.wg)(),(0,o.iD)("div",Om,[(0,o.Wm)(i,{heading:`Edit #${e.selectedRecords[0].reference}`,onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["heading","isSidepaneExpanded"]),(0,o.Wm)(r,{formGroupName:e.formId},null,8,["formGroupName"]),(0,o.Wm)(c,{rowData:e.selectedRecords[0],tableId:e.tableId,formGroupName:e.formId,onSaved:a[3]||(a[3]=a=>e.$emit("saved",a))},null,8,["rowData","tableId","formGroupName"])])):(0,o.kq)("",!0)}const Zm={class:"edit-detail"},Bm={class:"edit-detail"},Lm=["formGroupName"],Gm={class:"edit-detail__form"},Pm={class:"edit-detail__form__element__value"};function Wm(e,a,t,l,n,s){const i=(0,o.up)("datatype-edit"),r=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",Zm,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",Bm,[(0,o._)("oak-form",{formGroupName:e.formGroupName,onFormSubmit:a[0]||(a[0]=(...a)=>e.handleSubmit&&e.handleSubmit(...a))},[(0,o._)("div",Gm,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,(a=>((0,o.wg)(),(0,o.iD)("div",{class:"edit-detail__form__element",key:a.id},[(0,o._)("div",Pm,[(0,o.Wm)(i,{value:e.state[a.id],rowData:e.rowData,cellHeader:a,onChange:e.handleChange,formGroupName:e.formGroupName},null,8,["value","rowData","cellHeader","onChange","formGroupName"])])])))),128))])],40,Lm)])])])),_:1})])}var Vm=(0,o.aZ)({name:"EditDetail",computed:{...(0,v.Se)(["getProfile"])},props:{tableId:String,rowData:Object,formGroupName:String},components:{DatatypeEdit:Sm,AppSection:tl},mounted(){this.refreshStateValue()},methods:{handleChange(e){this.state={...this.state,[e.detail.name]:e.detail.value}},handleSubmit(e){e.detail.isValid&&this.mutate({payload:{id:this.rowData?.id,tableId:this.tableId,row:this.state}}).then((e=>{Ja.dispatch("editRecord",e.data.addSchemaTableData),this.$emit("saved",e.data.addSchemaTableData)}))},refreshStateValue(){if(this.columns&&this.rowData){const e={};this.columns.forEach((a=>{e[a.id]=this.rowData?.row[a.id]})),this.state={...e}}}},data(){return{state:{},mutate:(0,n.Db)(bu,(()=>({variables:{}}))).mutate}},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getColumnByTable(e.tableId)));return{columns:t}},watch:{columns(){this.refreshStateValue()}}});const zm=(0,T.Z)(Vm,[["render",Wm],["__scopeId","data-v-3b4d51c0"]]);var Um=zm;const Mm={class:"action-footer action-footer-sidepane position-right"},Km=["formGroupName"],Ym=(0,o.Uk)("Save"),Qm=(0,o.Uk)("Cancel");function Xm(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",Mm,[(0,o._)("oak-button",{type:"submit",formGroupName:e.formGroupName,theme:"primary",variant:"outline",shape:"sharp"},[(0,o.Wm)(i,{icon:["fas","check"]}),Ym],8,Km),(0,o._)("oak-button",{theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[0]||(a[0]=(...a)=>e.closeEdit&&e.closeEdit(...a))},[(0,o.Wm)(i,{icon:["fas","times"]}),Qm],32)])}var Jm=(0,o.aZ)({name:"ActionBarEdit",props:{isEdit:Boolean,closeEdit:Function,openEdit:Function,formGroupName:String},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}},methods:{goBack(){this.$router.back()}}});const ef=(0,T.Z)(Jm,[["render",Xm],["__scopeId","data-v-5d25238c"]]);var af=ef,tf=(0,o.aZ)({name:"EditRecord",components:{EditDetail:Um,ActionBarEdit:af,SidepaneHeading:ho},setup(){const e=(0,lo.Z)();return{formId:e}},props:{selectedRecords:Array,tableId:String,isSidepaneExpanded:Boolean}});const lf=(0,T.Z)(tf,[["render",Nm]]);var of=lf;const nf={class:"filter-prompt"},sf={class:"filter-prompt__main"};function rf(e,a,t,l,n,s){const i=(0,o.up)("sidepane-heading"),r=(0,o.up)("action-bar"),c=(0,o.up)("filter-listing");return(0,o.wg)(),(0,o.iD)("div",nf,[(0,o.Wm)(i,{heading:"Filter settings",onClose:a[0]||(a[0]=a=>e.$emit("close")),onExpand:a[1]||(a[1]=a=>e.$emit("expand")),onCollapse:a[2]||(a[2]=a=>e.$emit("collapse")),isSidepaneExpanded:e.isSidepaneExpanded},null,8,["isSidepaneExpanded"]),(0,o._)("div",sf,[(0,o.Wm)(r,{onSave:e.handleSubmit,onClose:a[3]||(a[3]=a=>e.$emit("close")),onApply:a[4]||(a[4]=a=>e.$emit("apply",e.currentFilter)),onClear:a[5]||(a[5]=a=>e.$emit("clear")),currentFilter:e.currentFilter,appliedFilter:e.filter},null,8,["onSave","currentFilter","appliedFilter"]),(0,o.Wm)(c,{tableId:e.tableId,currentFilter:e.currentFilter,appliedFilter:e.filter,onChange:e.handleFilterChange},null,8,["tableId","currentFilter","appliedFilter","onChange"])])])}const cf=et.ZP`
  mutation updateSchemaTableFilter($payload: SchemaTableFilterPayload) {
    updateSchemaTableFilter(payload: $payload) {
      id
      tableId
      name
      search
      sort
    }
  }
`,df=e=>{const{mutate:a}=(0,n.Db)(cf,(()=>({update:(a,t)=>{const l=a.readQuery({query:st,variables:{schemaId:e}});console.log(...l.allSchemaTableFilterBySchemaId.filter((e=>e.id!==t.data.updateSchemaTableFilter.id)),t.data.updateSchemaTableFilter),a.writeQuery({query:st,variables:{schemaId:e},data:{allSchemaTableFilterBySchemaId:[...l.allSchemaTableFilterBySchemaId.filter((e=>e.id!==t.data.updateSchemaTableFilter.id)),t.data.updateSchemaTableFilter]}})}})));return a},pf={class:"filter-listing"},uf=["value","optionsAsKeyValue"];function mf(e,a,t,l,n,s){const i=(0,o.up)("create-filter"),r=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",pf,[(0,o.Wm)(r,{subtle:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("oak-select",{name:"operator",fill:"float",label:"Choose filter",placeholder:"Choose a filter",value:e.currentFilter.id,optionsAsKeyValue:e.filterList,size:"small",onSelectChange:a[0]||(a[0]=(...a)=>e.handleFilterChange&&e.handleFilterChange(...a)),gutterBottom:"true"},null,40,uf),(0,o.Wm)(i,{tableId:e.tableId,filter:e.currentFilter,onChange:a[1]||(a[1]=a=>e.$emit("change",a))},null,8,["tableId","filter"])])])])),_:1})])}const ff={class:"filter-listing"},hf=["value"],bf=["tabs","activeTabIndex"],gf={slot:"content",class:"filter-tab"},vf={key:0},kf=["value","optionsAsKeyValue"];function wf(e,a,t,l,n,s){const i=(0,o.up)("condition-listing");return(0,o.wg)(),(0,o.iD)("div",ff,[(0,o._)("oak-input",{name:"name",label:"Filter name",value:e.filter.name,fill:"global",size:"small",onInputInput:a[0]||(a[0]=(...a)=>e.handleNameChange&&e.handleNameChange(...a)),gutterBottom:"true"},null,40,hf),(0,o._)("oak-tab",{onTabChange:a[2]||(a[2]=(...a)=>e.handleTabChange&&e.handleTabChange(...a)),tabs:e.tabs,activeTabIndex:e.activeTab,color:"secondary",variant:"underline"},[(0,o._)("div",gf,[0===e.activeTab?((0,o.wg)(),(0,o.iD)("div",vf,[(0,o._)("oak-select",{name:"operator",label:"Matches",fill:"global",value:e.filter.search.operator,optionsAsKeyValue:e.operatorList,size:"small",onSelectChange:a[1]||(a[1]=(...a)=>e.handleOperatorChange&&e.handleOperatorChange(...a)),gutterBottom:"true"},null,40,kf),(0,o.Wm)(i,{tableId:e.tableId,conditions:e.filter.search.condition,onChange:e.handleConditionChange},null,8,["tableId","conditions","onChange"])])):(0,o.kq)("",!0)])],40,bf)])}const yf=e=>((0,o.dD)("data-v-4ff0b80a"),e=e(),(0,o.Cn)(),e),_f={class:"condition"},Cf={class:"condition__header"},Df=yf((()=>(0,o._)("oak-typography",{variant:"body2"},"Conditions",-1))),Sf=(0,o.Uk)("Add");function If(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("condition");return(0,o.wg)(),(0,o.iD)("div",_f,[(0,o._)("div",Cf,[Df,(0,o._)("oak-button",{theme:"default",variant:"appear",shape:"sharp",size:"xsmall",onButtonClick:a[0]||(a[0]=(...a)=>e.handleAddCondition&&e.handleAddCondition(...a))},[(0,o.Wm)(i,{icon:["fas","plus"]}),Sf],32)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.conditions,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"condition__item"},[(0,o.Wm)(r,{condition:a,columns:e.columns,filters:e.filters,onChange:a=>e.handleConditionChange(a,t),onDelete:a=>e.handleDeleteCondition(t)},null,8,["condition","columns","filters","onChange","onDelete"])])))),128))])}const Hf={class:"condition__item__header"},Rf=["value"],Ef={class:"condition__item__header__delete"},Tf=["value","optionsAsKeyValue"],xf=["value","optionsAsKeyValue"];function $f(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("datatype-form");return(0,o.wg)(),(0,o.iD)("div",{class:(0,p.C_)(["condition__item",e.conditionSectionStyle])},[(0,o._)("div",Hf,[(0,o._)("oak-checkbox",{name:"extended",value:e.condition.extended,size:"small",onInputChange:a[0]||(a[0]=(...a)=>e.handleExtendedFilterChange&&e.handleExtendedFilterChange(...a))},"Extends another filter ",40,Rf),(0,o._)("oak-click-area",{onClickAreaClick:a[1]||(a[1]=a=>e.$emit("delete"))},[(0,o._)("div",Ef,[(0,o.Wm)(i,{icon:["fas","times"]})])],32)]),e.condition.extended?((0,o.wg)(),(0,o.iD)("oak-select",{key:0,name:"id",fill:"container",label:"Filter name",value:e.condition.id,optionsAsKeyValue:e.filterList,size:"small",onSelectChange:a[2]||(a[2]=(...a)=>e.handleChange&&e.handleChange(...a)),gutterBottom:"true"},null,40,Tf)):((0,o.wg)(),(0,o.iD)("oak-select",{key:1,name:"id",fill:"container",label:"Column name",value:e.condition.id,optionsAsKeyValue:e.columnList,size:"small",onSelectChange:a[3]||(a[3]=(...a)=>e.handleChange&&e.handleChange(...a)),gutterBottom:"true"},null,40,xf)),e.chosenColumn?((0,o.wg)(),(0,o.j4)(r,{key:2,value:e.condition.value,cellHeader:e.chosenColumn,onChange:e.handleValueChange,formGroupName:"filter-form"},null,8,["value","cellHeader","onChange"])):(0,o.kq)("",!0)],2)}const qf={key:0,class:"data-cell"},Ff={key:1,class:"data-cell"},Af={key:2,class:"data-cell"},jf={key:3,class:"data-cell"},Of={key:4,class:"data-cell"},Nf={key:5,class:"data-cell"},Zf={key:6,class:"data-cell"};function Bf(e,a,t,l,n,s){const i=(0,o.up)("text-form-datatype"),r=(0,o.up)("number-form-datatype"),c=(0,o.up)("date-form-datatype"),d=(0,o.up)("list-form-datatype"),u=(0,o.up)("relation-form-datatype"),m=(0,o.up)("computed-form-datatype");return(0,o.wg)(),(0,o.iD)(o.HY,null,["text"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",qf,[(0,o.Wm)(i,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[0]||(a[0]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"number"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Ff,[(0,o.Wm)(r,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[1]||(a[1]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"date"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Af,[(0,o.Wm)(c,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[2]||(a[2]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"list"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",jf,[(0,o.Wm)(d,{value:e.value,cellHeader:e.cellHeader,formGroupName:e.formGroupName,onChange:a[3]||(a[3]=a=>e.$emit("change",a))},null,8,["value","cellHeader","formGroupName"])])):(0,o.kq)("",!0),"relation"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Of,[(0,o.Wm)(u,{value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,onChange:a[4]||(a[4]=a=>e.$emit("change",a))},null,8,["value","cellHeader","rowData"])])):(0,o.kq)("",!0),"computed"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Nf,[(0,o.Wm)(m,{value:e.value,cellHeader:e.cellHeader,rowData:e.rowData,formGroupName:e.formGroupName,onChange:a[5]||(a[5]=a=>e.$emit("change",a))},null,8,["value","cellHeader","rowData","formGroupName"])])):(0,o.kq)("",!0),["text","number","date","list","relation","computed"].includes(e.cellHeader.datatype)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Zf," datatype ("+(0,p.zw)(e.cellHeader.datatype)+") not supported ",1))],64)}var Lf=(0,o.aZ)({name:"DatatypeForm",components:{TextFormDatatype:Cp,NumberFormDatatype:Ep,DateFormDatatype:Lp,RelationFormDatatype:gp,ListFormDatatype:np,ComputedFormDatatype:Ap},props:{value:Object,cellHeader:Object}});const Gf=(0,T.Z)(Lf,[["render",Bf]]);var Pf=Gf,Wf=(0,o.aZ)({name:"Condition",components:{DatatypeForm:Pf},props:{tableId:String,condition:Object,columns:Array,filters:Array},setup(e){(0,v.oR)();const a=(0,Cl.iH)({name:"",search:{operator:"and",condition:[]},sort:null}),t=(0,Cl.iH)(!1),l=(0,o.Fl)((()=>e.columns?.map((e=>({id:e.id,value:e.name}))))),n=(0,o.Fl)((()=>e.filters?.map((e=>({id:e.id,value:e.name}))))),s=(0,o.Fl)((()=>e.columns?.find((a=>a.id===e.condition?.id)))),i=(0,o.Fl)((()=>(0,Jt.q)({outlineColor:"float",elevation:0,fillColor:"container",marginHorizontal:0,marginVertical:2,paddingHorizontal:2,paddingVertical:2})));return{columnList:l,filterList:n,chosenColumn:s,state:a,isExtendedFilter:t,conditionSectionStyle:i}},methods:{handleChange(e){this.emitChange({[e.detail.name]:e.detail.value})},handleValueChange(e){this.emitChange({value:e.detail.value})},emitChange(e){this.$emit("change",{detail:{value:{...this.condition,...e}}})},handleExtendedFilterChange(e){this.emitChange({id:null,value:null,[e.detail.name]:e.detail.value})}}});const Vf=(0,T.Z)(Wf,[["render",$f],["__scopeId","data-v-9b339560"]]);var zf=Vf,Uf=(0,o.aZ)({name:"ConditionListing",components:{Condition:zf},props:{tableId:String,conditions:Array},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getColumnByTable(e.tableId))),l=(0,o.Fl)((()=>a.getters.getFilterByTable(e.tableId))),n=(0,Cl.iH)({name:"",search:{operator:"and",condition:[]},sort:null}),s=(0,Cl.iH)(!1),i=(0,o.Fl)((()=>(0,Jt.q)({outlineColor:"float",elevation:0,fillColor:"container",marginHorizontal:0,marginVertical:2,paddingHorizontal:2,paddingVertical:2})));return{columns:t,filters:l,state:n,isExtendedFilter:s,conditionSectionStyle:i}},methods:{handleChange(e){},handleExtendedFilterChange(e){this.isExtendedFilter=e.detail.value},handleAddCondition(){const e=this.conditions?[...this.conditions]:[];this.$emit("change",{detail:{value:[...e,{extended:!1,id:null,value:null}]}})},handleConditionChange(e,a){const t=this.conditions?[...this.conditions]:[];t[a]=e.detail.value,this.$emit("change",{detail:{value:[...t]}})},handleDeleteCondition(e){this.$emit("change",{detail:{value:this.conditions?.filter(((a,t)=>e!==t))}})}}});const Mf=(0,T.Z)(Uf,[["render",If],["__scopeId","data-v-4ff0b80a"]]);var Kf=Mf,Yf=(0,o.aZ)({name:"CreateFilter",props:{tableId:String,filter:Object},components:{ConditionListing:Kf},setup(e){const a=["Search","Sort"],t=(0,Cl.iH)(0),l=(0,v.oR)(),n=(0,o.Fl)((()=>l.getters.getColumnByTable(e.tableId))),s=(0,o.Fl)((()=>l.getters.getProfile)),i=[{id:"and",value:"All conditions must match"},{id:"or",value:"At least one condition must match"}];return{columns:n,profile:s,operatorList:i,activeTab:t,tabs:a}},methods:{handleTabChange(e){this.activeTab=e.detail.value},handleNameChange(e){this.$emit("change",{...this.filter,name:e.detail.value})},handleOperatorChange(e){this.$emit("change",{...this.filter,search:{...this.filter?.search,operator:e.detail.value}})},handleConditionChange(e){this.$emit("change",{...this.filter,search:{...this.filter?.search,condition:e.detail.value}})}}});const Qf=(0,T.Z)(Yf,[["render",wf],["__scopeId","data-v-06416a50"]]);var Xf=Qf,Jf=(0,o.aZ)({name:"FilterListing",props:{tableId:String,currentFilter:Object,appliedFilter:Object},components:{AppSection:tl,CreateFilter:Xf},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.getColumnByTable(e.tableId))),l=(0,o.Fl)((()=>a.getters.getFilterByTable(e.tableId))),n=(0,o.Fl)((()=>a.getters.getFilterByTable(e.tableId).map((e=>({id:e.id,value:e.name})))));return{columns:t,filters:l,filterList:n}},methods:{handleFilterChange(e){this.$emit("change",this.filters.find((a=>a.id===e.detail.value)))}}});const eh=(0,T.Z)(Jf,[["render",mf],["__scopeId","data-v-8ec6cf5a"]]);var ah=eh;const th={class:"action-footer action-footer-sidepane position-right"},lh=(0,o.Uk)("Save"),oh=(0,o.Uk)("Apply"),nh=(0,o.Uk)("Clear"),sh=(0,o.Uk)("Delete");function ih(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",th,[e.currentFilter.id||e.currentFilter.name?((0,o.wg)(),(0,o.iD)("oak-button",{key:0,theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("save"))},[(0,o.Wm)(i,{icon:["fas","plus"]}),lh],32)):(0,o.kq)("",!0),e.isFilterApplied?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("oak-button",{key:1,theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[1]||(a[1]=a=>e.$emit("apply"))},[(0,o.Wm)(i,{icon:["fas","check"]}),oh],32)),e.isFilterApplied?((0,o.wg)(),(0,o.iD)("oak-button",{key:2,theme:"default",variant:"outline",shape:"sharp",onButtonClick:a[2]||(a[2]=a=>e.$emit("clear"))},[(0,o.Wm)(i,{icon:["fas","times"]}),nh],32)):(0,o.kq)("",!0),e.currentFilter.id?((0,o.wg)(),(0,o.iD)("oak-button",{key:3,theme:"danger",variant:"outline",shape:"sharp",onButtonClick:a[3]||(a[3]=a=>e.$emit("delete"))},[(0,o.Wm)(i,{icon:["fas","trash-alt"]}),sh],32)):(0,o.kq)("",!0)])}var rh=(0,o.aZ)({name:"ActionBar",props:{currentFilter:Object,appliedFilter:Object},setup(e){const a=(0,o.Fl)((()=>(0,uo.q)({marginVertical:0,marginHorizontal:2}))),t=(0,o.Fl)((()=>(console.log(e.currentFilter,e.appliedFilter,(0,Ha.isEqual)((0,Cl.iH)(e.currentFilter),(0,Cl.iH)(e.appliedFilter))),(0,Ha.isEqual)(e.currentFilter,e.appliedFilter))));return{headerSpacingStyle:a,isFilterApplied:t}}});const ch=(0,T.Z)(rh,[["render",ih],["__scopeId","data-v-a9e8fd8a"]]);var dh=ch,ph=(0,o.aZ)({components:{FilterListing:ah,ActionBar:dh,SidepaneHeading:ho},name:"FilterPane",props:{isOpen:Boolean,tableId:String,filter:Object,isSidepaneExpanded:Boolean},setup(e){const a=(0,v.oR)(),t=(0,o.Fl)((()=>a.getters.profile)),l=(0,Cl.iH)("list"),n={id:null,tableId:e.tableId,name:"",search:{operator:"and",condition:[]},sort:null},s=(0,Cl.iH)(n),i=df(t?.value?.schema||"");return{view:l,emptyFilter:n,currentFilter:s,filterMutate:i,profile:t}},methods:{changeView(e){this.view=e},handleFilterChange(e){this.currentFilter=e,console.log(e)},handleSubmit(){this.filterMutate({payload:{id:this.currentFilter.id,tableId:this.tableId,name:this.currentFilter.name,search:this.currentFilter.search,sort:this.currentFilter.sort}}).then((e=>{rt.next({schemaId:this.profile.schema})}))}}});const uh=(0,T.Z)(ph,[["render",rf],["__scopeId","data-v-3a16257f"]]);var mh=uh,fh=(0,o.aZ)({name:"ListRecord",components:{Datagrid:Up,Toolbar:wr,ActionBar:ru,CreateRecord:jm,EditRecord:of,Activity:Xn,FilterPane:mh,ColumnSettings:mr},props:{tableId:String},data(){return{selectedRecords:[],selectedRecordsObject:[],multiselect:!0,wrap:!0,recordToClone:null,filter:void 0,isSelectAll:!1}},methods:{updateSidepaneContent(e){this.sidepaneContent=this.sidepaneContent===e?"":e},openCreate(){this.recordToClone=null,this.updateSidepaneContent("create")},openClone(){this.recordToClone=1===this.selectedRecordsObject.length?this.selectedRecordsObject[0]:null,this.updateSidepaneContent("clone")},expandSidepane(){this.isSidepaneExpanded=!0},collapseSidepane(){this.isSidepaneExpanded=!1},goToEdit(){1===this.selectedRecords.length?this.$router.push(`/${this.profile.space}/table/${this.tableId}/record/${this.selectedRecords[0]}`):this.selectedRecords.length>1&&this.$router.push(`/${this.profile.space}/table/${this.tableId}/record/${this.selectedRecords}`)},goToView(){this.$router.push(`/${this.profile.space}/table/${this.tableId}/record/${this.selectedRecords[0]}`)},toggleDenseView(){this.dense=!this.dense},toggleMultiselect(){this.isSelectAll=!1,this.multiselect?(this.selectedRecords.length>1&&(this.selectedRecords=[this.selectedRecords[this.selectedRecords.length-1]]),this.multiselect=!this.multiselect):this.multiselect=!this.multiselect},toggleWrap(){this.wrap=!this.wrap},handleRecordUpdate(e){const a=this.selectedRecordsObject.findIndex((a=>a.id===e.id));this.selectedRecordsObject[a]=e,this.updateSidepaneContent(this.sidepaneContent)},handleRecordToggled(e,a,t=!1){this.isSelectAll=!1,a?!t&&this.selectedRecords.length<=1?(this.selectedRecords=[e.id],this.selectedRecordsObject=[e]):(this.selectedRecords=[...this.selectedRecords,e.id],this.selectedRecordsObject=[...this.selectedRecordsObject,e]):(this.selectedRecords=this.selectedRecords.filter((a=>a!==e.id)),this.selectedRecordsObject=this.selectedRecordsObject.filter((a=>a.id!==e.id)))},handleRecordSelected(e){this.isSelectAll=!1,this.selectedRecords.includes(e.id)?(this.selectedRecords=[],this.selectedRecordsObject=[]):(this.selectedRecords=[e.id],this.selectedRecordsObject=[e])},clearSelectedRecords(){this.selectedRecords=[],this.selectedRecordsObject=[],this.isSelectAll=!1},selectAllRecords(e){this.isSelectAll=!0,this.selectedRecords=e.map((e=>e.id)),this.selectedRecordsObject=e},deleteSelectedRecords(){this.remove({tableId:this.table.id,idList:this.selectedRecords}).then((e=>{Ja.dispatch("deleteRecord",e?.data?.deleteSchemaTableData?.idList),this.selectedRecords=[],this.selectedRecordsObject=[],this.isSelectAll=!1}))},handleApplyFilter(e){this.filter=e},handleClearFilter(){this.filter=null}},setup(e){(0,Ve.yj)();const a=(0,Cl.iH)(!1),t=(0,Cl.iH)(""),l=(0,o.Fl)((()=>`${a.value?"":"sidepane-collapsed"} sidepane-active--${t.value}`)),s=(0,Cl.iH)(!1),i=(0,o.Fl)((()=>Ja.getters.getProfile)),r=(0,o.Fl)((()=>Ja.getters.getTableById(e.tableId))),{mutate:c}=(0,n.Db)(Ln),d=(0,o.Fl)((()=>s.value?(0,uo.q)({marginVertical:3,marginHorizontal:1}):(0,uo.q)({marginVertical:6,marginHorizontal:1})));return{sidepaneContent:t,sidepaneStyle:l,isSidepaneExpanded:a,table:r,profile:i,dense:s,remove:c,datagridSpacingStyle:d}},watch:{selectedRecords(e,a){}}});const hh=(0,T.Z)(fh,[["render",Bn],["__scopeId","data-v-2f39cb74"]]);var bh=hh,gh=(0,o.aZ)({name:"ListRecordView",components:{ListRecord:bh},setup(){const e=(0,v.oR)(),a=(0,Ve.yj)(),t=(0,o.Fl)((()=>e.getters.tableRefToId(a.params.tableRef)));return{tableId:t}}});const vh=(0,T.Z)(gh,[["render",An]]);var kh=vh;function wh(e,a,t,l,n,s){const i=(0,o.up)("ViewRecord");return e.tableId?((0,o.wg)(),(0,o.j4)(i,{key:0,tableId:e.tableId,recordRef:e.$route.params.recordRef},null,8,["tableId","recordRef"])):(0,o.kq)("",!0)}function yh(e,a,t,l,n,s){const i=(0,o.up)("view-record-main");return e.schemaTableDataByReferenceQueryResult?.id?((0,o.wg)(),(0,o.j4)(i,{key:0,tableId:e.tableId,recordId:e.schemaTableDataByReferenceQueryResult?.id},null,8,["tableId","recordId"])):(0,o.kq)("",!0)}const _h=et.ZP`
  query schemaTableDataByReference($tableId: ID!, $reference: Int!) {
    schemaTableDataByReference(tableId: $tableId, reference: $reference) {
      id
      tableId
      row
      reference
      relation
    }
  }
`,Ch=e=>((0,o.dD)("data-v-db6589c0"),e=e(),(0,o.Cn)(),e),Dh={class:"view-record-main"},Sh={key:0},Ih={key:1},Hh=Ch((()=>(0,o._)("div",null,[(0,o._)("div",null,"Comments")],-1)));function Rh(e,a,t,l,n,s){const i=(0,o.up)("view-detail"),r=(0,o.up)("action-bar-edit"),c=(0,o.up)("edit-detail"),d=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)("div",Dh,[e.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Sh,[e.isEdit?((0,o.wg)(),(0,o.iD)("div",Ih,[(0,o.Wm)(r,{onSave:e.handleSubmit,formGroupName:e.formId},null,8,["onSave","formGroupName"]),(0,o.Wm)(c,{onSaved:e.closeEdit,rowData:e.schemaTableDataByIdQueryResult,tableId:e.tableId,formGroupName:e.formId},null,8,["onSaved","rowData","tableId","formGroupName"])])):((0,o.wg)(),(0,o.j4)(i,{key:0,openEdit:e.openEdit,closeEdit:e.closeEdit,columnHeaders:e.columns,rowData:e.schemaTableDataByIdQueryResult},null,8,["openEdit","closeEdit","columnHeaders","rowData"]))])),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[Hh])),_:1})])}const Eh=et.ZP`
  query schemaTableDataById($tableId: ID!, $id: ID!) {
    schemaTableDataById(tableId: $tableId, id: $id) {
      id
      tableId
      row
      reference
      relation
    }
  }
`,Th={class:"view-record-detail"},xh={class:"view-record-detail__item__label"},$h={class:"view-record-detail__item__value"};function qh(e,a,t,l,n,s){const i=(0,o.up)("action-bar-view"),r=(0,o.up)("datatype-view"),c=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i,{openEdit:e.openEdit},null,8,["openEdit"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",Th,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columnHeaders,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"view-record-detail__item",key:`${a.id}-${t}`},[(0,o._)("div",xh,(0,p.zw)(a.name),1),(0,o._)("div",$h,[(0,o.Wm)(r,{rowData:e.rowData,cellHeader:a},null,8,["rowData","cellHeader"])])])))),128))])])])),_:1})],64)}const Fh={key:0,class:"data-cell"},Ah={key:1,class:"data-cell"},jh={key:2,class:"data-cell"},Oh={key:3,class:"data-cell"},Nh={key:4,class:"data-cell"},Zh={key:5,class:"data-cell"},Bh={key:6,class:"data-cell"},Lh={key:7,class:"data-cell"},Gh={key:8,class:"data-cell"};function Ph(e,a,t,l,n,s){const i=(0,o.up)("text-view-datatype"),r=(0,o.up)("number-view-datatype"),c=(0,o.up)("date-view-datatype"),d=(0,o.up)("list-view-datatype"),u=(0,o.up)("relation-view-datatype"),m=(0,o.up)("user-view-datatype"),f=(0,o.up)("percentage-view-datatype"),h=(0,o.up)("computed-view-datatype");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.rowData?.row&&"text"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Fh,[(0,o.Wm)(i,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"number"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Ah,[(0,o.Wm)(r,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"date"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",jh,[(0,o.Wm)(c,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"list"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Oh,[(0,o.Wm)(d,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"relation"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Nh,[(0,o.Wm)(u,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"user"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Zh,[(0,o.Wm)(m,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"percentage"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Bh,[(0,o.Wm)(f,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),e.rowData?.row&&"computed"===e.cellHeader.datatype?((0,o.wg)(),(0,o.iD)("div",Lh,[(0,o.Wm)(h,{rowData:e.rowData,cellHeader:e.cellHeader},null,8,["rowData","cellHeader"])])):(0,o.kq)("",!0),["text","number","date","list","relation","user","percentage","computed"].includes(e.cellHeader.datatype)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Gh," datatype ("+(0,p.zw)(e.cellHeader.datatype)+") not supported ",1))],64)}var Wh=(0,o.aZ)({name:"DatatypeView",components:{TextViewDatatype:Bc,NumberViewDatatype:Kc,DateViewDatatype:od,RelationViewDatatype:xc,ListViewDatatype:wc,UserViewDatatype:hd,PercentageViewDatatype:Id,ComputedViewDatatype:Ad},props:{rowData:Object,cellHeader:Object}});const Vh=(0,T.Z)(Wh,[["render",Ph],["__scopeId","data-v-5ac66829"]]);var zh=Vh;const Uh={class:"app-action-bar"},Mh=(0,o.Uk)("Edit"),Kh=(0,o.Uk)("Clone"),Yh=(0,o.Uk)("Save"),Qh=(0,o.Uk)("Cancel"),Xh=(0,o.Uk)("Delete");function Jh(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("app-section");return(0,o.wg)(),(0,o.j4)(r,{subtle:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",Uh,[(0,o._)("div",null,[e.isEdit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("oak-button",{key:0,theme:"primary",variant:"regular",shape:"sharp",onButtonClick:a[0]||(a[0]=(...a)=>e.openEdit&&e.openEdit(...a))},[(0,o.Wm)(i,{icon:["fas","pencil-alt"]}),Mh],32)),e.isEdit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("oak-button",{key:1,theme:"primary",variant:"appear",shape:"sharp",onButtonClick:a[1]||(a[1]=(...a)=>e.openEdit&&e.openEdit(...a))},[(0,o.Wm)(i,{icon:["fas","clone"]}),Kh],32)),e.isEdit?((0,o.wg)(),(0,o.iD)("oak-button",{key:2,theme:"primary",variant:"regular",shape:"sharp",onButtonClick:a[2]||(a[2]=(...a)=>e.closeEdit&&e.closeEdit(...a))},[(0,o.Wm)(i,{icon:["fas","check"]}),Yh],32)):(0,o.kq)("",!0),e.isEdit?((0,o.wg)(),(0,o.iD)("oak-button",{key:3,theme:"default",variant:"appear",shape:"sharp",onButtonClick:a[3]||(a[3]=(...a)=>e.closeEdit&&e.closeEdit(...a))},[(0,o.Wm)(i,{icon:["fas","times"]}),Qh],32)):(0,o.kq)("",!0),e.isEdit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("oak-button",{key:4,theme:"danger",variant:"appear",shape:"sharp",onButtonClick:a[4]||(a[4]=(...a)=>e.goBack&&e.goBack(...a))},[(0,o.Wm)(i,{icon:["fas","trash-alt"]}),Xh],32))])])])])),_:1})}var eb=(0,o.aZ)({name:"ActionBarView",props:{isEdit:Boolean,closeEdit:Function,openEdit:Function},components:{AppSection:tl},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}},methods:{goBack(){this.$router.back()}}});const ab=(0,T.Z)(eb,[["render",Jh]]);var tb=ab,lb=(0,o.aZ)({name:"ViewDetail",components:{DatatypeView:zh,AppSection:tl,ActionBarView:tb},props:{columnHeaders:Array,rowData:Object,openEdit:Function}});const ob=(0,T.Z)(lb,[["render",qh],["__scopeId","data-v-9494892c"]]);var nb=ob;const sb={class:"app-action-bar"},ib=["formGroupName"],rb=(0,o.Uk)("Save"),cb=(0,o.Uk)("Cancel");function db(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("app-section");return(0,o.wg)(),(0,o.j4)(r,{subtle:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",sb,[(0,o._)("div",null,[(0,o._)("oak-button",{type:"submit",formGroupName:e.formGroupName,theme:"primary",variant:"regular",shape:"sharp",onButtonClick:a[0]||(a[0]=a=>e.$emit("save"))},[(0,o.Wm)(i,{icon:["fas","check"]}),rb],40,ib),(0,o._)("oak-button",{theme:"default",variant:"appear",shape:"sharp",onButtonClick:a[1]||(a[1]=(...a)=>e.closeEdit&&e.closeEdit(...a))},[(0,o.Wm)(i,{icon:["fas","times"]}),cb],32)])])])])),_:1})}var pb=(0,o.aZ)({name:"ActionBarEdit",props:{isEdit:Boolean,closeEdit:Function,openEdit:Function,formGroupName:String},components:{AppSection:tl},computed:{headerSpacingStyle(){return(0,uo.q)({marginVertical:0,marginHorizontal:2})}},methods:{goBack(){this.$router.back()}}});const ub=(0,T.Z)(pb,[["render",db]]);var mb=ub,fb=(0,o.aZ)({name:"ViewRecordMain",computed:{...(0,v.Se)(["getProfile","getColumnByTable"]),columns(){return this.getColumnByTable(this.tableId)},mainSectionStyle(){return(0,Jt.q)({outlineColor:"none",elevation:1,fillColor:"container",marginHorizontal:0,marginVertical:0,paddingHorizontal:3,paddingVertical:3})},mainSpacingStyle(){return(0,uo.q)({marginHorizontal:4})}},data(){return{isEdit:!1,formId:(0,lo.Z)()}},components:{ViewDetail:nb,EditDetail:Um,AppSection:tl,ActionBarEdit:mb},props:{tableId:String,recordId:String},methods:{goBack(){this.$router.back()},openEdit(){this.isEdit=!0},closeEdit(){this.isEdit=!1}},setup(e){const a=(0,Cl.BK)(e),t=(0,n.aM)(Eh,{tableId:a.tableId,id:a.recordId||""}),l=(0,n.pc)(t.result);return{schemaTableDataByIdQueryResult:l,schemaTableDataByIdQueryOutput:t,loading:t.loading}}});const hb=(0,T.Z)(fb,[["render",Rh],["__scopeId","data-v-db6589c0"]]);var bb=hb,gb=(0,o.aZ)({name:"ViewRecord",computed:{...(0,v.Se)(["getProfile"]),mainSectionStyle(){return(0,Jt.q)({outlineColor:"none",elevation:1,fillColor:"container",marginHorizontal:0,marginVertical:0,paddingHorizontal:3,paddingVertical:3})},mainSpacingStyle(){return(0,uo.q)({marginHorizontal:4})}},data(){return{isEdit:!1}},components:{ViewRecordMain:bb},props:{tableId:String,recordRef:String},methods:{goBack(){this.$router.back()},openEdit(){this.isEdit=!0},closeEdit(){this.isEdit=!1}},setup(e){const a=(0,n.aM)(_h,(0,Cl.iH)({tableId:e.tableId,reference:Number(e.recordRef)})),t=(0,n.pc)(a.result);return{schemaTableDataByReferenceQueryResult:t,loading:a.loading}}});const vb=(0,T.Z)(gb,[["render",yh],["__scopeId","data-v-7a260948"]]);var kb=vb,wb=(0,o.aZ)({name:"ViewRecordView",components:{ViewRecord:kb},setup(){const e=(0,v.oR)(),a=(0,Ve.yj)(),t=(0,o.Fl)((()=>e.getters.tableRefToId(a.params.tableRef)));return{tableId:t}}});const yb=(0,T.Z)(wb,[["render",wh]]);var _b=yb,Cb=(0,o.aZ)({name:"SpaceHomeView",mounted(){this.$router.push({name:"ListSchemaView"})}});const Db=Cb;var Sb=Db;const Ib={class:"app-toolbar-action-container"},Hb={class:"app-toolbar-action app-toolbar-action--primary"},Rb=(0,o.Uk)("Generate "),Eb={class:"swatch-generator"},Tb={class:"swatch-generator__form"},xb=["value"],$b=["value"],qb=["value"],Fb=["value"],Ab=["value"],jb=["value"],Ob=["value"],Nb=["value"],Zb=["value"],Bb=["value"],Lb=["value"],Gb=["value"],Pb=["value"],Wb=["value"];function Vb(e,a,t,l,n,s){const i=(0,o.up)("font-awesome-icon"),r=(0,o.up)("swatch"),c=(0,o.up)("app-section");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(),(0,o.j4)(o.lR,{to:"#toolbar-left"},[(0,o._)("div",Ib,[(0,o._)("oak-click-area",{onClickAreaClick:a[0]||(a[0]=(...e)=>s.generateSwatch&&s.generateSwatch(...e))},[(0,o._)("div",Hb,[(0,o.Wm)(i,{icon:["fas","check"]}),Rb])],32)])])),(0,o._)("div",Eb,[(0,o.Wm)(c,{subtle:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{value:"1"}),(0,o._)("div",Tb,[(0,o._)("oak-input",{type:"number",name:"s1",value:n.s1,onInputInput:a[1]||(a[1]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 1"},null,40,xb),(0,o._)("oak-input",{type:"number",name:"s2",value:n.s2,onInputInput:a[2]||(a[2]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 2"},null,40,$b),(0,o._)("oak-input",{type:"number",name:"s3",value:n.s3,onInputInput:a[3]||(a[3]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 3"},null,40,qb),(0,o._)("oak-input",{type:"number",name:"s4",value:n.s4,onInputInput:a[4]||(a[4]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 4"},null,40,Fb),(0,o._)("oak-input",{type:"number",name:"s5",value:n.s5,onInputInput:a[5]||(a[5]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 5"},null,40,Ab),(0,o._)("oak-input",{type:"number",name:"s6",value:n.s6,onInputInput:a[6]||(a[6]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 6"},null,40,jb),(0,o._)("oak-input",{type:"number",name:"s7",value:n.s7,onInputInput:a[7]||(a[7]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Saturation 7"},null,40,Ob),(0,o._)("oak-input",{type:"number",name:"l1",value:n.l1,onInputInput:a[8]||(a[8]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 1"},null,40,Nb),(0,o._)("oak-input",{type:"number",name:"l2",value:n.l2,onInputInput:a[9]||(a[9]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 2"},null,40,Zb),(0,o._)("oak-input",{type:"number",name:"l3",value:n.l3,onInputInput:a[10]||(a[10]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 3"},null,40,Bb),(0,o._)("oak-input",{type:"number",name:"l4",value:n.l4,onInputInput:a[11]||(a[11]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 4"},null,40,Lb),(0,o._)("oak-input",{type:"number",name:"l5",value:n.l5,onInputInput:a[12]||(a[12]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 5"},null,40,Gb),(0,o._)("oak-input",{type:"number",name:"l6",value:n.l6,onInputInput:a[13]||(a[13]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 6"},null,40,Pb),(0,o._)("oak-input",{type:"number",name:"l7",value:n.l7,onInputInput:a[14]||(a[14]=(...e)=>s.handleChange&&s.handleChange(...e)),label:"Luminance 7"},null,40,Wb)]),(0,o.Uk)(" "+(0,p.zw)(n.generatedCss),1)])),_:1})])],64)}var zb=t(7621),Ub=t.n(zb),Mb={name:"SwatchGenerator",props:{value:String},components:{Swatch:Bs,AppSection:tl},data(){return{generatedCss:"",track:[],s1:20,l1:30,s2:30,l2:40,s3:40,l3:50,s4:50,l4:60,s5:60,l5:70,s6:70,l6:80,s7:80,l7:90}},methods:{handleChange(e){this[e.detail.name]=e.detail.value},generateSwatch(){const e=[];let a=0;while(a<14){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s1}%`,`${this.l1}%`);e.push(t),console.log(a),a+=1}while(a<28){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s2}%`,`${this.l2}%`);e.push(t),console.log(a),a+=1}while(a<42){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s3}%`,`${this.l3}%`);e.push(t),console.log(a),a+=1}while(a<56){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s4}%`,`${this.l4}%`);e.push(t),console.log(a),a+=1}while(a<70){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s5}%`,`${this.l5}%`);e.push(t),console.log(a),a+=1}while(a<84){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s6}%`,`${this.l6}%`);e.push(t),console.log(a),a+=1}while(a<98){const t=this.getNewColorUsingGoldenAngle(a+1,`${this.s7}%`,`${this.l7}%`);e.push(t),console.log(a),a+=1}let t="",l="";e.forEach(((e,a)=>{t+=`.app-swatch-bg-${a+1} {`,t+=`background-color: ${e.bgDark};}`,t+=`.app-swatch-bg-i-${a+1} {`,t+=`color: ${e.bgDark};}`,t+=`.app-swatch-fg-${a+1} {`,t+=`color: ${e.fgDark};}`,t+=`.app-swatch-outline-${a+1} {`,t+=`border: 1px solid ${e.bgDark};}`,l+=`.app-swatch-bg-${a+1} {`,l+=`background-color: ${e.bgLight};}`,l+=`.app-swatch-bg-i-${a+1} {`,l+=`color: ${e.bgLight};}`,l+=`.app-swatch-fg-${a+1} {`,l+=`color: ${e.fgLight};}`,l+=`.app-swatch-outline-${a+1} {`,l+=`border: 1px solid ${e.bgLight};}`})),this.generatedCss=`.theme_dark {${t}} .theme_light {${l}} `,navigator.clipboard.writeText(this.generatedCss).then((()=>console.log("copied")))},getNewColor(){let e="",a="",t="",l="";const o=Ub().random();return o.getLuminance>.8?this.getNewColor():(o.isDark()?(a=o.clone().lighten(10).desaturate(10),e=o):(a=o.desaturate(10),e=o.clone().darken(10)),t="#000",l="#000",e.isDark()&&(t="#fff"),a.isDark()&&(l="#fff"),{bgDark:e.toHexString(),fgDark:t,bgLight:a.toHexString(),fgLight:l})},getNewColorUsingGoldenAngle(e,a,t){let l="",o="",n="",s="",i=137*e;i>360&&(i%=360);let r=e;r>14&&(r%=14);const c=Ub()(`hsl(${r*(360/14)}, ${a}, ${t})`);return c.isDark()?(o=c,l=c.clone().lighten(10)):(o=c.clone().darken(10),l=c),n="#000",s="#000",l.isDark()&&(n="#fff"),o.isDark()&&(s="#fff"),{bgDark:l.toHexString(),fgDark:n,bgLight:o.toHexString(),fgLight:s}}}};const Kb=(0,T.Z)(Mb,[["render",Vb],["__scopeId","data-v-18842110"]]);var Yb=Kb;const Qb=et.ZP`
  query authorizeUser($accessToken: String, $refreshToken: String) {
    authorizeUser(accessToken: $accessToken, refreshToken: $refreshToken) {
      accessToken
      claims
    }
  }
`,Xb=(e,a,t,l)=>{wt.query({query:Qb,variables:{accessToken:t,refreshToken:l}}).then((l=>{if(l?.data?.authorizeUser){let o=t;l.data.authorizeUser.accessToken&&(o=l.data.authorizeUser.accessToken,ml(`janus_${a}-access_token`,o)),Ja.dispatch("addAuth",{auth:{...l.data.authorizeUser.claims,accessToken:o,isAuth:!0}}),e()}else fl(a)})).catch((e=>{fl(a)}))};function Jb(e,a,t){const l=a[t];return l?()=>{const o=Jb(e,a,t+1);l({...e,next:o,nextVue:e.next})}:e.next}function eg({to:e,from:a,next:t,nextVue:l}){if(Ja.getters.getProfile.auth.isAuth)t();else{const a=ul(`janus_${e.params.space}-access_token`),l=ul(`janus_${e.params.space}-refresh_token`);a&&l?Xb(t,e.params.space,a,l):fl(e.params.space)}}function ag({to:e,from:a,next:t,nextVue:l}){Ja.dispatch("setSpace",e.params.space),t()}function tg({to:e,from:a,next:t,nextVue:l}){tt.next({reference:e.params.schemaRef}),Ja.dispatch("setSchema",e.params.schemaRef),t()}function lg({to:e,from:a,next:t,nextVue:l}){Ja.dispatch("setTable",e.params.tableRef),t()}const og=[{path:"/",name:"Home",component:pl},{path:"/login",name:"Login",component:gl},{path:"/:space/swatch",name:"SwatchGenerator",component:Yb,meta:{context:"schema",middleware:[ag,eg]}},{path:"/:space",name:"SpaceHomeView",component:Sb,meta:{context:"space",middleware:[ag,eg]}},{path:"/:space/schema",name:"ListSchemaView",component:$o,meta:{context:"space",middleware:[ag,eg]}},{path:"/:space/schema/:schemaRef",name:"ListTableView",component:Fn,meta:{context:"schema",middleware:[ag,tg,eg]}},{path:"/:space/schema/:schemaRef/table/:tableRef",name:"ListRecordView",component:kh,meta:{context:"table",middleware:[ag,tg,lg,eg]}},{path:"/:space/schema/:schemaRef/table/:tableRef/record/:recordRef",name:"ViewRecordView",component:_b,meta:{context:"table",middleware:[ag,tg,lg,eg]}}],ng=(0,Ve.p7)({history:(0,Ve.r5)("/"),routes:og});ng.beforeEach(((e,a,t)=>{if(!e.meta.middleware)return t();const l=[...e.meta.middleware],o={to:e,from:a,next:t};return l[0]({...o,next:Jb(o,l,1),nextVue:o.next})}));var sg=ng;t(7924);s.vI.add(r.mRB),s.vI.add(c.NC),s.vI.add(d.vnX);const ig=(0,l.ri)({setup(){(0,o.JJ)(n.Gk,wt)},render(){return(0,o.h)(Ot)}});ig.component("font-awesome-icon",i.GN),ig.config.isCustomElement=e=>!!e.startsWith("oak-"),ig.use(Ja).use(sg).mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var n=a[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,n){if(!l){var s=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],n=e[d][2];for(var i=!0,r=0;r<l.length;r++)(!1&n||s>=n)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(i=!1,n<s&&(s=n));if(i){e.splice(d--,1);var c=o();void 0!==c&&(a=c)}}return a}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,n,s=l[0],i=l[1],r=l[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(r)var d=r(t)}for(a&&a(l);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},l=self["webpackChunkjanus"]=self["webpackChunkjanus"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(38)}));l=t.O(l)})();
//# sourceMappingURL=app.0e179c4e.js.map